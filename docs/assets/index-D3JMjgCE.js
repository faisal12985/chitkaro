(function(){"use strict";var ep=document.createElement("style");ep.textContent=`*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}*{box-sizing:border-box}body{background-color:#f9fafb;color:#111827;font-family:system-ui,-apple-system,sans-serif;margin:0;padding:0}html{scroll-behavior:smooth;height:100%}#root{height:100%}.chat-item.active{border-left-width:4px;--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.avatar{border-radius:9999px;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(255 255 255 / var(--tw-ring-opacity, 1));transition:transform .2s ease-in-out}.avatar:hover{transform:scale(1.05)}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.bottom-0{bottom:0}.bottom-8{bottom:2rem}.left-1\\/2{left:50%}.left-4{left:1rem}.right-0{right:0}.right-4{right:1rem}.top-4{top:1rem}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mr-2{margin-right:.5rem}.mt-1{margin-top:.25rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.block{display:block}.flex{display:flex}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-20{height:5rem}.h-3{height:.75rem}.h-36{height:9rem}.h-5{height:1.25rem}.h-8{height:2rem}.h-full{height:100%}.h-screen{height:100vh}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-12{width:3rem}.w-16{width:4rem}.w-20{width:5rem}.w-3{width:.75rem}.w-48{width:12rem}.w-5{width:1.25rem}.w-8{width:2rem}.w-80{width:20rem}.w-full{width:100%}.min-w-0{min-width:0px}.max-w-md{max-width:28rem}.max-w-sm{max-width:24rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1 0%}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.rounded-l-lg{border-top-left-radius:.5rem;border-bottom-left-radius:.5rem}.rounded-r-lg{border-top-right-radius:.5rem;border-bottom-right-radius:.5rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-blue-600{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-pink-200{--tw-border-opacity: 1;border-color:rgb(251 207 232 / var(--tw-border-opacity, 1))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-400{--tw-bg-opacity: 1;background-color:rgb(74 222 128 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-pink-50{--tw-bg-opacity: 1;background-color:rgb(253 242 248 / var(--tw-bg-opacity, 1))}.bg-pink-500{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-75{--tw-bg-opacity: .75}.bg-opacity-95{--tw-bg-opacity: .95}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-blue-400{--tw-gradient-from: #60a5fa var(--tw-gradient-from-position);--tw-gradient-to: rgb(96 165 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-500{--tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-400{--tw-gradient-from: #4ade80 var(--tw-gradient-from-position);--tw-gradient-to: rgb(74 222 128 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-500{--tw-gradient-from: #22c55e var(--tw-gradient-from-position);--tw-gradient-to: rgb(34 197 94 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-pink-50{--tw-gradient-from: #fdf2f8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(253 242 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-pink-500{--tw-gradient-from: #ec4899 var(--tw-gradient-from-position);--tw-gradient-to: rgb(236 72 153 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-400{--tw-gradient-from: #c084fc var(--tw-gradient-from-position);--tw-gradient-to: rgb(192 132 252 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-500{--tw-gradient-from: #a855f7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-pink-500{--tw-gradient-to: rgb(236 72 153 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #ec4899 var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-purple-500{--tw-gradient-to: rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #a855f7 var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-blue-500{--tw-gradient-to: #3b82f6 var(--tw-gradient-to-position)}.to-blue-600{--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.to-indigo-100{--tw-gradient-to: #e0e7ff var(--tw-gradient-to-position)}.to-pink-500{--tw-gradient-to: #ec4899 var(--tw-gradient-to-position)}.to-pink-600{--tw-gradient-to: #db2777 var(--tw-gradient-to-position)}.to-purple-50{--tw-gradient-to: #faf5ff var(--tw-gradient-to-position)}.to-purple-600{--tw-gradient-to: #9333ea var(--tw-gradient-to-position)}.to-red-500{--tw-gradient-to: #ef4444 var(--tw-gradient-to-position)}.object-cover{-o-object-fit:cover;object-fit:cover}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-6xl{font-size:3.75rem;line-height:1}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.tracking-wide{letter-spacing:.025em}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-pink-100{--tw-text-opacity: 1;color:rgb(252 231 243 / var(--tw-text-opacity, 1))}.text-pink-600{--tw-text-opacity: 1;color:rgb(219 39 119 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\\/70{color:#ffffffb3}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.opacity-75{opacity:.75}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#f1f5f9}::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#94a3b8}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}@keyframes slideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes typingBounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1);opacity:1}}@keyframes pulse{0%{box-shadow:0 0 #22c55eb3}70%{box-shadow:0 0 0 10px #22c55e00}to{box-shadow:0 0 #22c55e00}}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-600:hover{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-600:hover{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.hover\\:bg-pink-100:hover{--tw-bg-opacity: 1;background-color:rgb(252 231 243 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\\:from-green-500:hover{--tw-gradient-from: #22c55e var(--tw-gradient-from-position);--tw-gradient-to: rgb(34 197 94 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:from-green-600:hover{--tw-gradient-from: #16a34a var(--tw-gradient-from-position);--tw-gradient-to: rgb(22 163 74 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:from-pink-600:hover{--tw-gradient-from: #db2777 var(--tw-gradient-from-position);--tw-gradient-to: rgb(219 39 119 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:from-purple-600:hover{--tw-gradient-from: #9333ea var(--tw-gradient-from-position);--tw-gradient-to: rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:to-blue-600:hover{--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.hover\\:to-blue-700:hover{--tw-gradient-to: #1d4ed8 var(--tw-gradient-to-position)}.hover\\:to-pink-700:hover{--tw-gradient-to: #be185d var(--tw-gradient-to-position)}.hover\\:to-purple-700:hover{--tw-gradient-to: #7e22ce var(--tw-gradient-to-position)}.hover\\:text-pink-200:hover{--tw-text-opacity: 1;color:rgb(251 207 232 / var(--tw-text-opacity, 1))}.focus\\:border-transparent:focus{border-color:transparent}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-pink-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(236 72 153 / var(--tw-ring-opacity, 1))}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}@media (min-width: 1024px){.lg\\:max-w-md{max-width:28rem}}
/*$vite$:1*/`,document.head.appendChild(ep);var jc={exports:{}},Wo={},zc={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function vw(){if(tp)return Re;tp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function k(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,J={};function W(D,$,ce){this.props=D,this.context=$,this.refs=J,this.updater=ce||z}W.prototype.isReactComponent={},W.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function fe(){}fe.prototype=W.prototype;function ge(D,$,ce){this.props=D,this.context=$,this.refs=J,this.updater=ce||z}var ve=ge.prototype=new fe;ve.constructor=ge,Q(ve,W.prototype),ve.isPureReactComponent=!0;var Pe=Array.isArray,Qe=Object.prototype.hasOwnProperty,ke={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(D,$,ce){var Ae,Se={},Ce=null,Fe=null;if($!=null)for(Ae in $.ref!==void 0&&(Fe=$.ref),$.key!==void 0&&(Ce=""+$.key),$)Qe.call($,Ae)&&!N.hasOwnProperty(Ae)&&(Se[Ae]=$[Ae]);var Le=arguments.length-2;if(Le===1)Se.children=ce;else if(1<Le){for(var $e=Array(Le),vt=0;vt<Le;vt++)$e[vt]=arguments[vt+2];Se.children=$e}if(D&&D.defaultProps)for(Ae in Le=D.defaultProps,Le)Se[Ae]===void 0&&(Se[Ae]=Le[Ae]);return{$$typeof:i,type:D,key:Ce,ref:Fe,props:Se,_owner:ke.current}}function A(D,$){return{$$typeof:i,type:D.type,key:$,ref:D.ref,props:D.props,_owner:D._owner}}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function b(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return $[ce]})}var V=/\/+/g;function S(D,$){return typeof D=="object"&&D!==null&&D.key!=null?b(""+D.key):$.toString(36)}function Ze(D,$,ce,Ae,Se){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var Fe=!1;if(D===null)Fe=!0;else switch(Ce){case"string":case"number":Fe=!0;break;case"object":switch(D.$$typeof){case i:case e:Fe=!0}}if(Fe)return Fe=D,Se=Se(Fe),D=Ae===""?"."+S(Fe,0):Ae,Pe(Se)?(ce="",D!=null&&(ce=D.replace(V,"$&/")+"/"),Ze(Se,$,ce,"",function(vt){return vt})):Se!=null&&(x(Se)&&(Se=A(Se,ce+(!Se.key||Fe&&Fe.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+D)),$.push(Se)),1;if(Fe=0,Ae=Ae===""?".":Ae+":",Pe(D))for(var Le=0;Le<D.length;Le++){Ce=D[Le];var $e=Ae+S(Ce,Le);Fe+=Ze(Ce,$,ce,$e,Se)}else if($e=k(D),typeof $e=="function")for(D=$e.call(D),Le=0;!(Ce=D.next()).done;)Ce=Ce.value,$e=Ae+S(Ce,Le++),Fe+=Ze(Ce,$,ce,$e,Se);else if(Ce==="object")throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Fe}function _t(D,$,ce){if(D==null)return D;var Ae=[],Se=0;return Ze(D,Ae,"","",function(Ce){return $.call(ce,Ce,Se++)}),Ae}function It(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var Oe={current:null},ee={transition:null},he={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ke};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:_t,forEach:function(D,$,ce){_t(D,function(){$.apply(this,arguments)},ce)},count:function(D){var $=0;return _t(D,function(){$++}),$},toArray:function(D){return _t(D,function($){return $})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=W,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=ge,Re.StrictMode=s,Re.Suspense=y,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Re.act=ne,Re.cloneElement=function(D,$,ce){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ae=Q({},D.props),Se=D.key,Ce=D.ref,Fe=D._owner;if($!=null){if($.ref!==void 0&&(Ce=$.ref,Fe=ke.current),$.key!==void 0&&(Se=""+$.key),D.type&&D.type.defaultProps)var Le=D.type.defaultProps;for($e in $)Qe.call($,$e)&&!N.hasOwnProperty($e)&&(Ae[$e]=$[$e]===void 0&&Le!==void 0?Le[$e]:$[$e])}var $e=arguments.length-2;if($e===1)Ae.children=ce;else if(1<$e){Le=Array($e);for(var vt=0;vt<$e;vt++)Le[vt]=arguments[vt+2];Ae.children=Le}return{$$typeof:i,type:D.type,key:Se,ref:Ce,props:Ae,_owner:Fe}},Re.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:u,_context:D},D.Consumer=D},Re.createElement=T,Re.createFactory=function(D){var $=T.bind(null,D);return $.type=D,$},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=x,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:It}},Re.memo=function(D,$){return{$$typeof:_,type:D,compare:$===void 0?null:$}},Re.startTransition=function(D){var $=ee.transition;ee.transition={};try{D()}finally{ee.transition=$}},Re.unstable_act=ne,Re.useCallback=function(D,$){return Oe.current.useCallback(D,$)},Re.useContext=function(D){return Oe.current.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D){return Oe.current.useDeferredValue(D)},Re.useEffect=function(D,$){return Oe.current.useEffect(D,$)},Re.useId=function(){return Oe.current.useId()},Re.useImperativeHandle=function(D,$,ce){return Oe.current.useImperativeHandle(D,$,ce)},Re.useInsertionEffect=function(D,$){return Oe.current.useInsertionEffect(D,$)},Re.useLayoutEffect=function(D,$){return Oe.current.useLayoutEffect(D,$)},Re.useMemo=function(D,$){return Oe.current.useMemo(D,$)},Re.useReducer=function(D,$,ce){return Oe.current.useReducer(D,$,ce)},Re.useRef=function(D){return Oe.current.useRef(D)},Re.useState=function(D){return Oe.current.useState(D)},Re.useSyncExternalStore=function(D,$,ce){return Oe.current.useSyncExternalStore(D,$,ce)},Re.useTransition=function(){return Oe.current.useTransition()},Re.version="18.3.1",Re}var np;function Bc(){return np||(np=1,zc.exports=vw()),zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function ww(){if(rp)return Wo;rp=1;var i=Bc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,_){var E,C={},k=null,z=null;_!==void 0&&(k=""+_),y.key!==void 0&&(k=""+y.key),y.ref!==void 0&&(z=y.ref);for(E in y)s.call(y,E)&&!u.hasOwnProperty(E)&&(C[E]=y[E]);if(m&&m.defaultProps)for(E in y=m.defaultProps,y)C[E]===void 0&&(C[E]=y[E]);return{$$typeof:e,type:m,key:k,ref:z,props:C,_owner:o.current}}return Wo.Fragment=t,Wo.jsx=h,Wo.jsxs=h,Wo}var ip;function Ew(){return ip||(ip=1,jc.exports=ww()),jc.exports}var F=Ew(),je=Bc(),vl={},$c={exports:{}},Zt={},qc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function Tw(){return sp||(sp=1,function(i){function e(ee,he){var ne=ee.length;ee.push(he);e:for(;0<ne;){var D=ne-1>>>1,$=ee[D];if(0<o($,he))ee[D]=he,ee[ne]=$,ne=D;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var he=ee[0],ne=ee.pop();if(ne!==he){ee[0]=ne;e:for(var D=0,$=ee.length,ce=$>>>1;D<ce;){var Ae=2*(D+1)-1,Se=ee[Ae],Ce=Ae+1,Fe=ee[Ce];if(0>o(Se,ne))Ce<$&&0>o(Fe,Se)?(ee[D]=Fe,ee[Ce]=ne,D=Ce):(ee[D]=Se,ee[Ae]=ne,D=Ae);else if(Ce<$&&0>o(Fe,ne))ee[D]=Fe,ee[Ce]=ne,D=Ce;else break e}}return he}function o(ee,he){var ne=ee.sortIndex-he.sortIndex;return ne!==0?ne:ee.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],_=[],E=1,C=null,k=3,z=!1,Q=!1,J=!1,W=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(ee){for(var he=t(_);he!==null;){if(he.callback===null)s(_);else if(he.startTime<=ee)s(_),he.sortIndex=he.expirationTime,e(y,he);else break;he=t(_)}}function Pe(ee){if(J=!1,ve(ee),!Q)if(t(y)!==null)Q=!0,It(Qe);else{var he=t(_);he!==null&&Oe(Pe,he.startTime-ee)}}function Qe(ee,he){Q=!1,J&&(J=!1,fe(T),T=-1),z=!0;var ne=k;try{for(ve(he),C=t(y);C!==null&&(!(C.expirationTime>he)||ee&&!b());){var D=C.callback;if(typeof D=="function"){C.callback=null,k=C.priorityLevel;var $=D(C.expirationTime<=he);he=i.unstable_now(),typeof $=="function"?C.callback=$:C===t(y)&&s(y),ve(he)}else s(y);C=t(y)}if(C!==null)var ce=!0;else{var Ae=t(_);Ae!==null&&Oe(Pe,Ae.startTime-he),ce=!1}return ce}finally{C=null,k=ne,z=!1}}var ke=!1,N=null,T=-1,A=5,x=-1;function b(){return!(i.unstable_now()-x<A)}function V(){if(N!==null){var ee=i.unstable_now();x=ee;var he=!0;try{he=N(!0,ee)}finally{he?S():(ke=!1,N=null)}}else ke=!1}var S;if(typeof ge=="function")S=function(){ge(V)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,_t=Ze.port2;Ze.port1.onmessage=V,S=function(){_t.postMessage(null)}}else S=function(){W(V,0)};function It(ee){N=ee,ke||(ke=!0,S())}function Oe(ee,he){T=W(function(){ee(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){Q||z||(Q=!0,It(Qe))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return t(y)},i.unstable_next=function(ee){switch(k){case 1:case 2:case 3:var he=3;break;default:he=k}var ne=k;k=he;try{return ee()}finally{k=ne}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=k;k=ee;try{return he()}finally{k=ne}},i.unstable_scheduleCallback=function(ee,he,ne){var D=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?D+ne:D):ne=D,ee){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ne+$,ee={id:E++,callback:he,priorityLevel:ee,startTime:ne,expirationTime:$,sortIndex:-1},ne>D?(ee.sortIndex=ne,e(_,ee),t(y)===null&&ee===t(_)&&(J?(fe(T),T=-1):J=!0,Oe(Pe,ne-D))):(ee.sortIndex=$,e(y,ee),Q||z||(Q=!0,It(Qe))),ee},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(ee){var he=k;return function(){var ne=k;k=he;try{return ee.apply(this,arguments)}finally{k=ne}}}}(Hc)),Hc}var op;function Iw(){return op||(op=1,qc.exports=Tw()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function Sw(){if(ap)return Zt;ap=1;var i=Bc(),e=Iw();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(o[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function k(n){return y.call(C,n)?!0:y.call(E,n)?!1:_.test(n)?C[n]=!0:(E[n]=!0,!1)}function z(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Q(n,r,a,c){if(r===null||typeof r>"u"||z(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function J(n,r,a,c,d,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){W[n]=new J(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];W[r]=new J(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){W[n]=new J(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){W[n]=new J(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){W[n]=new J(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){W[n]=new J(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){W[n]=new J(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){W[n]=new J(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){W[n]=new J(n,5,!1,n.toLowerCase(),null,!1,!1)});var fe=/[\-:]([a-z])/g;function ge(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(fe,ge);W[r]=new J(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(fe,ge);W[r]=new J(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(fe,ge);W[r]=new J(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){W[n]=new J(n,1,!1,n.toLowerCase(),null,!1,!1)}),W.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){W[n]=new J(n,1,!1,n.toLowerCase(),null,!0,!0)});function ve(n,r,a,c){var d=W.hasOwnProperty(r)?W[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Q(r,a,d,c)&&(a=null),c||d===null?k(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var Pe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qe=Symbol.for("react.element"),ke=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),ee=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,D;function $(n){if(D===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+n}var ce=!1;function Ae(n,r){if(!n||ce)return"";ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var c=U}Reflect.construct(n,[],r)}else{try{r.call()}catch(U){c=U}n.call(r.prototype)}else{try{throw Error()}catch(U){c=U}n()}}catch(U){if(U&&c&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),p=c.stack.split(`
`),v=d.length-1,I=p.length-1;1<=v&&0<=I&&d[v]!==p[I];)I--;for(;1<=v&&0<=I;v--,I--)if(d[v]!==p[I]){if(v!==1||I!==1)do if(v--,I--,0>I||d[v]!==p[I]){var R=`
`+d[v].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=v&&0<=I);break}}}finally{ce=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?$(n):""}function Se(n){switch(n.tag){case 5:return $(n.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return n=Ae(n.type,!1),n;case 11:return n=Ae(n.type.render,!1),n;case 1:return n=Ae(n.type,!0),n;default:return""}}function Ce(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case ke:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case b:return(n.displayName||"Context")+".Consumer";case x:return(n._context.displayName||"Context")+".Provider";case V:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _t:return r=n.displayName||null,r!==null?r:Ce(n.type)||"Memo";case It:r=n._payload,n=n._init;try{return Ce(n(r))}catch{}}return null}function Fe(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $e(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vt(n){var r=$e(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function On(n){n._valueTracker||(n._valueTracker=vt(n))}function mi(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=$e(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function sr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function xr(n,r){var a=r.checked;return ne({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function gi(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Le(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function yi(n,r){r=r.checked,r!=null&&ve(n,"checked",r,!1)}function ns(n,r){yi(n,r);var a=Le(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?_i(n,r.type,a):r.hasOwnProperty("defaultValue")&&_i(n,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function ro(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function _i(n,r,a){(r!=="number"||sr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ht=Array.isArray;function H(n,r,a,c){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Le(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function ae(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ee(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(ht(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:Le(a)}}function nt(n,r){var a=Le(r.value),c=Le(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function St(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function qe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?qe(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Nr,Pa=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,d)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Nr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function vi(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},is=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(n){is.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),rs[r]=rs[n]})});function xa(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||rs.hasOwnProperty(n)&&rs[n]?(""+r).trim():r+"px"}function Na(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=xa(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var ba=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Va(n,r){if(r){if(ba[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function Da(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ss=null;function io(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var so=null,En=null,or=null;function oo(n){if(n=il(n)){if(typeof so!="function")throw Error(t(280));var r=n.stateNode;r&&(r=tc(r),so(n.stateNode,n.type,r))}}function ar(n){En?or?or.push(n):or=[n]:En=n}function Oa(){if(En){var n=En,r=or;if(or=En=null,oo(n),r)for(n=0;n<r.length;n++)oo(r[n])}}function os(n,r){return n(r)}function La(){}var br=!1;function Ma(n,r,a){if(br)return n(r,a);br=!0;try{return os(n,r,a)}finally{br=!1,(En!==null||or!==null)&&(La(),Oa())}}function dt(n,r){var a=n.stateNode;if(a===null)return null;var c=tc(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var ao=!1;if(m)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{ao=!1}function as(n,r,a,c,d,p,v,I,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(a,U)}catch(K){this.onError(K)}}var ls=!1,lo=null,Mn=!1,Fa=null,Cd={onError:function(n){ls=!0,lo=n}};function uo(n,r,a,c,d,p,v,I,R){ls=!1,lo=null,as.apply(Cd,arguments)}function ku(n,r,a,c,d,p,v,I,R){if(uo.apply(this,arguments),ls){if(ls){var U=lo;ls=!1,lo=null}else throw Error(t(198));Mn||(Mn=!0,Fa=U)}}function Fn(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function us(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Un(n){if(Fn(n)!==n)throw Error(t(188))}function Cu(n){var r=n.alternate;if(!r){if(r=Fn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,c=r;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return Un(d),n;if(p===c)return Un(d),r;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=p;else{for(var v=!1,I=d.child;I;){if(I===a){v=!0,a=d,c=p;break}if(I===c){v=!0,c=d,a=p;break}I=I.sibling}if(!v){for(I=p.child;I;){if(I===a){v=!0,a=p,c=d;break}if(I===c){v=!0,c=p,a=d;break}I=I.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Ua(n){return n=Cu(n),n!==null?co(n):null}function co(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=co(n);if(r!==null)return r;n=n.sibling}return null}var ho=e.unstable_scheduleCallback,ja=e.unstable_cancelCallback,Ru=e.unstable_shouldYield,Rd=e.unstable_requestPaint,Ye=e.unstable_now,Pu=e.unstable_getCurrentPriorityLevel,cs=e.unstable_ImmediatePriority,wi=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,za=e.unstable_LowPriority,xu=e.unstable_IdlePriority,hs=null,dn=null;function Nu(n){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(hs,n,void 0,(n.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Vu,Ba=Math.log,bu=Math.LN2;function Vu(n){return n>>>=0,n===0?32:31-(Ba(n)/bu|0)|0}var fo=64,po=4194304;function Ei(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ds(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,p=n.pingedLanes,v=a&268435455;if(v!==0){var I=v&~d;I!==0?c=Ei(I):(p&=v,p!==0&&(c=Ei(p)))}else v=a&~d,v!==0?c=Ei(v):p!==0&&(c=Ei(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-Qt(r),d=1<<a,c|=n[a],r&=~d;return c}function Pd(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var v=31-Qt(p),I=1<<v,R=d[v];R===-1?((I&a)===0||(I&c)!==0)&&(d[v]=Pd(I,r)):R<=r&&(n.expiredLanes|=I),p&=~I}}function fn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function fs(){var n=fo;return fo<<=1,(fo&4194240)===0&&(fo=64),n}function Ti(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ii(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Qt(r),n[r]=a}function Ge(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Qt(a),p=1<<d;r[d]=0,c[d]=-1,n[d]=-1,a&=~p}}function Si(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-Qt(a),d=1<<c;d&r|n[c]&r&&(n[c]|=r),a&=~d}}var Ve=0;function Ai(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Du,mo,Ou,Lu,Mu,$a=!1,lr=[],Mt=null,jn=null,zn=null,ki=new Map,In=new Map,ur=[],xd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(n,r){switch(n){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":ki.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(r.pointerId)}}function nn(n,r,a,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=il(r),r!==null&&mo(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function Nd(n,r,a,c,d){switch(r){case"focusin":return Mt=nn(Mt,n,r,a,c,d),!0;case"dragenter":return jn=nn(jn,n,r,a,c,d),!0;case"mouseover":return zn=nn(zn,n,r,a,c,d),!0;case"pointerover":var p=d.pointerId;return ki.set(p,nn(ki.get(p)||null,n,r,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,In.set(p,nn(In.get(p)||null,n,r,a,c,d)),!0}return!1}function Uu(n){var r=_s(n.target);if(r!==null){var a=Fn(r);if(a!==null){if(r=a.tag,r===13){if(r=us(a),r!==null){n.blockedOn=r,Mu(n.priority,function(){Ou(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Dr(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=go(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);ss=c,a.target.dispatchEvent(c),ss=null}else return r=il(a),r!==null&&mo(r),n.blockedOn=a,!1;r.shift()}return!0}function ps(n,r,a){Dr(n)&&a.delete(r)}function ju(){$a=!1,Mt!==null&&Dr(Mt)&&(Mt=null),jn!==null&&Dr(jn)&&(jn=null),zn!==null&&Dr(zn)&&(zn=null),ki.forEach(ps),In.forEach(ps)}function Bn(n,r){n.blockedOn===r&&(n.blockedOn=null,$a||($a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ju)))}function $n(n){function r(d){return Bn(d,n)}if(0<lr.length){Bn(lr[0],n);for(var a=1;a<lr.length;a++){var c=lr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Mt!==null&&Bn(Mt,n),jn!==null&&Bn(jn,n),zn!==null&&Bn(zn,n),ki.forEach(r),In.forEach(r),a=0;a<ur.length;a++)c=ur[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<ur.length&&(a=ur[0],a.blockedOn===null);)Uu(a),a.blockedOn===null&&ur.shift()}var Or=Pe.ReactCurrentBatchConfig,Ci=!0;function rt(n,r,a,c){var d=Ve,p=Or.transition;Or.transition=null;try{Ve=1,qa(n,r,a,c)}finally{Ve=d,Or.transition=p}}function bd(n,r,a,c){var d=Ve,p=Or.transition;Or.transition=null;try{Ve=4,qa(n,r,a,c)}finally{Ve=d,Or.transition=p}}function qa(n,r,a,c){if(Ci){var d=go(n,r,a,c);if(d===null)$d(n,r,c,ms,a),Fu(n,c);else if(Nd(d,n,r,a,c))c.stopPropagation();else if(Fu(n,c),r&4&&-1<xd.indexOf(n)){for(;d!==null;){var p=il(d);if(p!==null&&Du(p),p=go(n,r,a,c),p===null&&$d(n,r,c,ms,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else $d(n,r,c,null,a)}}var ms=null;function go(n,r,a,c){if(ms=null,n=io(c),n=_s(n),n!==null)if(r=Fn(n),r===null)n=null;else if(a=r.tag,a===13){if(n=us(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return ms=n,null}function Ha(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pu()){case cs:return 1;case wi:return 4;case Tn:case za:return 16;case xu:return 536870912;default:return 16}default:return 16}}var pn=null,yo=null,rn=null;function Wa(){if(rn)return rn;var n,r=yo,a=r.length,c,d="value"in pn?pn.value:pn.textContent,p=d.length;for(n=0;n<a&&r[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&r[a-c]===d[p-c];c++);return rn=d.slice(n,1<c?1-c:void 0)}function _o(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function cr(){return!0}function Ga(){return!1}function Ft(n){function r(a,c,d,p,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?cr:Ga,this.isPropagationStopped=Ga,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),r}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=Ft(qn),hr=ne({},qn,{view:0,detail:0}),Vd=Ft(hr),wo,Lr,Ri,gs=ne({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ri&&(Ri&&n.type==="mousemove"?(wo=n.screenX-Ri.screenX,Lr=n.screenY-Ri.screenY):Lr=wo=0,Ri=n),wo)},movementY:function(n){return"movementY"in n?n.movementY:Lr}}),Eo=Ft(gs),Ka=ne({},gs,{dataTransfer:0}),zu=Ft(Ka),To=ne({},hr,{relatedTarget:0}),Io=Ft(To),Bu=ne({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Ft(Bu),$u=ne({},qn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qu=Ft($u),Hu=ne({},qn,{data:0}),Qa=Ft(Hu),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Wu[n])?!!r[n]:!1}function dr(){return Gu}var l=ne({},hr,{key:function(n){if(n.key){var r=So[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=_o(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(n){return n.type==="keypress"?_o(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_o(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),f=Ft(l),g=ne({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Ft(g),O=ne({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),j=Ft(O),Z=ne({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Ft(Z),At=ne({},gs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Ft(At),Pt=[9,13,27,32],wt=m&&"CompositionEvent"in window,Sn=null;m&&"documentMode"in document&&(Sn=document.documentMode);var mn=m&&"TextEvent"in window&&!Sn,ys=m&&(!wt||Sn&&8<Sn&&11>=Sn),Ao=" ",f_=!1;function p_(n,r){switch(n){case"keyup":return Pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ko=!1;function BA(n,r){switch(n){case"compositionend":return m_(r);case"keypress":return r.which!==32?null:(f_=!0,Ao);case"textInput":return n=r.data,n===Ao&&f_?null:n;default:return null}}function $A(n,r){if(ko)return n==="compositionend"||!wt&&p_(n,r)?(n=Wa(),rn=yo=pn=null,ko=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ys&&r.locale!=="ko"?null:r.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!qA[n.type]:r==="textarea"}function y_(n,r,a,c){ar(c),r=Ju(r,"onChange"),0<r.length&&(a=new vo("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var Ya=null,Xa=null;function HA(n){O_(n,0)}function Ku(n){var r=No(n);if(mi(r))return n}function WA(n,r){if(n==="change")return r}var __=!1;if(m){var Dd;if(m){var Od="oninput"in document;if(!Od){var v_=document.createElement("div");v_.setAttribute("oninput","return;"),Od=typeof v_.oninput=="function"}Dd=Od}else Dd=!1;__=Dd&&(!document.documentMode||9<document.documentMode)}function w_(){Ya&&(Ya.detachEvent("onpropertychange",E_),Xa=Ya=null)}function E_(n){if(n.propertyName==="value"&&Ku(Xa)){var r=[];y_(r,Xa,n,io(n)),Ma(HA,r)}}function GA(n,r,a){n==="focusin"?(w_(),Ya=r,Xa=a,Ya.attachEvent("onpropertychange",E_)):n==="focusout"&&w_()}function KA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ku(Xa)}function QA(n,r){if(n==="click")return Ku(r)}function YA(n,r){if(n==="input"||n==="change")return Ku(r)}function XA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Hn=typeof Object.is=="function"?Object.is:XA;function Ja(n,r){if(Hn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!y.call(r,d)||!Hn(n[d],r[d]))return!1}return!0}function T_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function I_(n,r){var a=T_(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=T_(a)}}function S_(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?S_(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function A_(){for(var n=window,r=sr();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=sr(n.document)}return r}function Ld(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function JA(n){var r=A_(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&S_(a.ownerDocument.documentElement,a)){if(c!==null&&Ld(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!n.extend&&p>c&&(d=c,c=p,p=d),d=I_(a,p);var v=I_(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),p>c?(n.addRange(r),n.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ZA=m&&"documentMode"in document&&11>=document.documentMode,Co=null,Md=null,Za=null,Fd=!1;function k_(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fd||Co==null||Co!==sr(c)||(c=Co,"selectionStart"in c&&Ld(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Za&&Ja(Za,c)||(Za=c,c=Ju(Md,"onSelect"),0<c.length&&(r=new vo("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Co)))}function Qu(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ro={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Ud={},C_={};m&&(C_=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Yu(n){if(Ud[n])return Ud[n];if(!Ro[n])return n;var r=Ro[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in C_)return Ud[n]=r[a];return n}var R_=Yu("animationend"),P_=Yu("animationiteration"),x_=Yu("animationstart"),N_=Yu("transitionend"),b_=new Map,V_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(n,r){b_.set(n,r),u(r,[n])}for(var jd=0;jd<V_.length;jd++){var zd=V_[jd],ek=zd.toLowerCase(),tk=zd[0].toUpperCase()+zd.slice(1);Pi(ek,"on"+tk)}Pi(R_,"onAnimationEnd"),Pi(P_,"onAnimationIteration"),Pi(x_,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(N_,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function D_(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,ku(c,r,void 0,n),n.currentTarget=null}function O_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var v=c.length-1;0<=v;v--){var I=c[v],R=I.instance,U=I.currentTarget;if(I=I.listener,R!==p&&d.isPropagationStopped())break e;D_(d,I,U),p=R}else for(v=0;v<c.length;v++){if(I=c[v],R=I.instance,U=I.currentTarget,I=I.listener,R!==p&&d.isPropagationStopped())break e;D_(d,I,U),p=R}}}if(Mn)throw n=Fa,Mn=!1,Fa=null,n}function et(n,r){var a=r[Qd];a===void 0&&(a=r[Qd]=new Set);var c=n+"__bubble";a.has(c)||(L_(r,n,2,!1),a.add(c))}function Bd(n,r,a){var c=0;r&&(c|=4),L_(a,n,c,r)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function tl(n){if(!n[Xu]){n[Xu]=!0,s.forEach(function(a){a!=="selectionchange"&&(nk.has(a)||Bd(a,!1,n),Bd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Xu]||(r[Xu]=!0,Bd("selectionchange",!1,r))}}function L_(n,r,a,c){switch(Ha(r)){case 1:var d=rt;break;case 4:d=bd;break;default:d=qa}a=d.bind(null,r,a,n),d=void 0,!ao||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function $d(n,r,a,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;v=v.return}for(;I!==null;){if(v=_s(I),v===null)return;if(R=v.tag,R===5||R===6){c=p=v;continue e}I=I.parentNode}}c=c.return}Ma(function(){var U=p,K=io(a),Y=[];e:{var G=b_.get(n);if(G!==void 0){var re=vo,oe=n;switch(n){case"keypress":if(_o(a)===0)break e;case"keydown":case"keyup":re=f;break;case"focusin":oe="focus",re=Io;break;case"focusout":oe="blur",re=Io;break;case"beforeblur":case"afterblur":re=Io;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=j;break;case R_:case P_:case x_:re=Mr;break;case N_:re=We;break;case"scroll":re=Vd;break;case"wheel":re=Me;break;case"copy":case"cut":case"paste":re=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=w}var le=(r&4)!==0,ft=!le&&n==="scroll",L=le?G!==null?G+"Capture":null:G;le=[];for(var P=U,M;P!==null;){M=P;var X=M.stateNode;if(M.tag===5&&X!==null&&(M=X,L!==null&&(X=dt(P,L),X!=null&&le.push(nl(P,X,M)))),ft)break;P=P.return}0<le.length&&(G=new re(G,oe,null,a,K),Y.push({event:G,listeners:le}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",G&&a!==ss&&(oe=a.relatedTarget||a.fromElement)&&(_s(oe)||oe[Fr]))break e;if((re||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,re?(oe=a.relatedTarget||a.toElement,re=U,oe=oe?_s(oe):null,oe!==null&&(ft=Fn(oe),oe!==ft||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(re=null,oe=U),re!==oe)){if(le=Eo,X="onMouseLeave",L="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(le=w,X="onPointerLeave",L="onPointerEnter",P="pointer"),ft=re==null?G:No(re),M=oe==null?G:No(oe),G=new le(X,P+"leave",re,a,K),G.target=ft,G.relatedTarget=M,X=null,_s(K)===U&&(le=new le(L,P+"enter",oe,a,K),le.target=M,le.relatedTarget=ft,X=le),ft=X,re&&oe)t:{for(le=re,L=oe,P=0,M=le;M;M=Po(M))P++;for(M=0,X=L;X;X=Po(X))M++;for(;0<P-M;)le=Po(le),P--;for(;0<M-P;)L=Po(L),M--;for(;P--;){if(le===L||L!==null&&le===L.alternate)break t;le=Po(le),L=Po(L)}le=null}else le=null;re!==null&&M_(Y,G,re,le,!1),oe!==null&&ft!==null&&M_(Y,ft,oe,le,!0)}}e:{if(G=U?No(U):window,re=G.nodeName&&G.nodeName.toLowerCase(),re==="select"||re==="input"&&G.type==="file")var ue=WA;else if(g_(G))if(__)ue=YA;else{ue=KA;var pe=GA}else(re=G.nodeName)&&re.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ue=QA);if(ue&&(ue=ue(n,U))){y_(Y,ue,a,K);break e}pe&&pe(n,G,U),n==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&_i(G,"number",G.value)}switch(pe=U?No(U):window,n){case"focusin":(g_(pe)||pe.contentEditable==="true")&&(Co=pe,Md=U,Za=null);break;case"focusout":Za=Md=Co=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,k_(Y,a,K);break;case"selectionchange":if(ZA)break;case"keydown":case"keyup":k_(Y,a,K)}var me;if(wt)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ko?p_(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(ys&&a.locale!=="ko"&&(ko||we!=="onCompositionStart"?we==="onCompositionEnd"&&ko&&(me=Wa()):(pn=K,yo="value"in pn?pn.value:pn.textContent,ko=!0)),pe=Ju(U,we),0<pe.length&&(we=new Qa(we,n,null,a,K),Y.push({event:we,listeners:pe}),me?we.data=me:(me=m_(a),me!==null&&(we.data=me)))),(me=mn?BA(n,a):$A(n,a))&&(U=Ju(U,"onBeforeInput"),0<U.length&&(K=new Qa("onBeforeInput","beforeinput",null,a,K),Y.push({event:K,listeners:U}),K.data=me))}O_(Y,r)})}function nl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Ju(n,r){for(var a=r+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=dt(n,a),p!=null&&c.unshift(nl(n,p,d)),p=dt(n,r),p!=null&&c.push(nl(n,p,d))),n=n.return}return c}function Po(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function M_(n,r,a,c,d){for(var p=r._reactName,v=[];a!==null&&a!==c;){var I=a,R=I.alternate,U=I.stateNode;if(R!==null&&R===c)break;I.tag===5&&U!==null&&(I=U,d?(R=dt(a,p),R!=null&&v.unshift(nl(a,R,I))):d||(R=dt(a,p),R!=null&&v.push(nl(a,R,I)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var rk=/\r\n?/g,ik=/\u0000|\uFFFD/g;function F_(n){return(typeof n=="string"?n:""+n).replace(rk,`
`).replace(ik,"")}function Zu(n,r,a){if(r=F_(r),F_(n)!==r&&a)throw Error(t(425))}function ec(){}var qd=null,Hd=null;function Wd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,sk=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,ok=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(n){return U_.resolve(null).then(n).catch(ak)}:Gd;function ak(n){setTimeout(function(){throw n})}function Kd(n,r){var a=r,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),$n(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);$n(r)}function xi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function j_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var xo=Math.random().toString(36).slice(2),fr="__reactFiber$"+xo,rl="__reactProps$"+xo,Fr="__reactContainer$"+xo,Qd="__reactEvents$"+xo,lk="__reactListeners$"+xo,uk="__reactHandles$"+xo;function _s(n){var r=n[fr];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Fr]||a[fr]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=j_(n);n!==null;){if(a=n[fr])return a;n=j_(n)}return r}n=a,a=n.parentNode}return null}function il(n){return n=n[fr]||n[Fr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function No(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function tc(n){return n[rl]||null}var Yd=[],bo=-1;function Ni(n){return{current:n}}function tt(n){0>bo||(n.current=Yd[bo],Yd[bo]=null,bo--)}function Xe(n,r){bo++,Yd[bo]=n.current,n.current=r}var bi={},Ht=Ni(bi),sn=Ni(!1),vs=bi;function Vo(n,r){var a=n.type.contextTypes;if(!a)return bi;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=r[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function on(n){return n=n.childContextTypes,n!=null}function nc(){tt(sn),tt(Ht)}function z_(n,r,a){if(Ht.current!==bi)throw Error(t(168));Xe(Ht,r),Xe(sn,a)}function B_(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,Fe(n)||"Unknown",d));return ne({},a,c)}function rc(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||bi,vs=Ht.current,Xe(Ht,n),Xe(sn,sn.current),!0}function $_(n,r,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=B_(n,r,vs),c.__reactInternalMemoizedMergedChildContext=n,tt(sn),tt(Ht),Xe(Ht,n)):tt(sn),Xe(sn,a)}var Ur=null,ic=!1,Xd=!1;function q_(n){Ur===null?Ur=[n]:Ur.push(n)}function ck(n){ic=!0,q_(n)}function Vi(){if(!Xd&&Ur!==null){Xd=!0;var n=0,r=Ve;try{var a=Ur;for(Ve=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Ur=null,ic=!1}catch(d){throw Ur!==null&&(Ur=Ur.slice(n+1)),ho(cs,Vi),d}finally{Ve=r,Xd=!1}}return null}var Do=[],Oo=0,sc=null,oc=0,An=[],kn=0,ws=null,jr=1,zr="";function Es(n,r){Do[Oo++]=oc,Do[Oo++]=sc,sc=n,oc=r}function H_(n,r,a){An[kn++]=jr,An[kn++]=zr,An[kn++]=ws,ws=n;var c=jr;n=zr;var d=32-Qt(c)-1;c&=~(1<<d),a+=1;var p=32-Qt(r)+d;if(30<p){var v=d-d%5;p=(c&(1<<v)-1).toString(32),c>>=v,d-=v,jr=1<<32-Qt(r)+d|a<<d|c,zr=p+n}else jr=1<<p|a<<d|c,zr=n}function Jd(n){n.return!==null&&(Es(n,1),H_(n,1,0))}function Zd(n){for(;n===sc;)sc=Do[--Oo],Do[Oo]=null,oc=Do[--Oo],Do[Oo]=null;for(;n===ws;)ws=An[--kn],An[kn]=null,zr=An[--kn],An[kn]=null,jr=An[--kn],An[kn]=null}var gn=null,yn=null,it=!1,Wn=null;function W_(n,r){var a=xn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function G_(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,gn=n,yn=xi(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,gn=n,yn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=ws!==null?{id:jr,overflow:zr}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=xn(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,gn=n,yn=null,!0):!1;default:return!1}}function ef(n){return(n.mode&1)!==0&&(n.flags&128)===0}function tf(n){if(it){var r=yn;if(r){var a=r;if(!G_(n,r)){if(ef(n))throw Error(t(418));r=xi(a.nextSibling);var c=gn;r&&G_(n,r)?W_(c,a):(n.flags=n.flags&-4097|2,it=!1,gn=n)}}else{if(ef(n))throw Error(t(418));n.flags=n.flags&-4097|2,it=!1,gn=n}}}function K_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;gn=n}function ac(n){if(n!==gn)return!1;if(!it)return K_(n),it=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Wd(n.type,n.memoizedProps)),r&&(r=yn)){if(ef(n))throw Q_(),Error(t(418));for(;r;)W_(n,r),r=xi(r.nextSibling)}if(K_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){yn=xi(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}yn=null}}else yn=gn?xi(n.stateNode.nextSibling):null;return!0}function Q_(){for(var n=yn;n;)n=xi(n.nextSibling)}function Lo(){yn=gn=null,it=!1}function nf(n){Wn===null?Wn=[n]:Wn.push(n)}var hk=Pe.ReactCurrentBatchConfig;function sl(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var I=d.refs;v===null?delete I[p]:I[p]=v},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function lc(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Y_(n){var r=n._init;return r(n._payload)}function X_(n){function r(L,P){if(n){var M=L.deletions;M===null?(L.deletions=[P],L.flags|=16):M.push(P)}}function a(L,P){if(!n)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function c(L,P){for(L=new Map;P!==null;)P.key!==null?L.set(P.key,P):L.set(P.index,P),P=P.sibling;return L}function d(L,P){return L=zi(L,P),L.index=0,L.sibling=null,L}function p(L,P,M){return L.index=M,n?(M=L.alternate,M!==null?(M=M.index,M<P?(L.flags|=2,P):M):(L.flags|=2,P)):(L.flags|=1048576,P)}function v(L){return n&&L.alternate===null&&(L.flags|=2),L}function I(L,P,M,X){return P===null||P.tag!==6?(P=Kf(M,L.mode,X),P.return=L,P):(P=d(P,M),P.return=L,P)}function R(L,P,M,X){var ue=M.type;return ue===N?K(L,P,M.props.children,X,M.key):P!==null&&(P.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===It&&Y_(ue)===P.type)?(X=d(P,M.props),X.ref=sl(L,P,M),X.return=L,X):(X=bc(M.type,M.key,M.props,null,L.mode,X),X.ref=sl(L,P,M),X.return=L,X)}function U(L,P,M,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=Qf(M,L.mode,X),P.return=L,P):(P=d(P,M.children||[]),P.return=L,P)}function K(L,P,M,X,ue){return P===null||P.tag!==7?(P=Ps(M,L.mode,X,ue),P.return=L,P):(P=d(P,M),P.return=L,P)}function Y(L,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Kf(""+P,L.mode,M),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Qe:return M=bc(P.type,P.key,P.props,null,L.mode,M),M.ref=sl(L,null,P),M.return=L,M;case ke:return P=Qf(P,L.mode,M),P.return=L,P;case It:var X=P._init;return Y(L,X(P._payload),M)}if(ht(P)||he(P))return P=Ps(P,L.mode,M,null),P.return=L,P;lc(L,P)}return null}function G(L,P,M,X){var ue=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ue!==null?null:I(L,P,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Qe:return M.key===ue?R(L,P,M,X):null;case ke:return M.key===ue?U(L,P,M,X):null;case It:return ue=M._init,G(L,P,ue(M._payload),X)}if(ht(M)||he(M))return ue!==null?null:K(L,P,M,X,null);lc(L,M)}return null}function re(L,P,M,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number")return L=L.get(M)||null,I(P,L,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Qe:return L=L.get(X.key===null?M:X.key)||null,R(P,L,X,ue);case ke:return L=L.get(X.key===null?M:X.key)||null,U(P,L,X,ue);case It:var pe=X._init;return re(L,P,M,pe(X._payload),ue)}if(ht(X)||he(X))return L=L.get(M)||null,K(P,L,X,ue,null);lc(P,X)}return null}function oe(L,P,M,X){for(var ue=null,pe=null,me=P,we=P=0,bt=null;me!==null&&we<M.length;we++){me.index>we?(bt=me,me=null):bt=me.sibling;var ze=G(L,me,M[we],X);if(ze===null){me===null&&(me=bt);break}n&&me&&ze.alternate===null&&r(L,me),P=p(ze,P,we),pe===null?ue=ze:pe.sibling=ze,pe=ze,me=bt}if(we===M.length)return a(L,me),it&&Es(L,we),ue;if(me===null){for(;we<M.length;we++)me=Y(L,M[we],X),me!==null&&(P=p(me,P,we),pe===null?ue=me:pe.sibling=me,pe=me);return it&&Es(L,we),ue}for(me=c(L,me);we<M.length;we++)bt=re(me,L,we,M[we],X),bt!==null&&(n&&bt.alternate!==null&&me.delete(bt.key===null?we:bt.key),P=p(bt,P,we),pe===null?ue=bt:pe.sibling=bt,pe=bt);return n&&me.forEach(function(Bi){return r(L,Bi)}),it&&Es(L,we),ue}function le(L,P,M,X){var ue=he(M);if(typeof ue!="function")throw Error(t(150));if(M=ue.call(M),M==null)throw Error(t(151));for(var pe=ue=null,me=P,we=P=0,bt=null,ze=M.next();me!==null&&!ze.done;we++,ze=M.next()){me.index>we?(bt=me,me=null):bt=me.sibling;var Bi=G(L,me,ze.value,X);if(Bi===null){me===null&&(me=bt);break}n&&me&&Bi.alternate===null&&r(L,me),P=p(Bi,P,we),pe===null?ue=Bi:pe.sibling=Bi,pe=Bi,me=bt}if(ze.done)return a(L,me),it&&Es(L,we),ue;if(me===null){for(;!ze.done;we++,ze=M.next())ze=Y(L,ze.value,X),ze!==null&&(P=p(ze,P,we),pe===null?ue=ze:pe.sibling=ze,pe=ze);return it&&Es(L,we),ue}for(me=c(L,me);!ze.done;we++,ze=M.next())ze=re(me,L,we,ze.value,X),ze!==null&&(n&&ze.alternate!==null&&me.delete(ze.key===null?we:ze.key),P=p(ze,P,we),pe===null?ue=ze:pe.sibling=ze,pe=ze);return n&&me.forEach(function(qk){return r(L,qk)}),it&&Es(L,we),ue}function ft(L,P,M,X){if(typeof M=="object"&&M!==null&&M.type===N&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Qe:e:{for(var ue=M.key,pe=P;pe!==null;){if(pe.key===ue){if(ue=M.type,ue===N){if(pe.tag===7){a(L,pe.sibling),P=d(pe,M.props.children),P.return=L,L=P;break e}}else if(pe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===It&&Y_(ue)===pe.type){a(L,pe.sibling),P=d(pe,M.props),P.ref=sl(L,pe,M),P.return=L,L=P;break e}a(L,pe);break}else r(L,pe);pe=pe.sibling}M.type===N?(P=Ps(M.props.children,L.mode,X,M.key),P.return=L,L=P):(X=bc(M.type,M.key,M.props,null,L.mode,X),X.ref=sl(L,P,M),X.return=L,L=X)}return v(L);case ke:e:{for(pe=M.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){a(L,P.sibling),P=d(P,M.children||[]),P.return=L,L=P;break e}else{a(L,P);break}else r(L,P);P=P.sibling}P=Qf(M,L.mode,X),P.return=L,L=P}return v(L);case It:return pe=M._init,ft(L,P,pe(M._payload),X)}if(ht(M))return oe(L,P,M,X);if(he(M))return le(L,P,M,X);lc(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(a(L,P.sibling),P=d(P,M),P.return=L,L=P):(a(L,P),P=Kf(M,L.mode,X),P.return=L,L=P),v(L)):a(L,P)}return ft}var Mo=X_(!0),J_=X_(!1),uc=Ni(null),cc=null,Fo=null,rf=null;function sf(){rf=Fo=cc=null}function of(n){var r=uc.current;tt(uc),n._currentValue=r}function af(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function Uo(n,r){cc=n,rf=Fo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(an=!0),n.firstContext=null)}function Cn(n){var r=n._currentValue;if(rf!==n)if(n={context:n,memoizedValue:r,next:null},Fo===null){if(cc===null)throw Error(t(308));Fo=n,cc.dependencies={lanes:0,firstContext:n}}else Fo=Fo.next=n;return r}var Ts=null;function lf(n){Ts===null?Ts=[n]:Ts.push(n)}function Z_(n,r,a,c){var d=r.interleaved;return d===null?(a.next=a,lf(r)):(a.next=d.next,d.next=a),r.interleaved=a,Br(n,c)}function Br(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Di=!1;function uf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ev(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function $r(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Oi(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,Br(n,a)}return d=c.interleaved,d===null?(r.next=r,lf(c)):(r.next=d.next,d.next=r),c.interleaved=r,Br(n,a)}function hc(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Si(n,a)}}function tv(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=v:p=p.next=v,a=a.next}while(a!==null);p===null?d=p=r:p=p.next=r}else d=p=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function dc(n,r,a,c){var d=n.updateQueue;Di=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var R=I,U=R.next;R.next=null,v===null?p=U:v.next=U,v=R;var K=n.alternate;K!==null&&(K=K.updateQueue,I=K.lastBaseUpdate,I!==v&&(I===null?K.firstBaseUpdate=U:I.next=U,K.lastBaseUpdate=R))}if(p!==null){var Y=d.baseState;v=0,K=U=R=null,I=p;do{var G=I.lane,re=I.eventTime;if((c&G)===G){K!==null&&(K=K.next={eventTime:re,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var oe=n,le=I;switch(G=r,re=a,le.tag){case 1:if(oe=le.payload,typeof oe=="function"){Y=oe.call(re,Y,G);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=le.payload,G=typeof oe=="function"?oe.call(re,Y,G):oe,G==null)break e;Y=ne({},Y,G);break e;case 2:Di=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,G=d.effects,G===null?d.effects=[I]:G.push(I))}else re={eventTime:re,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},K===null?(U=K=re,R=Y):K=K.next=re,v|=G;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;G=I,I=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(K===null&&(R=Y),d.baseState=R,d.firstBaseUpdate=U,d.lastBaseUpdate=K,r=d.shared.interleaved,r!==null){d=r;do v|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);As|=v,n.lanes=v,n.memoizedState=Y}}function nv(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var ol={},pr=Ni(ol),al=Ni(ol),ll=Ni(ol);function Is(n){if(n===ol)throw Error(t(174));return n}function cf(n,r){switch(Xe(ll,r),Xe(al,n),Xe(pr,ol),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:He(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=He(r,n)}tt(pr),Xe(pr,r)}function jo(){tt(pr),tt(al),tt(ll)}function rv(n){Is(ll.current);var r=Is(pr.current),a=He(r,n.type);r!==a&&(Xe(al,n),Xe(pr,a))}function hf(n){al.current===n&&(tt(pr),tt(al))}var ot=Ni(0);function fc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var df=[];function ff(){for(var n=0;n<df.length;n++)df[n]._workInProgressVersionPrimary=null;df.length=0}var pc=Pe.ReactCurrentDispatcher,pf=Pe.ReactCurrentBatchConfig,Ss=0,at=null,kt=null,xt=null,mc=!1,ul=!1,cl=0,dk=0;function Wt(){throw Error(t(321))}function mf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Hn(n[a],r[a]))return!1;return!0}function gf(n,r,a,c,d,p){if(Ss=p,at=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,pc.current=n===null||n.memoizedState===null?gk:yk,n=a(c,d),ul){p=0;do{if(ul=!1,cl=0,25<=p)throw Error(t(301));p+=1,xt=kt=null,r.updateQueue=null,pc.current=_k,n=a(c,d)}while(ul)}if(pc.current=_c,r=kt!==null&&kt.next!==null,Ss=0,xt=kt=at=null,mc=!1,r)throw Error(t(300));return n}function yf(){var n=cl!==0;return cl=0,n}function mr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?at.memoizedState=xt=n:xt=xt.next=n,xt}function Rn(){if(kt===null){var n=at.alternate;n=n!==null?n.memoizedState:null}else n=kt.next;var r=xt===null?at.memoizedState:xt.next;if(r!==null)xt=r,kt=n;else{if(n===null)throw Error(t(310));kt=n,n={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},xt===null?at.memoizedState=xt=n:xt=xt.next=n}return xt}function hl(n,r){return typeof r=="function"?r(n):r}function _f(n){var r=Rn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=kt,d=c.baseQueue,p=a.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}c.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,c=c.baseState;var I=v=null,R=null,U=p;do{var K=U.lane;if((Ss&K)===K)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),c=U.hasEagerState?U.eagerState:n(c,U.action);else{var Y={lane:K,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(I=R=Y,v=c):R=R.next=Y,at.lanes|=K,As|=K}U=U.next}while(U!==null&&U!==p);R===null?v=c:R.next=I,Hn(c,r.memoizedState)||(an=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=R,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do p=d.lane,at.lanes|=p,As|=p,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function vf(n){var r=Rn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,p=r.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do p=n(p,v.action),v=v.next;while(v!==d);Hn(p,r.memoizedState)||(an=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function iv(){}function sv(n,r){var a=at,c=Rn(),d=r(),p=!Hn(c.memoizedState,d);if(p&&(c.memoizedState=d,an=!0),c=c.queue,wf(lv.bind(null,a,c,n),[n]),c.getSnapshot!==r||p||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,dl(9,av.bind(null,a,c,d,r),void 0,null),Nt===null)throw Error(t(349));(Ss&30)!==0||ov(a,r,d)}return d}function ov(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function av(n,r,a,c){r.value=a,r.getSnapshot=c,uv(r)&&cv(n)}function lv(n,r,a){return a(function(){uv(r)&&cv(n)})}function uv(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Hn(n,a)}catch{return!0}}function cv(n){var r=Br(n,1);r!==null&&Yn(r,n,1,-1)}function hv(n){var r=mr();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:n},r.queue=n,n=n.dispatch=mk.bind(null,at,n),[r.memoizedState,n]}function dl(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function dv(){return Rn().memoizedState}function gc(n,r,a,c){var d=mr();at.flags|=n,d.memoizedState=dl(1|r,a,void 0,c===void 0?null:c)}function yc(n,r,a,c){var d=Rn();c=c===void 0?null:c;var p=void 0;if(kt!==null){var v=kt.memoizedState;if(p=v.destroy,c!==null&&mf(c,v.deps)){d.memoizedState=dl(r,a,p,c);return}}at.flags|=n,d.memoizedState=dl(1|r,a,p,c)}function fv(n,r){return gc(8390656,8,n,r)}function wf(n,r){return yc(2048,8,n,r)}function pv(n,r){return yc(4,2,n,r)}function mv(n,r){return yc(4,4,n,r)}function gv(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function yv(n,r,a){return a=a!=null?a.concat([n]):null,yc(4,4,gv.bind(null,r,n),a)}function Ef(){}function _v(n,r){var a=Rn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&mf(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function vv(n,r){var a=Rn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&mf(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function wv(n,r,a){return(Ss&21)===0?(n.baseState&&(n.baseState=!1,an=!0),n.memoizedState=a):(Hn(a,r)||(a=fs(),at.lanes|=a,As|=a,n.baseState=!0),r)}function fk(n,r){var a=Ve;Ve=a!==0&&4>a?a:4,n(!0);var c=pf.transition;pf.transition={};try{n(!1),r()}finally{Ve=a,pf.transition=c}}function Ev(){return Rn().memoizedState}function pk(n,r,a){var c=Ui(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Tv(n))Iv(r,a);else if(a=Z_(n,r,a,c),a!==null){var d=Jt();Yn(a,n,c,d),Sv(a,r,c)}}function mk(n,r,a){var c=Ui(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tv(n))Iv(r,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,I=p(v,a);if(d.hasEagerState=!0,d.eagerState=I,Hn(I,v)){var R=r.interleaved;R===null?(d.next=d,lf(r)):(d.next=R.next,R.next=d),r.interleaved=d;return}}catch{}finally{}a=Z_(n,r,d,c),a!==null&&(d=Jt(),Yn(a,n,c,d),Sv(a,r,c))}}function Tv(n){var r=n.alternate;return n===at||r!==null&&r===at}function Iv(n,r){ul=mc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Sv(n,r,a){if((a&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Si(n,a)}}var _c={readContext:Cn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},gk={readContext:Cn,useCallback:function(n,r){return mr().memoizedState=[n,r===void 0?null:r],n},useContext:Cn,useEffect:fv,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,gc(4194308,4,gv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return gc(4194308,4,n,r)},useInsertionEffect:function(n,r){return gc(4,2,n,r)},useMemo:function(n,r){var a=mr();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=mr();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=pk.bind(null,at,n),[c.memoizedState,n]},useRef:function(n){var r=mr();return n={current:n},r.memoizedState=n},useState:hv,useDebugValue:Ef,useDeferredValue:function(n){return mr().memoizedState=n},useTransition:function(){var n=hv(!1),r=n[0];return n=fk.bind(null,n[1]),mr().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=at,d=mr();if(it){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),Nt===null)throw Error(t(349));(Ss&30)!==0||ov(c,r,a)}d.memoizedState=a;var p={value:a,getSnapshot:r};return d.queue=p,fv(lv.bind(null,c,p,n),[n]),c.flags|=2048,dl(9,av.bind(null,c,p,a,r),void 0,null),a},useId:function(){var n=mr(),r=Nt.identifierPrefix;if(it){var a=zr,c=jr;a=(c&~(1<<32-Qt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=cl++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=dk++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},yk={readContext:Cn,useCallback:_v,useContext:Cn,useEffect:wf,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:vv,useReducer:_f,useRef:dv,useState:function(){return _f(hl)},useDebugValue:Ef,useDeferredValue:function(n){var r=Rn();return wv(r,kt.memoizedState,n)},useTransition:function(){var n=_f(hl)[0],r=Rn().memoizedState;return[n,r]},useMutableSource:iv,useSyncExternalStore:sv,useId:Ev,unstable_isNewReconciler:!1},_k={readContext:Cn,useCallback:_v,useContext:Cn,useEffect:wf,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:vv,useReducer:vf,useRef:dv,useState:function(){return vf(hl)},useDebugValue:Ef,useDeferredValue:function(n){var r=Rn();return kt===null?r.memoizedState=n:wv(r,kt.memoizedState,n)},useTransition:function(){var n=vf(hl)[0],r=Rn().memoizedState;return[n,r]},useMutableSource:iv,useSyncExternalStore:sv,useId:Ev,unstable_isNewReconciler:!1};function Gn(n,r){if(n&&n.defaultProps){r=ne({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function Tf(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:ne({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vc={isMounted:function(n){return(n=n._reactInternals)?Fn(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Jt(),d=Ui(n),p=$r(c,d);p.payload=r,a!=null&&(p.callback=a),r=Oi(n,p,d),r!==null&&(Yn(r,n,d,c),hc(r,n,d))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Jt(),d=Ui(n),p=$r(c,d);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Oi(n,p,d),r!==null&&(Yn(r,n,d,c),hc(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Jt(),c=Ui(n),d=$r(a,c);d.tag=2,r!=null&&(d.callback=r),r=Oi(n,d,c),r!==null&&(Yn(r,n,c,a),hc(r,n,c))}};function Av(n,r,a,c,d,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,v):r.prototype&&r.prototype.isPureReactComponent?!Ja(a,c)||!Ja(d,p):!0}function kv(n,r,a){var c=!1,d=bi,p=r.contextType;return typeof p=="object"&&p!==null?p=Cn(p):(d=on(r)?vs:Ht.current,c=r.contextTypes,p=(c=c!=null)?Vo(n,d):bi),r=new r(a,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=vc,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),r}function Cv(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&vc.enqueueReplaceState(r,r.state,null)}function If(n,r,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},uf(n);var p=r.contextType;typeof p=="object"&&p!==null?d.context=Cn(p):(p=on(r)?vs:Ht.current,d.context=Vo(n,p)),d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Tf(n,r,p,a),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&vc.enqueueReplaceState(d,d.state,null),dc(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function zo(n,r){try{var a="",c=r;do a+=Se(c),c=c.return;while(c);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:d,digest:null}}function Sf(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function Af(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var vk=typeof WeakMap=="function"?WeakMap:Map;function Rv(n,r,a){a=$r(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){kc||(kc=!0,jf=c),Af(n,r)},a}function Pv(n,r,a){a=$r(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){Af(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Af(n,r),typeof c!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),a}function xv(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new vk;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),n=Vk.bind(null,n,r,a),r.then(n,n))}function Nv(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function bv(n,r,a,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=$r(-1,1),r.tag=2,Oi(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var wk=Pe.ReactCurrentOwner,an=!1;function Xt(n,r,a,c){r.child=n===null?J_(r,null,a,c):Mo(r,n.child,a,c)}function Vv(n,r,a,c,d){a=a.render;var p=r.ref;return Uo(r,d),c=gf(n,r,a,c,p,d),a=yf(),n!==null&&!an?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,qr(n,r,d)):(it&&a&&Jd(r),r.flags|=1,Xt(n,r,c,d),r.child)}function Dv(n,r,a,c,d){if(n===null){var p=a.type;return typeof p=="function"&&!Gf(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,Ov(n,r,p,c,d)):(n=bc(a.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&d)===0){var v=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ja,a(v,c)&&n.ref===r.ref)return qr(n,r,d)}return r.flags|=1,n=zi(p,c),n.ref=r.ref,n.return=r,r.child=n}function Ov(n,r,a,c,d){if(n!==null){var p=n.memoizedProps;if(Ja(p,c)&&n.ref===r.ref)if(an=!1,r.pendingProps=c=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(an=!0);else return r.lanes=n.lanes,qr(n,r,d)}return kf(n,r,a,c,d)}function Lv(n,r,a){var c=r.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe($o,_n),_n|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Xe($o,_n),_n|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Xe($o,_n),_n|=c}else p!==null?(c=p.baseLanes|a,r.memoizedState=null):c=a,Xe($o,_n),_n|=c;return Xt(n,r,d,a),r.child}function Mv(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function kf(n,r,a,c,d){var p=on(a)?vs:Ht.current;return p=Vo(r,p),Uo(r,d),a=gf(n,r,a,c,p,d),c=yf(),n!==null&&!an?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,qr(n,r,d)):(it&&c&&Jd(r),r.flags|=1,Xt(n,r,a,d),r.child)}function Fv(n,r,a,c,d){if(on(a)){var p=!0;rc(r)}else p=!1;if(Uo(r,d),r.stateNode===null)Ec(n,r),kv(r,a,c),If(r,a,c,d),c=!0;else if(n===null){var v=r.stateNode,I=r.memoizedProps;v.props=I;var R=v.context,U=a.contextType;typeof U=="object"&&U!==null?U=Cn(U):(U=on(a)?vs:Ht.current,U=Vo(r,U));var K=a.getDerivedStateFromProps,Y=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==c||R!==U)&&Cv(r,v,c,U),Di=!1;var G=r.memoizedState;v.state=G,dc(r,c,v,d),R=r.memoizedState,I!==c||G!==R||sn.current||Di?(typeof K=="function"&&(Tf(r,a,K,c),R=r.memoizedState),(I=Di||Av(r,a,I,c,G,R,U))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=R),v.props=c,v.state=R,v.context=U,c=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,ev(n,r),I=r.memoizedProps,U=r.type===r.elementType?I:Gn(r.type,I),v.props=U,Y=r.pendingProps,G=v.context,R=a.contextType,typeof R=="object"&&R!==null?R=Cn(R):(R=on(a)?vs:Ht.current,R=Vo(r,R));var re=a.getDerivedStateFromProps;(K=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==Y||G!==R)&&Cv(r,v,c,R),Di=!1,G=r.memoizedState,v.state=G,dc(r,c,v,d);var oe=r.memoizedState;I!==Y||G!==oe||sn.current||Di?(typeof re=="function"&&(Tf(r,a,re,c),oe=r.memoizedState),(U=Di||Av(r,a,U,c,G,oe,R)||!1)?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,oe,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,oe,R)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=oe),v.props=c,v.state=oe,v.context=R,c=U):(typeof v.componentDidUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),c=!1)}return Cf(n,r,a,c,p,d)}function Cf(n,r,a,c,d,p){Mv(n,r);var v=(r.flags&128)!==0;if(!c&&!v)return d&&$_(r,a,!1),qr(n,r,p);c=r.stateNode,wk.current=r;var I=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&v?(r.child=Mo(r,n.child,null,p),r.child=Mo(r,null,I,p)):Xt(n,r,I,p),r.memoizedState=c.state,d&&$_(r,a,!0),r.child}function Uv(n){var r=n.stateNode;r.pendingContext?z_(n,r.pendingContext,r.pendingContext!==r.context):r.context&&z_(n,r.context,!1),cf(n,r.containerInfo)}function jv(n,r,a,c,d){return Lo(),nf(d),r.flags|=256,Xt(n,r,a,c),r.child}var Rf={dehydrated:null,treeContext:null,retryLane:0};function Pf(n){return{baseLanes:n,cachePool:null,transitions:null}}function zv(n,r,a){var c=r.pendingProps,d=ot.current,p=!1,v=(r.flags&128)!==0,I;if((I=v)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Xe(ot,d&1),n===null)return tf(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=c.children,n=c.fallback,p?(c=r.mode,p=r.child,v={mode:"hidden",children:v},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Vc(v,c,0,null),n=Ps(n,c,a,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=Pf(a),r.memoizedState=Rf,n):xf(r,v));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return Ek(n,r,v,c,I,d,a);if(p){p=c.fallback,v=r.mode,d=n.child,I=d.sibling;var R={mode:"hidden",children:c.children};return(v&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=R,r.deletions=null):(c=zi(d,R),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?p=zi(I,p):(p=Ps(p,v,a,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,v=n.child.memoizedState,v=v===null?Pf(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=n.childLanes&~a,r.memoizedState=Rf,c}return p=n.child,n=p.sibling,c=zi(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function xf(n,r){return r=Vc({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function wc(n,r,a,c){return c!==null&&nf(c),Mo(r,n.child,null,a),n=xf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ek(n,r,a,c,d,p,v){if(a)return r.flags&256?(r.flags&=-257,c=Sf(Error(t(422))),wc(n,r,v,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=Vc({mode:"visible",children:c.children},d,0,null),p=Ps(p,d,v,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&Mo(r,n.child,null,v),r.child.memoizedState=Pf(v),r.memoizedState=Rf,p);if((r.mode&1)===0)return wc(n,r,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,p=Error(t(419)),c=Sf(p,c,void 0),wc(n,r,v,c)}if(I=(v&n.childLanes)!==0,an||I){if(c=Nt,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Br(n,d),Yn(c,n,d,-1))}return Wf(),c=Sf(Error(t(421))),wc(n,r,v,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=Dk.bind(null,n),d._reactRetry=r,null):(n=p.treeContext,yn=xi(d.nextSibling),gn=r,it=!0,Wn=null,n!==null&&(An[kn++]=jr,An[kn++]=zr,An[kn++]=ws,jr=n.id,zr=n.overflow,ws=r),r=xf(r,c.children),r.flags|=4096,r)}function Bv(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),af(n.return,r,a)}function Nf(n,r,a,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function $v(n,r,a){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if(Xt(n,r,c.children,a),c=ot.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bv(n,a,r);else if(n.tag===19)Bv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Xe(ot,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&fc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Nf(r,!1,d,a,p);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&fc(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Nf(r,!0,a,null,p);break;case"together":Nf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ec(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function qr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),As|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=zi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=zi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Tk(n,r,a){switch(r.tag){case 3:Uv(r),Lo();break;case 5:rv(r);break;case 1:on(r.type)&&rc(r);break;case 4:cf(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Xe(uc,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Xe(ot,ot.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?zv(n,r,a):(Xe(ot,ot.current&1),n=qr(n,r,a),n!==null?n.sibling:null);Xe(ot,ot.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(n.flags&128)!==0){if(c)return $v(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Xe(ot,ot.current),c)break;return null;case 22:case 23:return r.lanes=0,Lv(n,r,a)}return qr(n,r,a)}var qv,bf,Hv,Wv;qv=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},bf=function(){},Hv=function(n,r,a,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,Is(pr.current);var p=null;switch(a){case"input":d=xr(n,d),c=xr(n,c),p=[];break;case"select":d=ne({},d,{value:void 0}),c=ne({},c,{value:void 0}),p=[];break;case"textarea":d=ae(n,d),c=ae(n,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=ec)}Va(a,c);var v;a=null;for(U in d)if(!c.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var I=d[U];for(v in I)I.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in c){var R=c[U];if(I=d?.[U],c.hasOwnProperty(U)&&R!==I&&(R!=null||I!=null))if(U==="style")if(I){for(v in I)!I.hasOwnProperty(v)||R&&R.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in R)R.hasOwnProperty(v)&&I[v]!==R[v]&&(a||(a={}),a[v]=R[v])}else a||(p||(p=[]),p.push(U,a)),a=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,I=I?I.__html:void 0,R!=null&&I!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&et("scroll",n),p||I===R||(p=[])):(p=p||[]).push(U,R))}a&&(p=p||[]).push("style",a);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},Wv=function(n,r,a,c){a!==c&&(r.flags|=4)};function fl(n,r){if(!it)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Gt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function Ik(n,r,a){var c=r.pendingProps;switch(Zd(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(r),null;case 1:return on(r.type)&&nc(),Gt(r),null;case 3:return c=r.stateNode,jo(),tt(sn),tt(Ht),ff(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ac(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wn!==null&&($f(Wn),Wn=null))),bf(n,r),Gt(r),null;case 5:hf(r);var d=Is(ll.current);if(a=r.type,n!==null&&r.stateNode!=null)Hv(n,r,a,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return Gt(r),null}if(n=Is(pr.current),ac(r)){c=r.stateNode,a=r.type;var p=r.memoizedProps;switch(c[fr]=r,c[rl]=p,n=(r.mode&1)!==0,a){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(d=0;d<el.length;d++)et(el[d],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":gi(c,p),et("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},et("invalid",c);break;case"textarea":Ee(c,p),et("invalid",c)}Va(a,p),d=null;for(var v in p)if(p.hasOwnProperty(v)){var I=p[v];v==="children"?typeof I=="string"?c.textContent!==I&&(p.suppressHydrationWarning!==!0&&Zu(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&Zu(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&et("scroll",c)}switch(a){case"input":On(c),ro(c,p,!0);break;case"textarea":On(c),St(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=ec)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qe(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[fr]=r,n[rl]=c,qv(n,r,!1,!1),r.stateNode=n;e:{switch(v=Da(a,c),a){case"dialog":et("cancel",n),et("close",n),d=c;break;case"iframe":case"object":case"embed":et("load",n),d=c;break;case"video":case"audio":for(d=0;d<el.length;d++)et(el[d],n);d=c;break;case"source":et("error",n),d=c;break;case"img":case"image":case"link":et("error",n),et("load",n),d=c;break;case"details":et("toggle",n),d=c;break;case"input":gi(n,c),d=xr(n,c),et("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ne({},c,{value:void 0}),et("invalid",n);break;case"textarea":Ee(n,c),d=ae(n,c),et("invalid",n);break;default:d=c}Va(a,d),I=d;for(p in I)if(I.hasOwnProperty(p)){var R=I[p];p==="style"?Na(n,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Pa(n,R)):p==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&vi(n,R):typeof R=="number"&&vi(n,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?R!=null&&p==="onScroll"&&et("scroll",n):R!=null&&ve(n,p,R,v))}switch(a){case"input":On(n),ro(n,c,!1);break;case"textarea":On(n),St(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Le(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?H(n,!!c.multiple,p,!1):c.defaultValue!=null&&H(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=ec)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Gt(r),null;case 6:if(n&&r.stateNode!=null)Wv(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(a=Is(ll.current),Is(pr.current),ac(r)){if(c=r.stateNode,a=r.memoizedProps,c[fr]=r,(p=c.nodeValue!==a)&&(n=gn,n!==null))switch(n.tag){case 3:Zu(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zu(c.nodeValue,a,(n.mode&1)!==0)}p&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[fr]=r,r.stateNode=c}return Gt(r),null;case 13:if(tt(ot),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(it&&yn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Q_(),Lo(),r.flags|=98560,p=!1;else if(p=ac(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[fr]=r}else Lo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Gt(r),p=!1}else Wn!==null&&($f(Wn),Wn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(ot.current&1)!==0?Ct===0&&(Ct=3):Wf())),r.updateQueue!==null&&(r.flags|=4),Gt(r),null);case 4:return jo(),bf(n,r),n===null&&tl(r.stateNode.containerInfo),Gt(r),null;case 10:return of(r.type._context),Gt(r),null;case 17:return on(r.type)&&nc(),Gt(r),null;case 19:if(tt(ot),p=r.memoizedState,p===null)return Gt(r),null;if(c=(r.flags&128)!==0,v=p.rendering,v===null)if(c)fl(p,!1);else{if(Ct!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=fc(n),v!==null){for(r.flags|=128,fl(p,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)p=a,n=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,n=v.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Xe(ot,ot.current&1|2),r.child}n=n.sibling}p.tail!==null&&Ye()>qo&&(r.flags|=128,c=!0,fl(p,!1),r.lanes=4194304)}else{if(!c)if(n=fc(v),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),fl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!it)return Gt(r),null}else 2*Ye()-p.renderingStartTime>qo&&a!==1073741824&&(r.flags|=128,c=!0,fl(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(a=p.last,a!==null?a.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ye(),r.sibling=null,a=ot.current,Xe(ot,c?a&1|2:a&1),r):(Gt(r),null);case 22:case 23:return Hf(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(_n&1073741824)!==0&&(Gt(r),r.subtreeFlags&6&&(r.flags|=8192)):Gt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function Sk(n,r){switch(Zd(r),r.tag){case 1:return on(r.type)&&nc(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return jo(),tt(sn),tt(Ht),ff(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return hf(r),null;case 13:if(tt(ot),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Lo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return tt(ot),null;case 4:return jo(),null;case 10:return of(r.type._context),null;case 22:case 23:return Hf(),null;case 24:return null;default:return null}}var Tc=!1,Kt=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,se=null;function Bo(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ut(n,r,c)}else a.current=null}function Vf(n,r,a){try{a()}catch(c){ut(n,r,c)}}var Gv=!1;function kk(n,r){if(qd=Ci,n=A_(),Ld(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var v=0,I=-1,R=-1,U=0,K=0,Y=n,G=null;t:for(;;){for(var re;Y!==a||d!==0&&Y.nodeType!==3||(I=v+d),Y!==p||c!==0&&Y.nodeType!==3||(R=v+c),Y.nodeType===3&&(v+=Y.nodeValue.length),(re=Y.firstChild)!==null;)G=Y,Y=re;for(;;){if(Y===n)break t;if(G===a&&++U===d&&(I=v),G===p&&++K===c&&(R=v),(re=Y.nextSibling)!==null)break;Y=G,G=Y.parentNode}Y=re}a=I===-1||R===-1?null:{start:I,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:n,selectionRange:a},Ci=!1,se=r;se!==null;)if(r=se,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,se=n;else for(;se!==null;){r=se;try{var oe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var le=oe.memoizedProps,ft=oe.memoizedState,L=r.stateNode,P=L.getSnapshotBeforeUpdate(r.elementType===r.type?le:Gn(r.type,le),ft);L.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){ut(r,r.return,X)}if(n=r.sibling,n!==null){n.return=r.return,se=n;break}se=r.return}return oe=Gv,Gv=!1,oe}function pl(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&Vf(r,a,p)}d=d.next}while(d!==c)}}function Ic(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function Df(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function Kv(n){var r=n.alternate;r!==null&&(n.alternate=null,Kv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[fr],delete r[rl],delete r[Qd],delete r[lk],delete r[uk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Qv(n){return n.tag===5||n.tag===3||n.tag===4}function Yv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Of(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ec));else if(c!==4&&(n=n.child,n!==null))for(Of(n,r,a),n=n.sibling;n!==null;)Of(n,r,a),n=n.sibling}function Lf(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Lf(n,r,a),n=n.sibling;n!==null;)Lf(n,r,a),n=n.sibling}var Ut=null,Kn=!1;function Li(n,r,a){for(a=a.child;a!==null;)Xv(n,r,a),a=a.sibling}function Xv(n,r,a){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(hs,a)}catch{}switch(a.tag){case 5:Kt||Bo(a,r);case 6:var c=Ut,d=Kn;Ut=null,Li(n,r,a),Ut=c,Kn=d,Ut!==null&&(Kn?(n=Ut,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ut.removeChild(a.stateNode));break;case 18:Ut!==null&&(Kn?(n=Ut,a=a.stateNode,n.nodeType===8?Kd(n.parentNode,a):n.nodeType===1&&Kd(n,a),$n(n)):Kd(Ut,a.stateNode));break;case 4:c=Ut,d=Kn,Ut=a.stateNode.containerInfo,Kn=!0,Li(n,r,a),Ut=c,Kn=d;break;case 0:case 11:case 14:case 15:if(!Kt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Vf(a,r,v),d=d.next}while(d!==c)}Li(n,r,a);break;case 1:if(!Kt&&(Bo(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){ut(a,r,I)}Li(n,r,a);break;case 21:Li(n,r,a);break;case 22:a.mode&1?(Kt=(c=Kt)||a.memoizedState!==null,Li(n,r,a),Kt=c):Li(n,r,a);break;default:Li(n,r,a)}}function Jv(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Ak),r.forEach(function(c){var d=Ok.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Qn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var p=n,v=r,I=v;e:for(;I!==null;){switch(I.tag){case 5:Ut=I.stateNode,Kn=!1;break e;case 3:Ut=I.stateNode.containerInfo,Kn=!0;break e;case 4:Ut=I.stateNode.containerInfo,Kn=!0;break e}I=I.return}if(Ut===null)throw Error(t(160));Xv(p,v,d),Ut=null,Kn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(U){ut(d,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Zv(r,n),r=r.sibling}function Zv(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qn(r,n),gr(n),c&4){try{pl(3,n,n.return),Ic(3,n)}catch(le){ut(n,n.return,le)}try{pl(5,n,n.return)}catch(le){ut(n,n.return,le)}}break;case 1:Qn(r,n),gr(n),c&512&&a!==null&&Bo(a,a.return);break;case 5:if(Qn(r,n),gr(n),c&512&&a!==null&&Bo(a,a.return),n.flags&32){var d=n.stateNode;try{vi(d,"")}catch(le){ut(n,n.return,le)}}if(c&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,v=a!==null?a.memoizedProps:p,I=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&yi(d,p),Da(I,v);var U=Da(I,p);for(v=0;v<R.length;v+=2){var K=R[v],Y=R[v+1];K==="style"?Na(d,Y):K==="dangerouslySetInnerHTML"?Pa(d,Y):K==="children"?vi(d,Y):ve(d,K,Y,U)}switch(I){case"input":ns(d,p);break;case"textarea":nt(d,p);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?H(d,!!p.multiple,re,!1):G!==!!p.multiple&&(p.defaultValue!=null?H(d,!!p.multiple,p.defaultValue,!0):H(d,!!p.multiple,p.multiple?[]:"",!1))}d[rl]=p}catch(le){ut(n,n.return,le)}}break;case 6:if(Qn(r,n),gr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(le){ut(n,n.return,le)}}break;case 3:if(Qn(r,n),gr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{$n(r.containerInfo)}catch(le){ut(n,n.return,le)}break;case 4:Qn(r,n),gr(n);break;case 13:Qn(r,n),gr(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Uf=Ye())),c&4&&Jv(n);break;case 22:if(K=a!==null&&a.memoizedState!==null,n.mode&1?(Kt=(U=Kt)||K,Qn(r,n),Kt=U):Qn(r,n),gr(n),c&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!K&&(n.mode&1)!==0)for(se=n,K=n.child;K!==null;){for(Y=se=K;se!==null;){switch(G=se,re=G.child,G.tag){case 0:case 11:case 14:case 15:pl(4,G,G.return);break;case 1:Bo(G,G.return);var oe=G.stateNode;if(typeof oe.componentWillUnmount=="function"){c=G,a=G.return;try{r=c,oe.props=r.memoizedProps,oe.state=r.memoizedState,oe.componentWillUnmount()}catch(le){ut(c,a,le)}}break;case 5:Bo(G,G.return);break;case 22:if(G.memoizedState!==null){nw(Y);continue}}re!==null?(re.return=G,se=re):nw(Y)}K=K.sibling}e:for(K=null,Y=n;;){if(Y.tag===5){if(K===null){K=Y;try{d=Y.stateNode,U?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=Y.stateNode,R=Y.memoizedProps.style,v=R!=null&&R.hasOwnProperty("display")?R.display:null,I.style.display=xa("display",v))}catch(le){ut(n,n.return,le)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=U?"":Y.memoizedProps}catch(le){ut(n,n.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Qn(r,n),gr(n),c&4&&Jv(n);break;case 21:break;default:Qn(r,n),gr(n)}}function gr(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(Qv(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(vi(d,""),c.flags&=-33);var p=Yv(n);Lf(n,p,d);break;case 3:case 4:var v=c.stateNode.containerInfo,I=Yv(n);Of(n,I,v);break;default:throw Error(t(161))}}catch(R){ut(n,n.return,R)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ck(n,r,a){se=n,ew(n)}function ew(n,r,a){for(var c=(n.mode&1)!==0;se!==null;){var d=se,p=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Tc;if(!v){var I=d.alternate,R=I!==null&&I.memoizedState!==null||Kt;I=Tc;var U=Kt;if(Tc=v,(Kt=R)&&!U)for(se=d;se!==null;)v=se,R=v.child,v.tag===22&&v.memoizedState!==null?rw(d):R!==null?(R.return=v,se=R):rw(d);for(;p!==null;)se=p,ew(p),p=p.sibling;se=d,Tc=I,Kt=U}tw(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,se=p):tw(n)}}function tw(n){for(;se!==null;){var r=se;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Kt||Ic(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Kt)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Gn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&nv(r,p,c);break;case 3:var v=r.updateQueue;if(v!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}nv(r,v,a)}break;case 5:var I=r.stateNode;if(a===null&&r.flags&4){a=I;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var K=U.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&$n(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||r.flags&512&&Df(r)}catch(G){ut(r,r.return,G)}}if(r===n){se=null;break}if(a=r.sibling,a!==null){a.return=r.return,se=a;break}se=r.return}}function nw(n){for(;se!==null;){var r=se;if(r===n){se=null;break}var a=r.sibling;if(a!==null){a.return=r.return,se=a;break}se=r.return}}function rw(n){for(;se!==null;){var r=se;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Ic(4,r)}catch(R){ut(r,a,R)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(R){ut(r,d,R)}}var p=r.return;try{Df(r)}catch(R){ut(r,p,R)}break;case 5:var v=r.return;try{Df(r)}catch(R){ut(r,v,R)}}}catch(R){ut(r,r.return,R)}if(r===n){se=null;break}var I=r.sibling;if(I!==null){I.return=r.return,se=I;break}se=r.return}}var Rk=Math.ceil,Sc=Pe.ReactCurrentDispatcher,Mf=Pe.ReactCurrentOwner,Pn=Pe.ReactCurrentBatchConfig,Ue=0,Nt=null,Et=null,jt=0,_n=0,$o=Ni(0),Ct=0,ml=null,As=0,Ac=0,Ff=0,gl=null,ln=null,Uf=0,qo=1/0,Hr=null,kc=!1,jf=null,Mi=null,Cc=!1,Fi=null,Rc=0,yl=0,zf=null,Pc=-1,xc=0;function Jt(){return(Ue&6)!==0?Ye():Pc!==-1?Pc:Pc=Ye()}function Ui(n){return(n.mode&1)===0?1:(Ue&2)!==0&&jt!==0?jt&-jt:hk.transition!==null?(xc===0&&(xc=fs()),xc):(n=Ve,n!==0||(n=window.event,n=n===void 0?16:Ha(n.type)),n)}function Yn(n,r,a,c){if(50<yl)throw yl=0,zf=null,Error(t(185));Ii(n,a,c),((Ue&2)===0||n!==Nt)&&(n===Nt&&((Ue&2)===0&&(Ac|=a),Ct===4&&ji(n,jt)),un(n,c),a===1&&Ue===0&&(r.mode&1)===0&&(qo=Ye()+500,ic&&Vi()))}function un(n,r){var a=n.callbackNode;Vr(n,r);var c=ds(n,n===Nt?jt:0);if(c===0)a!==null&&ja(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&ja(a),r===1)n.tag===0?ck(sw.bind(null,n)):q_(sw.bind(null,n)),ok(function(){(Ue&6)===0&&Vi()}),a=null;else{switch(Ai(c)){case 1:a=cs;break;case 4:a=wi;break;case 16:a=Tn;break;case 536870912:a=xu;break;default:a=Tn}a=fw(a,iw.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function iw(n,r){if(Pc=-1,xc=0,(Ue&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Ho()&&n.callbackNode!==a)return null;var c=ds(n,n===Nt?jt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=Nc(n,c);else{r=c;var d=Ue;Ue|=2;var p=aw();(Nt!==n||jt!==r)&&(Hr=null,qo=Ye()+500,Cs(n,r));do try{Nk();break}catch(I){ow(n,I)}while(!0);sf(),Sc.current=p,Ue=d,Et!==null?r=0:(Nt=null,jt=0,r=Ct)}if(r!==0){if(r===2&&(d=fn(n),d!==0&&(c=d,r=Bf(n,d))),r===1)throw a=ml,Cs(n,0),ji(n,c),un(n,Ye()),a;if(r===6)ji(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Pk(d)&&(r=Nc(n,c),r===2&&(p=fn(n),p!==0&&(c=p,r=Bf(n,p))),r===1))throw a=ml,Cs(n,0),ji(n,c),un(n,Ye()),a;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:Rs(n,ln,Hr);break;case 3:if(ji(n,c),(c&130023424)===c&&(r=Uf+500-Ye(),10<r)){if(ds(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Jt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Gd(Rs.bind(null,n,ln,Hr),r);break}Rs(n,ln,Hr);break;case 4:if(ji(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var v=31-Qt(c);p=1<<v,v=r[v],v>d&&(d=v),c&=~p}if(c=d,c=Ye()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Rk(c/1960))-c,10<c){n.timeoutHandle=Gd(Rs.bind(null,n,ln,Hr),c);break}Rs(n,ln,Hr);break;case 5:Rs(n,ln,Hr);break;default:throw Error(t(329))}}}return un(n,Ye()),n.callbackNode===a?iw.bind(null,n):null}function Bf(n,r){var a=gl;return n.current.memoizedState.isDehydrated&&(Cs(n,r).flags|=256),n=Nc(n,r),n!==2&&(r=ln,ln=a,r!==null&&$f(r)),n}function $f(n){ln===null?ln=n:ln.push.apply(ln,n)}function Pk(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!Hn(p(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ji(n,r){for(r&=~Ff,r&=~Ac,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-Qt(r),c=1<<a;n[a]=-1,r&=~c}}function sw(n){if((Ue&6)!==0)throw Error(t(327));Ho();var r=ds(n,0);if((r&1)===0)return un(n,Ye()),null;var a=Nc(n,r);if(n.tag!==0&&a===2){var c=fn(n);c!==0&&(r=c,a=Bf(n,c))}if(a===1)throw a=ml,Cs(n,0),ji(n,r),un(n,Ye()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Rs(n,ln,Hr),un(n,Ye()),null}function qf(n,r){var a=Ue;Ue|=1;try{return n(r)}finally{Ue=a,Ue===0&&(qo=Ye()+500,ic&&Vi())}}function ks(n){Fi!==null&&Fi.tag===0&&(Ue&6)===0&&Ho();var r=Ue;Ue|=1;var a=Pn.transition,c=Ve;try{if(Pn.transition=null,Ve=1,n)return n()}finally{Ve=c,Pn.transition=a,Ue=r,(Ue&6)===0&&Vi()}}function Hf(){_n=$o.current,tt($o)}function Cs(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,sk(a)),Et!==null)for(a=Et.return;a!==null;){var c=a;switch(Zd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&nc();break;case 3:jo(),tt(sn),tt(Ht),ff();break;case 5:hf(c);break;case 4:jo();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:of(c.type._context);break;case 22:case 23:Hf()}a=a.return}if(Nt=n,Et=n=zi(n.current,null),jt=_n=r,Ct=0,ml=null,Ff=Ac=As=0,ln=gl=null,Ts!==null){for(r=0;r<Ts.length;r++)if(a=Ts[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,p=a.pending;if(p!==null){var v=p.next;p.next=d,c.next=v}a.pending=c}Ts=null}return n}function ow(n,r){do{var a=Et;try{if(sf(),pc.current=_c,mc){for(var c=at.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}mc=!1}if(Ss=0,xt=kt=at=null,ul=!1,cl=0,Mf.current=null,a===null||a.return===null){Ct=1,ml=r,Et=null;break}e:{var p=n,v=a.return,I=a,R=r;if(r=jt,I.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,K=I,Y=K.tag;if((K.mode&1)===0&&(Y===0||Y===11||Y===15)){var G=K.alternate;G?(K.updateQueue=G.updateQueue,K.memoizedState=G.memoizedState,K.lanes=G.lanes):(K.updateQueue=null,K.memoizedState=null)}var re=Nv(v);if(re!==null){re.flags&=-257,bv(re,v,I,p,r),re.mode&1&&xv(p,U,r),r=re,R=U;var oe=r.updateQueue;if(oe===null){var le=new Set;le.add(R),r.updateQueue=le}else oe.add(R);break e}else{if((r&1)===0){xv(p,U,r),Wf();break e}R=Error(t(426))}}else if(it&&I.mode&1){var ft=Nv(v);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),bv(ft,v,I,p,r),nf(zo(R,I));break e}}p=R=zo(R,I),Ct!==4&&(Ct=2),gl===null?gl=[p]:gl.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var L=Rv(p,R,r);tv(p,L);break e;case 1:I=R;var P=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Mi===null||!Mi.has(M)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=Pv(p,I,r);tv(p,X);break e}}p=p.return}while(p!==null)}uw(a)}catch(ue){r=ue,Et===a&&a!==null&&(Et=a=a.return);continue}break}while(!0)}function aw(){var n=Sc.current;return Sc.current=_c,n===null?_c:n}function Wf(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||(As&268435455)===0&&(Ac&268435455)===0||ji(Nt,jt)}function Nc(n,r){var a=Ue;Ue|=2;var c=aw();(Nt!==n||jt!==r)&&(Hr=null,Cs(n,r));do try{xk();break}catch(d){ow(n,d)}while(!0);if(sf(),Ue=a,Sc.current=c,Et!==null)throw Error(t(261));return Nt=null,jt=0,Ct}function xk(){for(;Et!==null;)lw(Et)}function Nk(){for(;Et!==null&&!Ru();)lw(Et)}function lw(n){var r=dw(n.alternate,n,_n);n.memoizedProps=n.pendingProps,r===null?uw(n):Et=r,Mf.current=null}function uw(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=Ik(a,r,_n),a!==null){Et=a;return}}else{if(a=Sk(a,r),a!==null){a.flags&=32767,Et=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ct=6,Et=null;return}}if(r=r.sibling,r!==null){Et=r;return}Et=r=n}while(r!==null);Ct===0&&(Ct=5)}function Rs(n,r,a){var c=Ve,d=Pn.transition;try{Pn.transition=null,Ve=1,bk(n,r,a,c)}finally{Pn.transition=d,Ve=c}return null}function bk(n,r,a,c){do Ho();while(Fi!==null);if((Ue&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(Ge(n,p),n===Nt&&(Et=Nt=null,jt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Cc||(Cc=!0,fw(Tn,function(){return Ho(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Pn.transition,Pn.transition=null;var v=Ve;Ve=1;var I=Ue;Ue|=4,Mf.current=null,kk(n,a),Zv(a,n),JA(Hd),Ci=!!qd,Hd=qd=null,n.current=a,Ck(a),Rd(),Ue=I,Ve=v,Pn.transition=p}else n.current=a;if(Cc&&(Cc=!1,Fi=n,Rc=d),p=n.pendingLanes,p===0&&(Mi=null),Nu(a.stateNode),un(n,Ye()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(kc)throw kc=!1,n=jf,jf=null,n;return(Rc&1)!==0&&n.tag!==0&&Ho(),p=n.pendingLanes,(p&1)!==0?n===zf?yl++:(yl=0,zf=n):yl=0,Vi(),null}function Ho(){if(Fi!==null){var n=Ai(Rc),r=Pn.transition,a=Ve;try{if(Pn.transition=null,Ve=16>n?16:n,Fi===null)var c=!1;else{if(n=Fi,Fi=null,Rc=0,(Ue&6)!==0)throw Error(t(331));var d=Ue;for(Ue|=4,se=n.current;se!==null;){var p=se,v=p.child;if((se.flags&16)!==0){var I=p.deletions;if(I!==null){for(var R=0;R<I.length;R++){var U=I[R];for(se=U;se!==null;){var K=se;switch(K.tag){case 0:case 11:case 15:pl(8,K,p)}var Y=K.child;if(Y!==null)Y.return=K,se=Y;else for(;se!==null;){K=se;var G=K.sibling,re=K.return;if(Kv(K),K===U){se=null;break}if(G!==null){G.return=re,se=G;break}se=re}}}var oe=p.alternate;if(oe!==null){var le=oe.child;if(le!==null){oe.child=null;do{var ft=le.sibling;le.sibling=null,le=ft}while(le!==null)}}se=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,se=v;else e:for(;se!==null;){if(p=se,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:pl(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,se=L;break e}se=p.return}}var P=n.current;for(se=P;se!==null;){v=se;var M=v.child;if((v.subtreeFlags&2064)!==0&&M!==null)M.return=v,se=M;else e:for(v=P;se!==null;){if(I=se,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Ic(9,I)}}catch(ue){ut(I,I.return,ue)}if(I===v){se=null;break e}var X=I.sibling;if(X!==null){X.return=I.return,se=X;break e}se=I.return}}if(Ue=d,Vi(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(hs,n)}catch{}c=!0}return c}finally{Ve=a,Pn.transition=r}}return!1}function cw(n,r,a){r=zo(a,r),r=Rv(n,r,1),n=Oi(n,r,1),r=Jt(),n!==null&&(Ii(n,1,r),un(n,r))}function ut(n,r,a){if(n.tag===3)cw(n,n,a);else for(;r!==null;){if(r.tag===3){cw(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Mi===null||!Mi.has(c))){n=zo(a,n),n=Pv(r,n,1),r=Oi(r,n,1),n=Jt(),r!==null&&(Ii(r,1,n),un(r,n));break}}r=r.return}}function Vk(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=Jt(),n.pingedLanes|=n.suspendedLanes&a,Nt===n&&(jt&a)===a&&(Ct===4||Ct===3&&(jt&130023424)===jt&&500>Ye()-Uf?Cs(n,0):Ff|=a),un(n,r)}function hw(n,r){r===0&&((n.mode&1)===0?r=1:(r=po,po<<=1,(po&130023424)===0&&(po=4194304)));var a=Jt();n=Br(n,r),n!==null&&(Ii(n,r,a),un(n,a))}function Dk(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),hw(n,a)}function Ok(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),hw(n,a)}var dw;dw=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||sn.current)an=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return an=!1,Tk(n,r,a);an=(n.flags&131072)!==0}else an=!1,it&&(r.flags&1048576)!==0&&H_(r,oc,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Ec(n,r),n=r.pendingProps;var d=Vo(r,Ht.current);Uo(r,a),d=gf(null,r,c,n,d,a);var p=yf();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,on(c)?(p=!0,rc(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,uf(r),d.updater=vc,r.stateNode=d,d._reactInternals=r,If(r,c,n,a),r=Cf(null,r,c,!0,p,a)):(r.tag=0,it&&p&&Jd(r),Xt(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Ec(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=Mk(c),n=Gn(c,n),d){case 0:r=kf(null,r,c,n,a);break e;case 1:r=Fv(null,r,c,n,a);break e;case 11:r=Vv(null,r,c,n,a);break e;case 14:r=Dv(null,r,c,Gn(c.type,n),a);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Gn(c,d),kf(n,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Gn(c,d),Fv(n,r,c,d,a);case 3:e:{if(Uv(r),n===null)throw Error(t(387));c=r.pendingProps,p=r.memoizedState,d=p.element,ev(n,r),dc(r,c,null,a);var v=r.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=zo(Error(t(423)),r),r=jv(n,r,c,a,d);break e}else if(c!==d){d=zo(Error(t(424)),r),r=jv(n,r,c,a,d);break e}else for(yn=xi(r.stateNode.containerInfo.firstChild),gn=r,it=!0,Wn=null,a=J_(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Lo(),c===d){r=qr(n,r,a);break e}Xt(n,r,c,a)}r=r.child}return r;case 5:return rv(r),n===null&&tf(r),c=r.type,d=r.pendingProps,p=n!==null?n.memoizedProps:null,v=d.children,Wd(c,d)?v=null:p!==null&&Wd(c,p)&&(r.flags|=32),Mv(n,r),Xt(n,r,v,a),r.child;case 6:return n===null&&tf(r),null;case 13:return zv(n,r,a);case 4:return cf(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Mo(r,null,c,a):Xt(n,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Gn(c,d),Vv(n,r,c,d,a);case 7:return Xt(n,r,r.pendingProps,a),r.child;case 8:return Xt(n,r,r.pendingProps.children,a),r.child;case 12:return Xt(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,v=d.value,Xe(uc,c._currentValue),c._currentValue=v,p!==null)if(Hn(p.value,v)){if(p.children===d.children&&!sn.current){r=qr(n,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){v=p.child;for(var R=I.firstContext;R!==null;){if(R.context===c){if(p.tag===1){R=$r(-1,a&-a),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var K=U.pending;K===null?R.next=R:(R.next=K.next,K.next=R),U.pending=R}}p.lanes|=a,R=p.alternate,R!==null&&(R.lanes|=a),af(p.return,a,r),I.lanes|=a;break}R=R.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(t(341));v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),af(v,a,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Xt(n,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Uo(r,a),d=Cn(d),c=c(d),r.flags|=1,Xt(n,r,c,a),r.child;case 14:return c=r.type,d=Gn(c,r.pendingProps),d=Gn(c.type,d),Dv(n,r,c,d,a);case 15:return Ov(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Gn(c,d),Ec(n,r),r.tag=1,on(c)?(n=!0,rc(r)):n=!1,Uo(r,a),kv(r,c,d),If(r,c,d,a),Cf(null,r,c,!0,n,a);case 19:return $v(n,r,a);case 22:return Lv(n,r,a)}throw Error(t(156,r.tag))};function fw(n,r){return ho(n,r)}function Lk(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(n,r,a,c){return new Lk(n,r,a,c)}function Gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Mk(n){if(typeof n=="function")return Gf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===_t)return 14}return 2}function zi(n,r){var a=n.alternate;return a===null?(a=xn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function bc(n,r,a,c,d,p){var v=2;if(c=n,typeof n=="function")Gf(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case N:return Ps(a.children,d,p,r);case T:v=8,d|=8;break;case A:return n=xn(12,a,r,d|2),n.elementType=A,n.lanes=p,n;case S:return n=xn(13,a,r,d),n.elementType=S,n.lanes=p,n;case Ze:return n=xn(19,a,r,d),n.elementType=Ze,n.lanes=p,n;case Oe:return Vc(a,d,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:v=10;break e;case b:v=9;break e;case V:v=11;break e;case _t:v=14;break e;case It:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=xn(v,a,r,d),r.elementType=n,r.type=c,r.lanes=p,r}function Ps(n,r,a,c){return n=xn(7,n,c,r),n.lanes=a,n}function Vc(n,r,a,c){return n=xn(22,n,c,r),n.elementType=Oe,n.lanes=a,n.stateNode={isHidden:!1},n}function Kf(n,r,a){return n=xn(6,n,null,r),n.lanes=a,n}function Qf(n,r,a){return r=xn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Fk(n,r,a,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Yf(n,r,a,c,d,p,v,I,R){return n=new Fk(n,r,a,I,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=xn(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(p),n}function Uk(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function pw(n){if(!n)return bi;n=n._reactInternals;e:{if(Fn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(on(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(on(a))return B_(n,a,r)}return r}function mw(n,r,a,c,d,p,v,I,R){return n=Yf(a,c,!0,n,d,p,v,I,R),n.context=pw(null),a=n.current,c=Jt(),d=Ui(a),p=$r(c,d),p.callback=r??null,Oi(a,p,d),n.current.lanes=d,Ii(n,d,c),un(n,c),n}function Dc(n,r,a,c){var d=r.current,p=Jt(),v=Ui(d);return a=pw(a),r.context===null?r.context=a:r.pendingContext=a,r=$r(p,v),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=Oi(d,r,v),n!==null&&(Yn(n,d,v,p),hc(n,d,v)),v}function Oc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function gw(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Xf(n,r){gw(n,r),(n=n.alternate)&&gw(n,r)}function jk(){return null}var yw=typeof reportError=="function"?reportError:function(n){console.error(n)};function Jf(n){this._internalRoot=n}Lc.prototype.render=Jf.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));Dc(n,r,null,null)},Lc.prototype.unmount=Jf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;ks(function(){Dc(null,n,null,null)}),r[Fr]=null}};function Lc(n){this._internalRoot=n}Lc.prototype.unstable_scheduleHydration=function(n){if(n){var r=Lu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ur.length&&r!==0&&r<ur[a].priority;a++);ur.splice(a,0,n),a===0&&Uu(n)}};function Zf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Mc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function _w(){}function zk(n,r,a,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var U=Oc(v);p.call(U)}}var v=mw(r,c,n,0,null,!1,!1,"",_w);return n._reactRootContainer=v,n[Fr]=v.current,tl(n.nodeType===8?n.parentNode:n),ks(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var U=Oc(R);I.call(U)}}var R=Yf(n,0,!1,null,null,!1,!1,"",_w);return n._reactRootContainer=R,n[Fr]=R.current,tl(n.nodeType===8?n.parentNode:n),ks(function(){Dc(r,R,a,c)}),R}function Fc(n,r,a,c,d){var p=a._reactRootContainer;if(p){var v=p;if(typeof d=="function"){var I=d;d=function(){var R=Oc(v);I.call(R)}}Dc(r,v,n,d)}else v=zk(a,r,n,d,c);return Oc(v)}Du=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=Ei(r.pendingLanes);a!==0&&(Si(r,a|1),un(r,Ye()),(Ue&6)===0&&(qo=Ye()+500,Vi()))}break;case 13:ks(function(){var c=Br(n,1);if(c!==null){var d=Jt();Yn(c,n,1,d)}}),Xf(n,1)}},mo=function(n){if(n.tag===13){var r=Br(n,134217728);if(r!==null){var a=Jt();Yn(r,n,134217728,a)}Xf(n,134217728)}},Ou=function(n){if(n.tag===13){var r=Ui(n),a=Br(n,r);if(a!==null){var c=Jt();Yn(a,n,r,c)}Xf(n,r)}},Lu=function(){return Ve},Mu=function(n,r){var a=Ve;try{return Ve=n,r()}finally{Ve=a}},so=function(n,r,a){switch(r){case"input":if(ns(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var d=tc(c);if(!d)throw Error(t(90));mi(c),ns(c,d)}}}break;case"textarea":nt(n,a);break;case"select":r=a.value,r!=null&&H(n,!!a.multiple,r,!1)}},os=qf,La=ks;var Bk={usingClientEntryPoint:!1,Events:[il,No,tc,ar,Oa,qf]},_l={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$k={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ua(n),n===null?null:n.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{hs=Uc.inject($k),dn=Uc}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bk,Zt.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zf(r))throw Error(t(200));return Uk(n,r,null,a)},Zt.createRoot=function(n,r){if(!Zf(n))throw Error(t(299));var a=!1,c="",d=yw;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Yf(n,1,!1,null,null,a,!1,c,d),n[Fr]=r.current,tl(n.nodeType===8?n.parentNode:n),new Jf(r)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ua(r),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return ks(n)},Zt.hydrate=function(n,r,a){if(!Mc(r))throw Error(t(200));return Fc(null,n,r,!0,a)},Zt.hydrateRoot=function(n,r,a){if(!Zf(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,p="",v=yw;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),r=mw(r,null,n,1,a??null,d,!1,p,v),n[Fr]=r.current,tl(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new Lc(r)},Zt.render=function(n,r,a){if(!Mc(r))throw Error(t(200));return Fc(null,n,r,!1,a)},Zt.unmountComponentAtNode=function(n){if(!Mc(n))throw Error(t(40));return n._reactRootContainer?(ks(function(){Fc(null,null,n,!1,function(){n._reactRootContainer=null,n[Fr]=null})}),!0):!1},Zt.unstable_batchedUpdates=qf,Zt.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!Mc(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Fc(n,r,a,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var lp;function Aw(){if(lp)return $c.exports;lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$c.exports=Sw(),$c.exports}var up;function kw(){if(up)return vl;up=1;var i=Aw();return vl.createRoot=i.createRoot,vl.hydrateRoot=i.hydrateRoot,vl}var Cw=kw();const Rw=()=>{};var cp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Pw=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},dp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,y=o+2<i.length,_=y?i[o+2]:0,E=u>>2,C=(u&3)<<4|m>>4;let k=(m&15)<<2|_>>6,z=_&63;y||(z=64,h||(k=64)),s.push(t[E],t[C],t[k],t[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(hp(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Pw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const _=o<i.length?t[i.charAt(o)]:64;++o;const C=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||_==null||C==null)throw new xw;const k=u<<2|m>>4;if(s.push(k),_!==64){const z=m<<4&240|_>>2;if(s.push(z),C!==64){const Q=_<<6&192|C;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nw=function(i){const e=hp(i);return dp.encodeByteArray(e,!0)},wl=function(i){return Nw(i).replace(/\./g,"")},fp=function(i){try{return dp.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=()=>bw().__FIREBASE_DEFAULTS__,Dw=()=>{if(typeof process>"u"||typeof cp>"u")return;const i=cp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Ow=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&fp(i[1]);return e&&JSON.parse(e)},El=()=>{try{return Rw()||Vw()||Dw()||Ow()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},pp=i=>El()?.emulatorHosts?.[i],Lw=i=>{const e=pp(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},mp=()=>El()?.config,gp=i=>El()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[wl(JSON.stringify(t)),wl(JSON.stringify(h)),""].join(".")}const Go={};function Uw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?i.emulator.push(e):i.prod.push(e);return i}function jw(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let _p=!1;function vp(i,e){if(typeof window>"u"||typeof document>"u"||!xs(window.location.host)||Go[i]===e||Go[i]||_p)return;Go[i]=e;function t(k){return`__firebase__banner__${k}`}const s="__firebase__banner",u=Uw().prod.length>0;function h(){const k=document.getElementById(s);k&&k.remove()}function m(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function y(k,z){k.setAttribute("width","24"),k.setAttribute("id",z),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function _(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{_p=!0,h()},k}function E(k,z){k.setAttribute("id",z),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function C(){const k=jw(s),z=t("text"),Q=document.getElementById(z)||document.createElement("span"),J=t("learnmore"),W=document.getElementById(J)||document.createElement("a"),fe=t("preprendIcon"),ge=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const ve=k.element;m(ve),E(W,J);const Pe=_();y(ge,fe),ve.append(ge,Q,W,Pe),document.body.appendChild(ve)}u?(Q.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function Bw(){const i=El()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $w(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ww(){const i=zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Gw(){return!Bw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="FirebaseError";class yr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Yw,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Xw(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new yr(o,m,s)}}function Xw(i,e){return i.replace(Jw,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Jw=/\{\$([^}]+)}/g;function Zw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function $i(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(wp(u)&&wp(h)){if(!$i(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function wp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yo(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xo(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function e0(i,e){const t=new t0(i,e);return t.subscribe.bind(t)}class t0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");n0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Wc),o.error===void 0&&(o.error=Wc),o.complete===void 0&&(o.complete=Wc);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n0(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Wc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(i){return i&&i._delegate?i._delegate:i}class qi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Mw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s0(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i0(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i0(i){return i===Hi?void 0:i}function s0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const a0={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},l0=xe.INFO,u0={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},c0=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=u0[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gc{constructor(e){this.name=e,this._logLevel=l0,this._logHandler=c0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const h0=(i,e)=>e.some(t=>i instanceof t);let Ep,Tp;function d0(){return Ep||(Ep=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f0(){return Tp||(Tp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ip=new WeakMap,Kc=new WeakMap,Sp=new WeakMap,Qc=new WeakMap,Yc=new WeakMap;function p0(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Wr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ip.set(t,i)}).catch(()=>{}),Yc.set(e,i),e}function m0(i){if(Kc.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Kc.set(i,e)}let Xc={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Kc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Sp.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function g0(i){Xc=i(Xc)}function y0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Jc(this),e,...t);return Sp.set(s,e.sort?e.sort():[e]),Wr(s)}:f0().includes(i)?function(...e){return i.apply(Jc(this),e),Wr(Ip.get(this))}:function(...e){return Wr(i.apply(Jc(this),e))}}function _0(i){return typeof i=="function"?y0(i):(i instanceof IDBTransaction&&m0(i),h0(i,d0())?new Proxy(i,Xc):i)}function Wr(i){if(i instanceof IDBRequest)return p0(i);if(Qc.has(i))return Qc.get(i);const e=_0(i);return e!==i&&(Qc.set(i,e),Yc.set(e,i)),e}const Jc=i=>Yc.get(i);function v0(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Wr(h);return s&&h.addEventListener("upgradeneeded",y=>{s(Wr(h.result),y.oldVersion,y.newVersion,Wr(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const w0=["get","getKey","getAll","getAllKeys","count"],E0=["put","add","delete","clear"],Zc=new Map;function Ap(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zc.get(e))return Zc.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=E0.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||w0.includes(t)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),o&&y.done]))[0]};return Zc.set(e,u),u}g0(i=>({...i,get:(e,t,s)=>Ap(e,t)||i.get(e,t,s),has:(e,t)=>!!Ap(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I0(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function I0(i){return i.getComponent()?.type==="VERSION"}const eh="@firebase/app",kp="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Gc("@firebase/app"),S0="@firebase/app-compat",A0="@firebase/analytics-compat",k0="@firebase/analytics",C0="@firebase/app-check-compat",R0="@firebase/app-check",P0="@firebase/auth",x0="@firebase/auth-compat",N0="@firebase/database",b0="@firebase/data-connect",V0="@firebase/database-compat",D0="@firebase/functions",O0="@firebase/functions-compat",L0="@firebase/installations",M0="@firebase/installations-compat",F0="@firebase/messaging",U0="@firebase/messaging-compat",j0="@firebase/performance",z0="@firebase/performance-compat",B0="@firebase/remote-config",$0="@firebase/remote-config-compat",q0="@firebase/storage",H0="@firebase/storage-compat",W0="@firebase/firestore",G0="@firebase/ai",K0="@firebase/firestore-compat",Q0="firebase",Y0="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="[DEFAULT]",X0={[eh]:"fire-core",[S0]:"fire-core-compat",[k0]:"fire-analytics",[A0]:"fire-analytics-compat",[R0]:"fire-app-check",[C0]:"fire-app-check-compat",[P0]:"fire-auth",[x0]:"fire-auth-compat",[N0]:"fire-rtdb",[b0]:"fire-data-connect",[V0]:"fire-rtdb-compat",[D0]:"fire-fn",[O0]:"fire-fn-compat",[L0]:"fire-iid",[M0]:"fire-iid-compat",[F0]:"fire-fcm",[U0]:"fire-fcm-compat",[j0]:"fire-perf",[z0]:"fire-perf-compat",[B0]:"fire-rc",[$0]:"fire-rc-compat",[q0]:"fire-gcs",[H0]:"fire-gcs-compat",[W0]:"fire-fst",[K0]:"fire-fst-compat",[G0]:"fire-vertex","fire-js":"fire-js",[Q0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new Map,J0=new Map,nh=new Map;function Cp(i,e){try{i.container.addComponent(e)}catch(t){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ns(i){const e=i.name;if(nh.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;nh.set(e,i);for(const t of Tl.values())Cp(t,i);for(const t of J0.values())Cp(t,i);return!0}function rh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Ko("app","Firebase",Z0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=Y0;function Rp(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:th,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(t||(t=mp()),!t)throw Gr.create("no-options");const u=Tl.get(o);if(u){if($i(t,u.options)&&$i(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const h=new o0(o);for(const y of nh.values())h.addComponent(y);const m=new eE(t,s,h);return Tl.set(o,m),m}function Pp(i=th){const e=Tl.get(i);if(!e&&i===th&&mp())return Rp();if(!e)throw Gr.create("no-app",{appName:i});return e}function Kr(i,e,t){let s=X0[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(h.join(" "));return}Ns(new qi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebase-heartbeat-database",nE=1,Jo="firebase-heartbeat-store";let ih=null;function xp(){return ih||(ih=v0(tE,nE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jo)}catch(t){console.warn(t)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),ih}async function rE(i){try{const t=(await xp()).transaction(Jo),s=await t.objectStore(Jo).get(bp(i));return await t.done,s}catch(e){if(e instanceof yr)_r.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e?.message});_r.warn(t.message)}}}async function Np(i,e){try{const s=(await xp()).transaction(Jo,"readwrite");await s.objectStore(Jo).put(e,bp(i)),await s.done}catch(t){if(t instanceof yr)_r.warn(t.message);else{const s=Gr.create("idb-set",{originalErrorMessage:t?.message});_r.warn(s.message)}}}function bp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=1024,sE=30;class oE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lE(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>sE){const o=uE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vp(),{heartbeatsToSend:t,unsentEntries:s}=aE(this._heartbeatsCache.heartbeats),o=wl(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _r.warn(e),""}}}function Vp(){return new Date().toISOString().substring(0,10)}function aE(i,e=iE){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Dp(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Dp(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class lE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rE(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Np(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Np(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Dp(i){return wl(JSON.stringify({version:2,heartbeats:i})).length}function uE(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(i){Ns(new qi("platform-logger",e=>new T0(e),"PRIVATE")),Ns(new qi("heartbeat",e=>new oE(e),"PRIVATE")),Kr(eh,kp,i),Kr(eh,kp,"esm2020"),Kr("fire-js","")}cE("");var hE="firebase",dE="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(hE,dE,"app");function Op(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fE=Op,Lp=new Ko("auth","Firebase",Op());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Gc("@firebase/auth");function pE(i,...e){Il.logLevel<=xe.WARN&&Il.warn(`Auth (${bs}): ${i}`,...e)}function Sl(i,...e){Il.logLevel<=xe.ERROR&&Il.error(`Auth (${bs}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(i,...e){throw sh(i,...e)}function Xn(i,...e){return sh(i,...e)}function Mp(i,e,t){const s={...fE(),[e]:t};return new Ko("auth","Firebase",s).create(e,{appName:i.name})}function vr(i){return Mp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sh(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Lp.create(i,...e)}function ye(i,e,...t){if(!i)throw sh(e,...t)}function wr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Sl(e),new Error(e)}function Er(i,e){i||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(){return typeof self<"u"&&self.location?.href||""}function mE(){return Fp()==="http:"||Fp()==="https:"}function Fp(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mE()||qw()||"connection"in navigator)?navigator.onLine:!0}function yE(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=zw()||Hw()}get(){return gE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i,e){Er(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wE=new Zo(3e4,6e4);function Tr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ir(i,e,t,s,o={}){return jp(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Qo({key:i.config.apiKey,...h}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const _={method:e,headers:y,...u};return $w()||(_.referrerPolicy="no-referrer"),i.emulatorConfig&&xs(i.emulatorConfig.host)&&(_.credentials="include"),Up.fetch()(await zp(i,i.config.apiHost,t,m),_)})}async function jp(i,e,t){i._canInitEmulator=!1;const s={..._E,...e};try{const o=new TE(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Al(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Al(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw Al(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw Al(i,"user-disabled",h);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Mp(i,E,_);Nn(i,E)}}catch(o){if(o instanceof yr)throw o;Nn(i,"network-request-failed",{message:String(o)})}}async function ea(i,e,t,s,o={}){const u=await Ir(i,e,t,s,o);return"mfaPendingCredential"in u&&Nn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function zp(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?ah(i.config,o):`${i.config.apiScheme}://${o}`;return vE.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function EE(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),wE.get())})}}function Al(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Xn(i,e,s);return o.customData._tokenResponse=t,o}function Bp(i){return i!==void 0&&i.enterprise!==void 0}class IE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SE(i,e){return Ir(i,"GET","/v2/recaptchaConfig",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AE(i,e){return Ir(i,"POST","/v1/accounts:delete",e)}async function kl(i,e){return Ir(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kE(i,e=!1){const t=pt(i),s=await t.getIdToken(e),o=uh(s);ye(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:ta(lh(o.auth_time)),issuedAtTime:ta(lh(o.iat)),expirationTime:ta(lh(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lh(i){return Number(i)*1e3}function uh(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Sl("JWT malformed, contained fewer than 3 sections"),null;try{const o=fp(t);return o?JSON.parse(o):(Sl("Failed to decode base64 JWT payload"),null)}catch(o){return Sl("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $p(i){const e=uh(i);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof yr&&CE(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function CE({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ta(this.lastLoginAt),this.creationTime=ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(i){const e=i.auth,t=await i.getIdToken(),s=await na(i,kl(e,{idToken:t}));ye(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?qp(o.providerUserInfo):[],h=xE(i.providerData,u),m=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!h?.length,_=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ch(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,E)}async function PE(i){const e=pt(i);await Cl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xE(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qp(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(i,e){const t=await jp(i,{},async()=>{const s=Qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await zp(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return i.emulatorConfig&&xs(i.emulatorConfig.host)&&(y.credentials="include"),Up.fetch()(h,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bE(i,e){return Ir(i,"POST","/v2/accounts:revokeToken",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$p(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=$p(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await NE(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Vs;return s&&(ye(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i,e){ye(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new RE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ch(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await na(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kE(this,e)}reload(){return PE(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Cl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(vr(this.auth));const e=await this.getIdToken();return await na(this,AE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,y=t._redirectEventId??void 0,_=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:C,emailVerified:k,isAnonymous:z,providerData:Q,stsTokenManager:J}=t;ye(C&&J,e,"internal-error");const W=Vs.fromJSON(this.name,J);ye(typeof C=="string",e,"internal-error"),Qr(s,e.name),Qr(o,e.name),ye(typeof k=="boolean",e,"internal-error"),ye(typeof z=="boolean",e,"internal-error"),Qr(u,e.name),Qr(h,e.name),Qr(m,e.name),Qr(y,e.name),Qr(_,e.name),Qr(E,e.name);const fe=new bn({uid:C,auth:e,email:o,emailVerified:k,displayName:s,isAnonymous:z,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:W,createdAt:_,lastLoginAt:E});return Q&&Array.isArray(Q)&&(fe.providerData=Q.map(ge=>({...ge}))),y&&(fe._redirectEventId=y),fe}static async _fromIdTokenResponse(e,t,s=!1){const o=new Vs;o.updateFromServerResponse(t);const u=new bn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Cl(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qp(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Vs;m.updateFromIdToken(s);const y=new bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ch(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Map;function Sr(i){Er(i instanceof Function,"Expected a class definition");let e=Hp.get(i);return e?(Er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Hp.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wp.type="NONE";const Gp=Wp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(i,e,t){return`firebase:${i}:${e}:${t}`}class Ds{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Rl(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rl("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kl(this.auth,{idToken:e}).catch(()=>{});return t?bn._fromGetAccountInfoResponse(this.auth,t,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ds(Sr(Gp),e,s);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Sr(Gp);const h=Rl(s,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const E=await _._get(h);if(E){let C;if(typeof E=="string"){const k=await kl(e,{idToken:E}).catch(()=>{});if(!k)break;C=await bn._fromGetAccountInfoResponse(e,k,E)}else C=bn._fromJSON(e,E);_!==u&&(m=C),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ds(u,e,s):(u=y[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new Ds(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jp(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qp(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(em(e))return"Blackberry";if(tm(e))return"Webos";if(Yp(e))return"Safari";if((e.includes("chrome/")||Xp(e))&&!e.includes("edge/"))return"Chrome";if(Zp(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Qp(i=zt()){return/firefox\//i.test(i)}function Yp(i=zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xp(i=zt()){return/crios\//i.test(i)}function Jp(i=zt()){return/iemobile/i.test(i)}function Zp(i=zt()){return/android/i.test(i)}function em(i=zt()){return/blackberry/i.test(i)}function tm(i=zt()){return/webos/i.test(i)}function hh(i=zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function VE(i=zt()){return hh(i)&&!!window.navigator?.standalone}function DE(){return Ww()&&document.documentMode===10}function nm(i=zt()){return hh(i)||Zp(i)||tm(i)||em(i)||/windows phone/i.test(i)||Jp(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(i,e=[]){let t;switch(i){case"Browser":t=Kp(zt());break;case"Worker":t=`${Kp(zt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const y=e(u);h(y)}catch(y){m(y)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(i,e={}){return Ir(i,"GET","/v2/passwordPolicy",Tr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=6;class FE{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ME,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new im(this),this.idTokenSubscription=new im(this),this.beforeStateQueue=new OE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ds.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kl(this,{idToken:e}),s=await bn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(vr(this));const t=e?pt(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LE(this),t=new FE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ko("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await bE(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sr(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await Ds.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,o);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pE(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wi(i){return pt(i)}class im{constructor(e){this.auth=e,this.observer=null,this.addObserver=e0(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jE(i){Pl=i}function sm(i){return Pl.loadJS(i)}function zE(){return Pl.recaptchaEnterpriseScript}function BE(){return Pl.gapiScript}function $E(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class qE{constructor(){this.enterprise=new HE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HE{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WE="recaptcha-enterprise",om="NO_RECAPTCHA";class GE{constructor(e){this.type=WE,this.auth=Wi(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{SE(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new IE(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,h(_.siteKey)}}).catch(y=>{m(y)})})}function o(u,h,m){const y=window.grecaptcha;Bp(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(_=>{h(_)}).catch(()=>{h(om)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qE().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&Bp(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=zE();y.length!==0&&(y+=m),sm(y).then(()=>{o(m,u,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function am(i,e,t,s=!1,o=!1){const u=new GE(i);let h;if(o)h=om;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dh(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await am(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await am(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(i,e){const t=rh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if($i(u,e??{}))return o;Nn(o,"already-initialized")}return t.initialize({options:e})}function QE(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function YE(i,e,t){const s=Wi(i);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lm(e),{host:h,port:m}=XE(e),y=m===null?"":`:${m}`,_={url:`${u}//${h}${y}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye($i(_,s.config.emulator)&&$i(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,xs(h)?(yp(`${u}//${h}${y}`),vp("Auth",!0)):JE()}function lm(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function XE(i){const e=lm(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:um(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:um(h)}}}function um(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function JE(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function ZE(i,e){return Ir(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(i,e){return ea(i,"POST","/v1/accounts:signInWithPassword",Tr(i,e))}async function tT(i,e){return Ir(i,"POST","/v1/accounts:sendOobCode",Tr(i,e))}async function nT(i,e){return tT(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(i,e){return ea(i,"POST","/v1/accounts:signInWithEmailLink",Tr(i,e))}async function iT(i,e){return ea(i,"POST","/v1/accounts:signInWithEmailLink",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends fh{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ra(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ra(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,t,"signInWithPassword",eT);case"emailLink":return rT(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,s,"signUpPassword",ZE);case"emailLink":return iT(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(i,e){return ea(i,"POST","/v1/accounts:signInWithIdp",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="http://localhost";class Gi extends fh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new Gi(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Os(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Os(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Os(e,t)}buildRequest(){const e={requestUri:sT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qo(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aT(i){const e=Yo(Xo(i)).link,t=e?Yo(Xo(e)).deep_link_id:null,s=Yo(Xo(i)).deep_link_id;return(s?Yo(Xo(s)).link:null)||s||t||e||i}class ph{constructor(e){const t=Yo(Xo(e)),s=t.apiKey??null,o=t.oobCode??null,u=oT(t.mode??null);ye(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=aT(e);try{return new ph(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.providerId=Ls.PROVIDER_ID}static credential(e,t){return ra._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ph.parseLink(t);return ye(s,"argument-error"),ra._fromEmailAndCode(e,s.code,s.tenantId)}}Ls.PROVIDER_ID="password",Ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends cm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends ia{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends ia{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Xr.credential(t,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com",Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends ia{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com",Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends ia{constructor(){super("twitter.com")}static credential(e,t){return Gi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Zr.credential(t,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com",Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lT(i,e){return ea(i,"POST","/v1/accounts:signUp",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await bn._fromIdTokenResponse(e,s,o),h=hm(s);return new Ki({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=hm(s);return new Ki({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function hm(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends yr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new xl(e,t,s,o)}}function dm(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xl._fromErrorAndOperation(i,u,e,s):u})}async function uT(i,e,t=!1){const s=await na(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ki._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(i,e,t=!1){const{auth:s}=i;if(vn(s.app))return Promise.reject(vr(s));const o="reauthenticate";try{const u=await na(i,dm(s,o,e,i),t);ye(u.idToken,s,"internal-error");const h=uh(u.idToken);ye(h,s,"internal-error");const{sub:m}=h;return ye(i.uid===m,s,"user-mismatch"),Ki._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Nn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(i,e,t=!1){if(vn(i.app))return Promise.reject(vr(i));const s="signIn",o=await dm(i,s,e),u=await Ki._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function hT(i,e){return fm(Wi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(i){const e=Wi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dT(i,e,t){if(vn(i.app))return Promise.reject(vr(i));const s=Wi(i),h=await dh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lT).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&pm(i),y}),m=await Ki._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function fT(i,e,t){return vn(i.app)?Promise.reject(vr(i)):hT(pt(i),Ls.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pm(i),s})}async function mm(i,e){const t=pt(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await nT(t.auth,o);u!==i.email&&await i.reload()}function pT(i,e,t,s){return pt(i).onIdTokenChanged(e,t,s)}function mT(i,e,t){return pt(i).beforeAuthStateChanged(e,t)}function gT(i,e,t,s){return pt(i).onAuthStateChanged(e,t,s)}function mh(i){return pt(i).signOut()}const Nl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=1e3,_T=10;class ym extends gm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);DE()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_T):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},yT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ym.type="LOCAL";const vT=ym;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends gm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_m.type="SESSION";const vm=_m;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new bl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async _=>_(t.origin,u)),y=await wT(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,y)=>{const _=gh("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(C){const k=C;if(k.data.eventId===_)switch(k.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(k.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function TT(i){Jn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function IT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ST(){return navigator?.serviceWorker?.controller||null}function AT(){return wm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="firebaseLocalStorageDb",kT=1,Vl="firebaseLocalStorage",Tm="fbase_key";class sa{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dl(i,e){return i.transaction([Vl],e?"readwrite":"readonly").objectStore(Vl)}function CT(){const i=indexedDB.deleteDatabase(Em);return new sa(i).toPromise()}function yh(){const i=indexedDB.open(Em,kT);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Vl,{keyPath:Tm})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Vl)?e(s):(s.close(),await CT(),e(await yh()))})})}async function Im(i,e,t){const s=Dl(i,!0).put({[Tm]:e,value:t});return new sa(s).toPromise()}async function RT(i,e){const t=Dl(i,!1).get(e),s=await new sa(t).toPromise();return s===void 0?null:s.value}function Sm(i,e){const t=Dl(i,!0).delete(e);return new sa(t).toPromise()}const PT=800,xT=3;class Am{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yh(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>xT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bl._getInstance(AT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IT(),!this.activeServiceWorker)return;this.sender=new ET(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ST()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yh();return await Im(e,Nl,"1"),await Sm(e,Nl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Im(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>RT(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dl(o,!1).getAll();return new sa(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Am.type="LOCAL";const NT=Am;new Zo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(i,e){return e?Sr(e):(ye(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends fh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Os(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Os(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Os(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VT(i){return fm(i.auth,new _h(i),i.bypassAuthState)}function DT(i){const{auth:e,user:t}=i;return ye(t,e,"internal-error"),cT(t,new _h(i),i.bypassAuthState)}async function OT(i){const{auth:e,user:t}=i;return ye(t,e,"internal-error"),uT(t,new _h(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VT;case"linkViaPopup":case"linkViaRedirect":return OT;case"reauthViaPopup":case"reauthViaRedirect":return DT;default:Nn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Zo(2e3,1e4);class Ms extends km{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=gh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LT.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="pendingRedirect",Ol=new Map;class FT extends km{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ol.get(this.auth._key());if(!e){try{const s=await UT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ol.set(this.auth._key(),e)}return this.bypassAuthState||Ol.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UT(i,e){const t=BT(e),s=zT(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function jT(i,e){Ol.set(i._key(),e)}function zT(i){return Sr(i._redirectPersistence)}function BT(i){return Rl(MT,i.config.apiKey,i.name)}async function $T(i,e,t=!1){if(vn(i.app))return Promise.reject(vr(i));const s=Wi(i),o=bT(s,e),h=await new FT(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=600*1e3;class HT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Rm(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cm(e))}saveEventToCache(e){this.cachedEventUids.add(Cm(e)),this.lastProcessedEventTime=Date.now()}}function Cm(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Rm({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function WT(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rm(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(i,e={}){return Ir(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QT=/^https?/;async function YT(i){if(i.config.emulator)return;const{authorizedDomains:e}=await GT(i);for(const t of e)try{if(XT(t))return}catch{}Nn(i,"unauthorized-domain")}function XT(i){const e=oh(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!QT.test(t))return!1;if(KT.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Zo(3e4,6e4);function Pm(){const i=Jn().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ZT(i){return new Promise((e,t)=>{function s(){Pm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pm(),t(Xn(i,"network-request-failed"))},timeout:JT.get()})}if(Jn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jn().gapi?.load)s();else{const o=$E("iframefcb");return Jn()[o]=()=>{gapi.load?s():t(Xn(i,"network-request-failed"))},sm(`${BE()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Ll=null,e})}let Ll=null;function eI(i){return Ll=Ll||ZT(i),Ll}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Zo(5e3,15e3),nI="__/auth/iframe",rI="emulator/auth/iframe",iI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(i){const e=i.config;ye(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ah(e,rI):`https://${i.config.authDomain}/${nI}`,s={apiKey:e.apiKey,appName:i.name,v:bs},o=sI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Qo(s).slice(1)}`}async function aI(i){const e=await eI(i),t=Jn().gapi;return ye(t,i,"internal-error"),e.open({where:document.body,url:oI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Xn(i,"network-request-failed"),m=Jn().setTimeout(()=>{u(h)},tI.get());function y(){Jn().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",dI="http://localhost";class xm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fI(i,e,t,s=uI,o=cI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...lI,width:s.toString(),height:o.toString(),top:u,left:h},_=zt().toLowerCase();t&&(m=Xp(_)?hI:t),Qp(_)&&(e=e||dI,y.scrollbars="yes");const E=Object.entries(y).reduce((k,[z,Q])=>`${k}${z}=${Q},`,"");if(VE(_)&&m!=="_self")return pI(e||"",m),new xm(null);const C=window.open(e||"",m,E);ye(C,i,"popup-blocked");try{C.focus()}catch{}return new xm(C)}function pI(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="__/auth/handler",gI="emulator/auth/handler",yI=encodeURIComponent("fac");async function Nm(i,e,t,s,o,u){ye(i.config.authDomain,i,"auth-domain-config-required"),ye(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:bs,eventId:o};if(e instanceof cm){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Zw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,C]of Object.entries({}))h[E]=C}if(e instanceof ia){const E=e.getScopes().filter(C=>C!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await i._getAppCheckToken(),_=y?`#${yI}=${encodeURIComponent(y)}`:"";return`${_I(i)}?${Qo(m).slice(1)}${_}`}function _I({config:i}){return i.emulator?ah(i,gI):`https://${i.authDomain}/${mI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vm,this._completeRedirectFn=$T,this._overrideRedirectResult=jT}async _openPopup(e,t,s,o){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Nm(e,t,s,oh(),o);return fI(e,u,gh())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Nm(e,t,s,oh(),o);return TT(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await aI(e),s=new HT(e);return t.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vh,{type:vh},o=>{const u=o?.[0]?.[vh];u!==void 0&&t(!!u),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nm()||Yp()||hh()}}const wI=vI;var bm="@firebase/auth",Vm="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function II(i){Ns(new qi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ye(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rm(i)},_=new UE(s,o,u,y);return QE(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ns(new qi("auth-internal",e=>{const t=Wi(e.getProvider("auth").getImmediate());return(s=>new EI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(bm,Vm,TI(i)),Kr(bm,Vm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=gp("authIdTokenMaxAge")||300;let Dm=null;const AI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>SI)return;const o=t?.token;Dm!==o&&(Dm=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kI(i=Pp()){const e=rh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=KE(i,{popupRedirectResolver:wI,persistence:[NT,vT,vm]}),s=gp("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=AI(u.toString());mT(t,h,()=>h(t.currentUser)),pT(t,m=>h(m))}}const o=pp("auth");return o&&YE(t,`http://${o}`),t}function CI(){return document.getElementsByTagName("head")?.[0]??document}jE({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Xn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",CI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),II("Browser");var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ei,Lm;(function(){var i;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function e(N,T){function A(){}A.prototype=T.prototype,N.D=T.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(x,b,V){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return T.prototype[b].apply(x,S)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,A){A||(A=0);var x=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)x[b]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(b=0;16>b;++b)x[b]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=N.g[0],A=N.g[1],b=N.g[2];var V=N.g[3],S=T+(V^A&(b^V))+x[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=V+(b^T&(A^b))+x[1]+3905402710&4294967295,V=T+(S<<12&4294967295|S>>>20),S=b+(A^V&(T^A))+x[2]+606105819&4294967295,b=V+(S<<17&4294967295|S>>>15),S=A+(T^b&(V^T))+x[3]+3250441966&4294967295,A=b+(S<<22&4294967295|S>>>10),S=T+(V^A&(b^V))+x[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(b^T&(A^b))+x[5]+1200080426&4294967295,V=T+(S<<12&4294967295|S>>>20),S=b+(A^V&(T^A))+x[6]+2821735955&4294967295,b=V+(S<<17&4294967295|S>>>15),S=A+(T^b&(V^T))+x[7]+4249261313&4294967295,A=b+(S<<22&4294967295|S>>>10),S=T+(V^A&(b^V))+x[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(b^T&(A^b))+x[9]+2336552879&4294967295,V=T+(S<<12&4294967295|S>>>20),S=b+(A^V&(T^A))+x[10]+4294925233&4294967295,b=V+(S<<17&4294967295|S>>>15),S=A+(T^b&(V^T))+x[11]+2304563134&4294967295,A=b+(S<<22&4294967295|S>>>10),S=T+(V^A&(b^V))+x[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(b^T&(A^b))+x[13]+4254626195&4294967295,V=T+(S<<12&4294967295|S>>>20),S=b+(A^V&(T^A))+x[14]+2792965006&4294967295,b=V+(S<<17&4294967295|S>>>15),S=A+(T^b&(V^T))+x[15]+1236535329&4294967295,A=b+(S<<22&4294967295|S>>>10),S=T+(b^V&(A^b))+x[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^b&(T^A))+x[6]+3225465664&4294967295,V=T+(S<<9&4294967295|S>>>23),S=b+(T^A&(V^T))+x[11]+643717713&4294967295,b=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(b^V))+x[0]+3921069994&4294967295,A=b+(S<<20&4294967295|S>>>12),S=T+(b^V&(A^b))+x[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^b&(T^A))+x[10]+38016083&4294967295,V=T+(S<<9&4294967295|S>>>23),S=b+(T^A&(V^T))+x[15]+3634488961&4294967295,b=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(b^V))+x[4]+3889429448&4294967295,A=b+(S<<20&4294967295|S>>>12),S=T+(b^V&(A^b))+x[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^b&(T^A))+x[14]+3275163606&4294967295,V=T+(S<<9&4294967295|S>>>23),S=b+(T^A&(V^T))+x[3]+4107603335&4294967295,b=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(b^V))+x[8]+1163531501&4294967295,A=b+(S<<20&4294967295|S>>>12),S=T+(b^V&(A^b))+x[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^b&(T^A))+x[2]+4243563512&4294967295,V=T+(S<<9&4294967295|S>>>23),S=b+(T^A&(V^T))+x[7]+1735328473&4294967295,b=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(b^V))+x[12]+2368359562&4294967295,A=b+(S<<20&4294967295|S>>>12),S=T+(A^b^V)+x[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^b)+x[8]+2272392833&4294967295,V=T+(S<<11&4294967295|S>>>21),S=b+(V^T^A)+x[11]+1839030562&4294967295,b=V+(S<<16&4294967295|S>>>16),S=A+(b^V^T)+x[14]+4259657740&4294967295,A=b+(S<<23&4294967295|S>>>9),S=T+(A^b^V)+x[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^b)+x[4]+1272893353&4294967295,V=T+(S<<11&4294967295|S>>>21),S=b+(V^T^A)+x[7]+4139469664&4294967295,b=V+(S<<16&4294967295|S>>>16),S=A+(b^V^T)+x[10]+3200236656&4294967295,A=b+(S<<23&4294967295|S>>>9),S=T+(A^b^V)+x[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^b)+x[0]+3936430074&4294967295,V=T+(S<<11&4294967295|S>>>21),S=b+(V^T^A)+x[3]+3572445317&4294967295,b=V+(S<<16&4294967295|S>>>16),S=A+(b^V^T)+x[6]+76029189&4294967295,A=b+(S<<23&4294967295|S>>>9),S=T+(A^b^V)+x[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^b)+x[12]+3873151461&4294967295,V=T+(S<<11&4294967295|S>>>21),S=b+(V^T^A)+x[15]+530742520&4294967295,b=V+(S<<16&4294967295|S>>>16),S=A+(b^V^T)+x[2]+3299628645&4294967295,A=b+(S<<23&4294967295|S>>>9),S=T+(b^(A|~V))+x[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~b))+x[7]+1126891415&4294967295,V=T+(S<<10&4294967295|S>>>22),S=b+(T^(V|~A))+x[14]+2878612391&4294967295,b=V+(S<<15&4294967295|S>>>17),S=A+(V^(b|~T))+x[5]+4237533241&4294967295,A=b+(S<<21&4294967295|S>>>11),S=T+(b^(A|~V))+x[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~b))+x[3]+2399980690&4294967295,V=T+(S<<10&4294967295|S>>>22),S=b+(T^(V|~A))+x[10]+4293915773&4294967295,b=V+(S<<15&4294967295|S>>>17),S=A+(V^(b|~T))+x[1]+2240044497&4294967295,A=b+(S<<21&4294967295|S>>>11),S=T+(b^(A|~V))+x[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~b))+x[15]+4264355552&4294967295,V=T+(S<<10&4294967295|S>>>22),S=b+(T^(V|~A))+x[6]+2734768916&4294967295,b=V+(S<<15&4294967295|S>>>17),S=A+(V^(b|~T))+x[13]+1309151649&4294967295,A=b+(S<<21&4294967295|S>>>11),S=T+(b^(A|~V))+x[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~b))+x[11]+3174756917&4294967295,V=T+(S<<10&4294967295|S>>>22),S=b+(T^(V|~A))+x[2]+718787259&4294967295,b=V+(S<<15&4294967295|S>>>17),S=A+(V^(b|~T))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(b+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var A=T-this.blockSize,x=this.B,b=this.h,V=0;V<T;){if(b==0)for(;V<=A;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<T;)if(x[b++]=N.charCodeAt(V++),b==this.blockSize){o(this,x),b=0;break}}else for(;V<T;)if(x[b++]=N[V++],b==this.blockSize){o(this,x),b=0;break}}this.h=b,this.o+=T},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var A=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=A&255,A/=256;for(this.u(N),N=Array(16),T=A=0;4>T;++T)for(var x=0;32>x;x+=8)N[A++]=this.g[T]>>>x&255;return N};function u(N,T){var A=m;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=T(N)}function h(N,T){this.h=T;for(var A=[],x=!0,b=N.length-1;0<=b;b--){var V=N[b]|0;x&&V==T||(A[b]=V,x=!1)}this.g=A}var m={};function y(N){return-128<=N&&128>N?u(N,function(T){return new h([T|0],0>T?-1:0)}):new h([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return W(_(-N));for(var T=[],A=1,x=0;N>=A;x++)T[x]=N/A|0,A*=4294967296;return new h(T,0)}function E(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return W(E(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(T,8)),x=C,b=0;b<N.length;b+=8){var V=Math.min(8,N.length-b),S=parseInt(N.substring(b,b+V),T);8>V?(V=_(Math.pow(T,V)),x=x.j(V).add(_(S))):(x=x.j(A),x=x.add(_(S)))}return x}var C=y(0),k=y(1),z=y(16777216);i=h.prototype,i.m=function(){if(J(this))return-W(this).m();for(var N=0,T=1,A=0;A<this.g.length;A++){var x=this.i(A);N+=(0<=x?x:4294967296+x)*T,T*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Q(this))return"0";if(J(this))return"-"+W(this).toString(N);for(var T=_(Math.pow(N,6)),A=this,x="";;){var b=Pe(A,T).g;A=fe(A,b.j(T));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=b,Q(A))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Q(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function J(N){return N.h==-1}i.l=function(N){return N=fe(this,N),J(N)?-1:Q(N)?0:1};function W(N){for(var T=N.g.length,A=[],x=0;x<T;x++)A[x]=~N.g[x];return new h(A,~N.h).add(k)}i.abs=function(){return J(this)?W(this):this},i.add=function(N){for(var T=Math.max(this.g.length,N.g.length),A=[],x=0,b=0;b<=T;b++){var V=x+(this.i(b)&65535)+(N.i(b)&65535),S=(V>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);x=S>>>16,V&=65535,S&=65535,A[b]=S<<16|V}return new h(A,A[A.length-1]&-2147483648?-1:0)};function fe(N,T){return N.add(W(T))}i.j=function(N){if(Q(this)||Q(N))return C;if(J(this))return J(N)?W(this).j(W(N)):W(W(this).j(N));if(J(N))return W(this.j(W(N)));if(0>this.l(z)&&0>N.l(z))return _(this.m()*N.m());for(var T=this.g.length+N.g.length,A=[],x=0;x<2*T;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var b=0;b<N.g.length;b++){var V=this.i(x)>>>16,S=this.i(x)&65535,Ze=N.i(b)>>>16,_t=N.i(b)&65535;A[2*x+2*b]+=S*_t,ge(A,2*x+2*b),A[2*x+2*b+1]+=V*_t,ge(A,2*x+2*b+1),A[2*x+2*b+1]+=S*Ze,ge(A,2*x+2*b+1),A[2*x+2*b+2]+=V*Ze,ge(A,2*x+2*b+2)}for(x=0;x<T;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=T;x<2*T;x++)A[x]=0;return new h(A,0)};function ge(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function ve(N,T){this.g=N,this.h=T}function Pe(N,T){if(Q(T))throw Error("division by zero");if(Q(N))return new ve(C,C);if(J(N))return T=Pe(W(N),T),new ve(W(T.g),W(T.h));if(J(T))return T=Pe(N,W(T)),new ve(W(T.g),T.h);if(30<N.g.length){if(J(N)||J(T))throw Error("slowDivide_ only works with positive integers.");for(var A=k,x=T;0>=x.l(N);)A=Qe(A),x=Qe(x);var b=ke(A,1),V=ke(x,1);for(x=ke(x,2),A=ke(A,2);!Q(x);){var S=V.add(x);0>=S.l(N)&&(b=b.add(A),V=S),x=ke(x,1),A=ke(A,1)}return T=fe(N,b.j(T)),new ve(b,T)}for(b=C;0<=N.l(T);){for(A=Math.max(1,Math.floor(N.m()/T.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=_(A),S=V.j(T);J(S)||0<S.l(N);)A-=x,V=_(A),S=V.j(T);Q(V)&&(V=k),b=b.add(V),N=fe(N,S)}return new ve(b,N)}i.A=function(N){return Pe(this,N).h},i.and=function(N){for(var T=Math.max(this.g.length,N.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)&N.i(x);return new h(A,this.h&N.h)},i.or=function(N){for(var T=Math.max(this.g.length,N.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)|N.i(x);return new h(A,this.h|N.h)},i.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)^N.i(x);return new h(A,this.h^N.h)};function Qe(N){for(var T=N.g.length+1,A=[],x=0;x<T;x++)A[x]=N.i(x)<<1|N.i(x-1)>>>31;return new h(A,N.h)}function ke(N,T){var A=T>>5;T%=32;for(var x=N.g.length-A,b=[],V=0;V<x;V++)b[V]=0<T?N.i(V+A)>>>T|N.i(V+A+1)<<32-T:N.i(V+A);return new h(b,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Lm=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,ei=h}).apply(typeof Om<"u"?Om:typeof self<"u"?self:typeof window<"u"?window:{});var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mm,oa,Fm,Fl,wh,Um,jm,zm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ml=="object"&&Ml];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=t(this);function o(l,f){if(f)e:{var g=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var O=l[w];if(!(O in g))break e;g=g[O]}l=l[l.length-1],w=g[l],f=f(w),f!=w&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var g=0,w=!1,O={next:function(){if(!w&&g<l.length){var j=g++;return{value:f(j,l[j]),done:!1}}return w=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}o("Array.prototype.values",function(l){return l||function(){return u(this,function(f,g){return g})}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var h=h||{},m=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function _(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function E(l,f,g){return l.call.apply(l.bind,arguments)}function C(l,f,g){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,w),l.apply(f,O)}}return function(){return l.apply(f,arguments)}}function k(l,f,g){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,k.apply(null,arguments)}function z(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function Q(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(w,O,j){for(var Z=Array(arguments.length-2),We=2;We<arguments.length;We++)Z[We-2]=arguments[We];return f.prototype[O].apply(w,Z)}}function J(l){const f=l.length;if(0<f){const g=Array(f);for(let w=0;w<f;w++)g[w]=l[w];return g}return[]}function W(l,f){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(y(w)){const O=l.length||0,j=w.length||0;l.length=O+j;for(let Z=0;Z<j;Z++)l[O+Z]=w[Z]}else l.push(w)}}class fe{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ge(l){return/^[\s\xa0]*$/.test(l)}function ve(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Pe(l){return Pe[" "](l),l}Pe[" "]=function(){};var Qe=ve().indexOf("Gecko")!=-1&&!(ve().toLowerCase().indexOf("webkit")!=-1&&ve().indexOf("Edge")==-1)&&!(ve().indexOf("Trident")!=-1||ve().indexOf("MSIE")!=-1)&&ve().indexOf("Edge")==-1;function ke(l,f,g){for(const w in l)f.call(g,l[w],w,l)}function N(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function T(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,f){let g,w;for(let O=1;O<arguments.length;O++){w=arguments[O];for(g in w)l[g]=w[g];for(let j=0;j<A.length;j++)g=A[j],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function b(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function V(l){m.setTimeout(()=>{throw l},0)}function S(){var l=he;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ze{constructor(){this.h=this.g=null}add(f,g){const w=_t.get();w.set(f,g),this.h?this.h.next=w:this.g=w,this.h=w}}var _t=new fe(()=>new It,l=>l.reset());class It{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,ee=!1,he=new Ze,ne=()=>{const l=m.Promise.resolve(void 0);Oe=()=>{l.then(D)}};var D=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){V(g)}var f=_t;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l}();function Se(l,f){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Qe){e:{try{Pe(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}Q(Se,ce);var Ce={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function $e(l,f,g,w,O){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!w,this.ha=O,this.key=++Le,this.da=this.fa=!1}function vt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function On(l){this.src=l,this.g={},this.h=0}On.prototype.add=function(l,f,g,w,O){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var Z=sr(l,f,w,O);return-1<Z?(f=l[Z],g||(f.fa=!1)):(f=new $e(f,this.src,j,!!w,O),f.fa=g,l.push(f)),f};function mi(l,f){var g=f.type;if(g in l.g){var w=l.g[g],O=Array.prototype.indexOf.call(w,f,void 0),j;(j=0<=O)&&Array.prototype.splice.call(w,O,1),j&&(vt(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function sr(l,f,g,w){for(var O=0;O<l.length;++O){var j=l[O];if(!j.da&&j.listener==f&&j.capture==!!g&&j.ha==w)return O}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),gi={};function yi(l,f,g,w,O){if(Array.isArray(f)){for(var j=0;j<f.length;j++)yi(l,f[j],g,w,O);return null}return g=St(g),l&&l[Fe]?l.K(f,g,_(w)?!!w.capture:!1,O):ns(l,f,g,!1,w,O)}function ns(l,f,g,w,O,j){if(!f)throw Error("Invalid event type");var Z=_(O)?!!O.capture:!!O,We=Ee(l);if(We||(l[xr]=We=new On(l)),g=We.add(f,g,w,Z,j),g.proxy)return g;if(w=ro(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)Ae||(O=Z),O===void 0&&(O=!1),l.addEventListener(f.toString(),w,O);else if(l.attachEvent)l.attachEvent(H(f.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ro(){function l(g){return f.call(l.src,l.listener,g)}const f=ae;return l}function _i(l,f,g,w,O){if(Array.isArray(f))for(var j=0;j<f.length;j++)_i(l,f[j],g,w,O);else w=_(w)?!!w.capture:!!w,g=St(g),l&&l[Fe]?(l=l.i,f=String(f).toString(),f in l.g&&(j=l.g[f],g=sr(j,g,w,O),-1<g&&(vt(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[f],l.h--)))):l&&(l=Ee(l))&&(f=l.g[f.toString()],l=-1,f&&(l=sr(f,g,w,O)),(g=-1<l?f[l]:null)&&ht(g))}function ht(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Fe])mi(f.i,l);else{var g=l.type,w=l.proxy;f.removeEventListener?f.removeEventListener(g,w,l.capture):f.detachEvent?f.detachEvent(H(g),w):f.addListener&&f.removeListener&&f.removeListener(w),(g=Ee(f))?(mi(g,l),g.h==0&&(g.src=null,f[xr]=null)):vt(l)}}}function H(l){return l in gi?gi[l]:gi[l]="on"+l}function ae(l,f){if(l.da)l=!0;else{f=new Se(f,this);var g=l.listener,w=l.ha||l.src;l.fa&&ht(l),l=g.call(w,f)}return l}function Ee(l){return l=l[xr],l instanceof On?l:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(l){return typeof l=="function"?l:(l[nt]||(l[nt]=function(f){return l.handleEvent(f)}),l[nt])}function qe(){$.call(this),this.i=new On(this),this.M=this,this.F=null}Q(qe,$),qe.prototype[Fe]=!0,qe.prototype.removeEventListener=function(l,f,g,w){_i(this,l,f,g,w)};function He(l,f){var g,w=l.F;if(w)for(g=[];w;w=w.F)g.push(w);if(l=l.M,w=f.type||f,typeof f=="string")f=new ce(f,l);else if(f instanceof ce)f.target=f.target||l;else{var O=f;f=new ce(w,l),x(f,O)}if(O=!0,g)for(var j=g.length-1;0<=j;j--){var Z=f.g=g[j];O=Nr(Z,w,!0,f)&&O}if(Z=f.g=l,O=Nr(Z,w,!0,f)&&O,O=Nr(Z,w,!1,f)&&O,g)for(j=0;j<g.length;j++)Z=f.g=g[j],O=Nr(Z,w,!1,f)&&O}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],w=0;w<g.length;w++)vt(g[w]);delete l.g[f],l.h--}}this.F=null},qe.prototype.K=function(l,f,g,w){return this.i.add(String(l),f,!1,g,w)},qe.prototype.L=function(l,f,g,w){return this.i.add(String(l),f,!0,g,w)};function Nr(l,f,g,w){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,j=0;j<f.length;++j){var Z=f[j];if(Z&&!Z.da&&Z.capture==g){var We=Z.listener,At=Z.ha||Z.src;Z.fa&&mi(l.i,Z),O=We.call(At,w)!==!1&&O}}return O&&!w.defaultPrevented}function Pa(l,f,g){if(typeof l=="function")g&&(l=k(l,g));else if(l&&typeof l.handleEvent=="function")l=k(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function vi(l){l.g=Pa(()=>{l.g=null,l.i&&(l.i=!1,vi(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class rs extends ${constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(l){$.call(this),this.h=l,this.g={}}Q(is,$);var xa=[];function Na(l){ke(l.g,function(f,g){this.g.hasOwnProperty(g)&&ht(f)},l),l.g={}}is.prototype.N=function(){is.aa.N.call(this),Na(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=m.JSON.stringify,Va=m.JSON.parse,Da=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ss(){}ss.prototype.h=null;function io(l){return l.h||(l.h=l.i())}function so(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){ce.call(this,"d")}Q(or,ce);function oo(){ce.call(this,"c")}Q(oo,ce);var ar={},Oa=null;function os(){return Oa=Oa||new qe}ar.La="serverreachability";function La(l){ce.call(this,ar.La,l)}Q(La,ce);function br(l){const f=os();He(f,new La(f))}ar.STAT_EVENT="statevent";function Ma(l,f){ce.call(this,ar.STAT_EVENT,l),this.stat=f}Q(Ma,ce);function dt(l){const f=os();He(f,new Ma(f,l))}ar.Ma="timingevent";function ao(l,f){ce.call(this,ar.Ma,l),this.size=f}Q(ao,ce);function Ln(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function as(){this.g=!0}as.prototype.xa=function(){this.g=!1};function ls(l,f,g,w,O,j){l.info(function(){if(l.g)if(j)for(var Z="",We=j.split("&"),At=0;At<We.length;At++){var Me=We[At].split("=");if(1<Me.length){var Pt=Me[0];Me=Me[1];var wt=Pt.split("_");Z=2<=wt.length&&wt[1]=="type"?Z+(Pt+"="+Me+"&"):Z+(Pt+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+w+") [attempt "+O+"]: "+f+`
`+g+`
`+Z})}function lo(l,f,g,w,O,j,Z){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+O+"]: "+f+`
`+g+`
`+j+" "+Z})}function Mn(l,f,g,w){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Cd(l,g)+(w?" "+w:"")})}function Fa(l,f){l.info(function(){return"TIMEOUT: "+f})}as.prototype.info=function(){};function Cd(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var w=g[l];if(!(2>w.length)){var O=w[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<O.length;Z++)O[Z]=""}}}}return ba(g)}catch{return f}}var uo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ku={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function us(){}Q(us,ss),us.prototype.g=function(){return new XMLHttpRequest},us.prototype.i=function(){return{}},Fn=new us;function Un(l,f,g,w){this.j=l,this.i=f,this.l=g,this.R=w||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cu}function Cu(){this.i=null,this.g="",this.h=!1}var Ua={},co={};function ho(l,f,g){l.L=1,l.v=Si(fn(f)),l.m=g,l.P=!0,ja(l,null)}function ja(l,f){l.F=Date.now(),Ye(l),l.A=fn(l.v);var g=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),ki(g.i,"t",w),l.C=0,g=l.j.J,l.h=new Cu,l.g=Hu(l.j,g?f:null,!l.m),0<l.O&&(l.M=new rs(k(l.Y,l,l.g),l.O)),f=l.U,g=l.g,w=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(xa[0]=O.toString()),O=xa);for(var j=0;j<O.length;j++){var Z=yi(g,O[j],w||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),br(),ls(l.i,l.u,l.A,l.l,l.R,l.m)}Un.prototype.ca=function(l){l=l.target;const f=this.M;f&&rn(l)==3?f.j():this.Y(l)},Un.prototype.Y=function(l){try{if(l==this.g)e:{const wt=rn(this.g);var f=this.g.Ba();const Sn=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Wa(this.g)))){this.J||wt!=4||f==7||(f==8||0>=Sn?br(3):br(2)),cs(this);var g=this.g.Z();this.X=g;t:if(Ru(this)){var w=Wa(this.g);l="";var O=w.length,j=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),wi(this);var Z="";break t}this.h.i=new m.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,l+=this.h.i.decode(w[f],{stream:!(j&&f==O-1)});w.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,lo(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var We,At=this.g;if((We=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(We)){var Me=We;break t}}Me=null}if(g=Me)Mn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,za(this,g);else{this.o=!1,this.s=3,dt(12),Tn(this),wi(this);break e}}if(this.P){g=!0;let mn;for(;!this.J&&this.C<Z.length;)if(mn=Rd(this,Z),mn==co){wt==4&&(this.s=4,dt(14),g=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Ua){this.s=4,dt(15),Mn(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else Mn(this.i,this.l,mn,null),za(this,mn);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||Z.length!=0||this.h.h||(this.s=1,dt(16),g=!1),this.o=this.o&&g,!g)Mn(this.i,this.l,Z,"[Invalid Chunked Response]"),Tn(this),wi(this);else if(0<Z.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Ka(Pt),Pt.M=!0,dt(11))}}else Mn(this.i,this.l,Z,null),za(this,Z);wt==4&&Tn(this),this.o&&!this.J&&(wt==4?Io(this.j,this):(this.o=!1,Ye(this)))}else _o(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Tn(this),wi(this)}}}catch{}finally{}};function Ru(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Rd(l,f){var g=l.C,w=f.indexOf(`
`,g);return w==-1?co:(g=Number(f.substring(g,w)),isNaN(g)?Ua:(w+=1,w+g>f.length?co:(f=f.slice(w,w+g),l.C=w+g,f)))}Un.prototype.cancel=function(){this.J=!0,Tn(this)};function Ye(l){l.S=Date.now()+l.I,Pu(l,l.I)}function Pu(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ln(k(l.ba,l),f)}function cs(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Un.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Fa(this.i,this.A),this.L!=2&&(br(),dt(17)),Tn(this),this.s=2,wi(this)):Pu(this,this.S-l)};function wi(l){l.j.G==0||l.J||Io(l.j,l)}function Tn(l){cs(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Na(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function za(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Qt(g.h,l))){if(!l.K&&Qt(g.h,l)&&g.G==3){try{var w=g.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var O=w;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)To(g),qn(g);else break e;Eo(g),dt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ln(k(g.Za,g),6e3));if(1>=Nu(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Mr(g,11)}else if((l.K||g.g==l)&&To(g),!ge(f))for(O=g.Da.g.parse(f),f=0;f<O.length;f++){let Me=O[f];if(g.T=Me[0],Me=Me[1],g.G==2)if(Me[0]=="c"){g.K=Me[1],g.ia=Me[2];const Pt=Me[3];Pt!=null&&(g.la=Pt,g.j.info("VER="+g.la));const wt=Me[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const Sn=Me[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(w=1.5*Sn,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const mn=l.g;if(mn){const ys=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var j=w.h;j.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ba(j,j.h),j.h=null))}if(w.D){const Ao=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(w.ya=Ao,Ge(w.I,w.D,Ao))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var Z=l;if(w.qa=qu(w,w.J?w.ia:null,w.W),Z.K){bu(w.h,Z);var We=Z,At=w.L;At&&(We.I=At),We.B&&(cs(We),Ye(We)),w.g=Z}else gs(w);0<g.i.length&&hr(g)}else Me[0]!="stop"&&Me[0]!="close"||Mr(g,7);else g.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Mr(g,7):Ft(g):Me[0]!="noop"&&g.l&&g.l.ta(Me),g.v=0)}}br(4)}catch{}}var xu=class{constructor(l,f){this.g=l,this.map=f}};function hs(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Nu(l){return l.h?1:l.g?l.g.size:0}function Qt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Ba(l,f){l.g?l.g.add(f):l.h=f}function bu(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}hs.prototype.cancel=function(){if(this.i=Vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vu(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return J(l.i)}function fo(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],g=l.length,w=0;w<g;w++)f.push(l[w]);return f}f=[],g=0;for(w in l)f[g++]=l[w];return f}function po(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const w in l)f[g++]=w;return f}}}function Ei(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=po(l),w=fo(l),O=w.length,j=0;j<O;j++)f.call(void 0,w[j],g&&g[j],l)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pd(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var w=l[g].indexOf("="),O=null;if(0<=w){var j=l[g].substring(0,w);O=l[g].substring(w+1)}else j=l[g];f(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Vr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Vr){this.h=l.h,fs(this,l.j),this.o=l.o,this.g=l.g,Ti(this,l.s),this.l=l.l;var f=l.i,g=new lr;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Ii(this,g),this.m=l.m}else l&&(f=String(l).match(ds))?(this.h=!1,fs(this,f[1]||"",!0),this.o=Ve(f[2]||""),this.g=Ve(f[3]||"",!0),Ti(this,f[4]),this.l=Ve(f[5]||"",!0),Ii(this,f[6]||"",!0),this.m=Ve(f[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}Vr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Ai(f,mo,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Ai(f,mo,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ai(g,g.charAt(0)=="/"?Lu:Ou,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ai(g,$a)),l.join("")};function fn(l){return new Vr(l)}function fs(l,f,g){l.j=g?Ve(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Ti(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ii(l,f,g){f instanceof lr?(l.i=f,ur(l.i,l.h)):(g||(f=Ai(f,Mu)),l.i=new lr(f,l.h))}function Ge(l,f,g){l.i.set(f,g)}function Si(l){return Ge(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ve(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ai(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Du),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Du(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var mo=/[#\/\?@]/g,Ou=/[#\?:]/g,Lu=/[#\?]/g,Mu=/[#\?@]/g,$a=/#/g;function lr(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Mt(l){l.g||(l.g=new Map,l.h=0,l.i&&Pd(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=lr.prototype,i.add=function(l,f){Mt(this),this.i=null,l=In(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function jn(l,f){Mt(l),f=In(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function zn(l,f){return Mt(l),f=In(l,f),l.g.has(f)}i.forEach=function(l,f){Mt(this),this.g.forEach(function(g,w){g.forEach(function(O){l.call(f,O,w,this)},this)},this)},i.na=function(){Mt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let w=0;w<f.length;w++){const O=l[w];for(let j=0;j<O.length;j++)g.push(f[w])}return g},i.V=function(l){Mt(this);let f=[];if(typeof l=="string")zn(this,l)&&(f=f.concat(this.g.get(In(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return Mt(this),this.i=null,l=In(this,l),zn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function ki(l,f,g){jn(l,f),0<g.length&&(l.i=null,l.g.set(In(l,f),J(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var w=f[g];const j=encodeURIComponent(String(w)),Z=this.V(w);for(w=0;w<Z.length;w++){var O=j;Z[w]!==""&&(O+="="+encodeURIComponent(String(Z[w]))),l.push(O)}}return this.i=l.join("&")};function In(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function ur(l,f){f&&!l.j&&(Mt(l),l.i=null,l.g.forEach(function(g,w){var O=w.toLowerCase();w!=O&&(jn(this,w),ki(this,O,g))},l)),l.j=f}function xd(l,f){const g=new as;if(m.Image){const w=new Image;w.onload=z(nn,g,"TestLoadImage: loaded",!0,f,w),w.onerror=z(nn,g,"TestLoadImage: error",!1,f,w),w.onabort=z(nn,g,"TestLoadImage: abort",!1,f,w),w.ontimeout=z(nn,g,"TestLoadImage: timeout",!1,f,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else f(!1)}function Fu(l,f){const g=new as,w=new AbortController,O=setTimeout(()=>{w.abort(),nn(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:w.signal}).then(j=>{clearTimeout(O),j.ok?nn(g,"TestPingServer: ok",!0,f):nn(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),nn(g,"TestPingServer: error",!1,f)})}function nn(l,f,g,w,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),w(g)}catch{}}function Nd(){this.g=new Da}function Uu(l,f,g){const w=g||"";try{Ei(l,function(O,j){let Z=O;_(O)&&(Z=ba(O)),f.push(w+j+"="+encodeURIComponent(Z))})}catch(O){throw f.push(w+"type="+encodeURIComponent("_badmap")),O}}function Dr(l){this.l=l.Ub||null,this.j=l.eb||!1}Q(Dr,ss),Dr.prototype.g=function(){return new ps(this.l,this.j)},Dr.prototype.i=function(l){return function(){return l}}({});function ps(l,f){qe.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(ps,qe),i=ps.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,$n(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ju(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ju(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Bn(this):$n(this),this.readyState==3&&ju(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Bn(this))},i.Qa=function(l){this.g&&(this.response=l,Bn(this))},i.ga=function(){this.g&&Bn(this)};function Bn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,$n(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function $n(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Or(l){let f="";return ke(l,function(g,w){f+=w,f+=":",f+=g,f+=`\r
`}),f}function Ci(l,f,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=Or(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ge(l,f,g))}function rt(l){qe.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(rt,qe);var bd=/^https?$/i,qa=["POST","PUT"];i=rt.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?io(this.o):io(Fn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(j){ms(this,j);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var O in w)g.set(O,w[O]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const j of w.keys())g.set(j,w.get(j));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(qa,f,void 0))||w||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of g)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){ms(this,j)}};function ms(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,go(l),pn(l)}function go(l){l.A||(l.A=!0,He(l,"complete"),He(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,He(this,"complete"),He(this,"abort"),pn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),rt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},i.bb=function(){Ha(this)};function Ha(l){if(l.h&&typeof h<"u"&&(!l.v[1]||rn(l)!=4||l.Z()!=2)){if(l.u&&rn(l)==4)Pa(l.Ea,0,l);else if(He(l,"readystatechange"),rn(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var w;if(w=Z===0){var O=String(l.D).match(ds)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),w=!bd.test(O?O.toLowerCase():"")}g=w}if(g)He(l,"complete"),He(l,"success");else{l.m=6;try{var j=2<rn(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",go(l)}}finally{pn(l)}}}}function pn(l,f){if(l.g){yo(l);const g=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||He(l,"ready");try{g.onreadystatechange=w}catch{}}}function yo(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function rn(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Va(f)}};function Wa(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function _o(l){const f={};l=(l.g&&2<=rn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ge(l[w]))continue;var g=b(l[w]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=f[O]||[];f[O]=j,j.push(g)}N(f,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Ga(l){this.Aa=0,this.i=[],this.j=new as,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,l),this.cb=cr("retryDelaySeedMs",1e4,l),this.Wa=cr("forwardChannelMaxRetries",2,l),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hs(l&&l.concurrentRequestLimit),this.Da=new Nd,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ga.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,w){dt(0),this.W=l,this.H=f||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=qu(this,null,this.W),hr(this)};function Ft(l){if(vo(l),l.G==3){var f=l.U++,g=fn(l.I);if(Ge(g,"SID",l.K),Ge(g,"RID",f),Ge(g,"TYPE","terminate"),Lr(l,g),f=new Un(l,l.j,f),f.L=2,f.v=Si(fn(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=Hu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ye(f)}$u(l)}function qn(l){l.g&&(Ka(l),l.g.cancel(),l.g=null)}function vo(l){qn(l),l.u&&(m.clearTimeout(l.u),l.u=null),To(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function hr(l){if(!dn(l.h)&&!l.s){l.s=!0;var f=l.Ga;Oe||ne(),ee||(Oe(),ee=!0),he.add(f,l),l.B=0}}function Vd(l,f){return Nu(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ln(k(l.Ga,l,f),Bu(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Un(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),x(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Ri(this,O,f),g=fn(this.I),Ge(g,"RID",l),Ge(g,"CVER",22),this.D&&Ge(g,"X-HTTP-Session-Id",this.D),Lr(this,g),j&&(this.O?f="headers="+encodeURIComponent(String(Or(j)))+"&"+f:this.m&&Ci(g,this.m,j)),Ba(this.h,O),this.Ua&&Ge(g,"TYPE","init"),this.P?(Ge(g,"$req",f),Ge(g,"SID","null"),O.T=!0,ho(O,g,null)):ho(O,g,f),this.G=2}}else this.G==3&&(l?wo(this,l):this.i.length==0||dn(this.h)||wo(this))};function wo(l,f){var g;f?g=f.l:g=l.U++;const w=fn(l.I);Ge(w,"SID",l.K),Ge(w,"RID",g),Ge(w,"AID",l.T),Lr(l,w),l.m&&l.o&&Ci(w,l.m,l.o),g=new Un(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Ri(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ba(l.h,g),ho(g,w,f)}function Lr(l,f){l.H&&ke(l.H,function(g,w){Ge(f,w,g)}),l.l&&Ei({},function(g,w){Ge(f,w,g)})}function Ri(l,f,g){g=Math.min(l.i.length,g);var w=l.l?k(l.l.Na,l.l,l):null;e:{var O=l.i;let j=-1;for(;;){const Z=["count="+g];j==-1?0<g?(j=O[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let We=!0;for(let At=0;At<g;At++){let Me=O[At].g;const Pt=O[At].map;if(Me-=j,0>Me)j=Math.max(0,O[At].g-100),We=!1;else try{Uu(Pt,Z,"req"+Me+"_")}catch{w&&w(Pt)}}if(We){w=Z.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,w}function gs(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Oe||ne(),ee||(Oe(),ee=!0),he.add(f,l),l.v=0}}function Eo(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ln(k(l.Fa,l),Bu(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ln(k(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),qn(this),zu(this))};function Ka(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function zu(l){l.g=new Un(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=fn(l.qa);Ge(f,"RID","rpc"),Ge(f,"SID",l.K),Ge(f,"AID",l.T),Ge(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ge(f,"TO",l.ja),Ge(f,"TYPE","xmlhttp"),Lr(l,f),l.m&&l.o&&Ci(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Si(fn(f)),g.m=null,g.P=!0,ja(g,l)}i.Za=function(){this.C!=null&&(this.C=null,qn(this),Eo(this),dt(19))};function To(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Io(l,f){var g=null;if(l.g==f){To(l),Ka(l),l.g=null;var w=2}else if(Qt(l.h,f))g=f.D,bu(l.h,f),w=1;else return;if(l.G!=0){if(f.o)if(w==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var O=l.B;w=os(),He(w,new ao(w,g)),hr(l)}else gs(l);else if(O=f.s,O==3||O==0&&0<f.X||!(w==1&&Vd(l,f)||w==2&&Eo(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),O){case 1:Mr(l,5);break;case 4:Mr(l,10);break;case 3:Mr(l,6);break;default:Mr(l,2)}}}function Bu(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Mr(l,f){if(l.j.info("Error code "+f),f==2){var g=k(l.fb,l),w=l.Xa;const O=!w;w=new Vr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fs(w,"https"),Si(w),O?xd(w.toString(),g):Fu(w.toString(),g)}else dt(2);l.G=0,l.l&&l.l.sa(f),$u(l),vo(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function $u(l){if(l.G=0,l.ka=[],l.l){const f=Vu(l.h);(f.length!=0||l.i.length!=0)&&(W(l.ka,f),W(l.ka,l.i),l.h.i.length=0,J(l.i),l.i.length=0),l.l.ra()}}function qu(l,f,g){var w=g instanceof Vr?fn(g):new Vr(g);if(w.g!="")f&&(w.g=f+"."+w.g),Ti(w,w.s);else{var O=m.location;w=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var j=new Vr(null);w&&fs(j,w),f&&(j.g=f),O&&Ti(j,O),g&&(j.l=g),w=j}return g=l.D,f=l.ya,g&&f&&Ge(w,g,f),Ge(w,"VER",l.la),Lr(l,w),w}function Hu(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new rt(new Dr({eb:g})):new rt(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qa(){}i=Qa.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function So(){}So.prototype.g=function(l,f){return new Yt(l,f)};function Yt(l,f){qe.call(this),this.g=new Ga(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!ge(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ge(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new dr(this)}Q(Yt,qe),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Ft(this.g)},Yt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=ba(l),l=g);f.i.push(new xu(f.Ya++,l)),f.G==3&&hr(f)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,Yt.aa.N.call(this)};function Wu(l){or.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}Q(Wu,or);function Gu(){oo.call(this),this.status=1}Q(Gu,oo);function dr(l){this.g=l}Q(dr,Qa),dr.prototype.ua=function(){He(this.g,"a")},dr.prototype.ta=function(l){He(this.g,new Wu(l))},dr.prototype.sa=function(l){He(this.g,new Gu)},dr.prototype.ra=function(){He(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,zm=function(){return new So},jm=function(){return os()},Um=ar,wh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,Fl=uo,ku.COMPLETE="complete",Fm=ku,so.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",qe.prototype.listen=qe.prototype.K,oa=so,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,Mm=rt}).apply(typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{});const Bm="@firebase/firestore",$m="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Gc("@firebase/firestore");function Us(){return Qi.logLevel}function ie(i,...e){if(Qi.logLevel<=xe.DEBUG){const t=e.map(Eh);Qi.debug(`Firestore (${Fs}): ${i}`,...t)}}function Ar(i,...e){if(Qi.logLevel<=xe.ERROR){const t=e.map(Eh);Qi.error(`Firestore (${Fs}): ${i}`,...t)}}function js(i,...e){if(Qi.logLevel<=xe.WARN){const t=e.map(Eh);Qi.warn(`Firestore (${Fs}): ${i}`,...t)}}function Eh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,qm(i,s,t)}function qm(i,e,t){let s=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ar(s),new Error(s)}function Be(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||qm(e,o,s)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class PI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xI{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let u=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new kr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new kr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new Hm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class NI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new NI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const s=u=>{u.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ie("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function Ih(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Sh(o)===Sh(u)?Ne(o,u):Sh(o)?1:-1}return Ne(i.length,e.length)}const OI=55296,LI=57343;function Sh(i){const e=i.charCodeAt(0);return e>=OI&&e<=LI}function zs(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="__name__";class Zn{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Zn.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ne(e.length,t.length)}static compareSegments(e,t){const s=Zn.isNumericId(e),o=Zn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Zn.extractNumericId(e).compare(Zn.extractNumericId(t)):Ih(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ei.fromString(e.substring(4,e.length-2))}}class Ke extends Zn{construct(e,t,s){return new Ke(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ke(t)}static emptyPath(){return new Ke([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Zn{construct(e,t,s){return new Vt(e,t,s)}static isValidIdentifier(e){return MI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gm}static keyField(){return new Vt([Gm])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Ke.fromString(e))}static fromName(e){return new de(Ke.fromString(e).popFirst(5))}static empty(){return new de(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(i,e,t){if(!t)throw new te(B.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FI(i,e,t,s){if(e===!0&&s===!0)throw new te(B.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Qm(i){if(!de.isDocumentKey(i))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ym(i){if(de.isDocumentKey(i))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xm(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ul(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function cn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ul(i);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(i,e){const t={typeString:i};return e&&(t.value=e),t}function aa(i,e){if(!Xm(i))throw new te(B.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new te(B.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-62135596800,Zm=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Zm);return new Je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jm)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zm}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(aa(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:mt("string",Je._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Je(0,0))}static max(){return new Te(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=-1;function UI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new Je(t+1,0):new Je(t,s));return new ti(o,de.empty(),e)}function jI(i){return new ti(i.readTime,i.key,la)}class ti{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ti(Te.min(),de.empty(),la)}static max(){return new ti(Te.max(),de.empty(),la)}}function zI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(i.documentKey,e.documentKey),t!==0?t:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(i){if(i.code!==B.FAILED_PRECONDITION||i.message!==BI)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,s)=>{t(e)})}static reject(e){return new q((t,s)=>{s(e)})}static waitFor(e){return new q((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},y=>s(y))}),h=!0,u===o&&t()})}static or(e){let t=q.resolve(!1);for(const s of e)t=t.next(o=>o?q.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new q((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const _=y;t(e[_]).next(E=>{h[_]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new q((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function qI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $s(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jl.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function zl(i){return i==null}function Bl(i){return i===0&&1/i==-1/0}function HI(i){return typeof i=="number"&&Number.isInteger(i)&&!Bl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="";function WI(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=tg(e)),e=GI(i.get(t),e);return tg(e)}function GI(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case eg:t+="";break;default:t+=u}}return t}function tg(i){return i+eg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ni(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function rg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Dt.RED,this.left=o??Dt.EMPTY,this.right=u??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Dt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1,Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ig(this.data.getIterator())}getIteratorFrom(e){return new ig(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class ig{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new hn([])}unionWith(e){let t=new Tt(Vt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sg("Invalid base64 string: "+u):u}}(e);return new Ot(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const KI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(i){if(Be(!!i,39018),typeof i=="string"){let e=0;const t=KI.exec(i);if(Be(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ct(i.seconds),nanos:ct(i.nanos)}}function ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ii(i){return typeof i=="string"?Ot.fromBase64String(i):Ot.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="server_timestamp",ag="__type__",lg="__previous_value__",ug="__local_write_time__";function kh(i){return(i?.mapValue?.fields||{})[ag]?.stringValue===og}function ql(i){const e=i.mapValue.fields[lg];return kh(e)?ql(e):e}function ua(i){const e=ri(i.mapValue.fields[ug].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t,s,o,u,h,m,y,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Hl="(default)";class ca{constructor(e,t){this.projectId=e,this.database=t||Hl}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database===Hl}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="__type__",YI="__max__",Wl={mapValue:{}},hg="__vector__",Gl="value";function si(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kh(i)?4:JI(i)?9007199254740991:XI(i)?10:11:_e(28295,{value:i})}function er(i,e){if(i===e)return!0;const t=si(i);if(t!==si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ua(i).isEqual(ua(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ri(o.timestampValue),m=ri(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ii(o.bytesValue).isEqual(ii(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ct(o.geoPointValue.latitude)===ct(u.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ct(o.integerValue)===ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ct(o.doubleValue),m=ct(u.doubleValue);return h===m?Bl(h)===Bl(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(ng(h)!==ng(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!er(h[y],m[y])))return!1;return!0}(i,e);default:return _e(52216,{left:i})}}function ha(i,e){return(i.values||[]).find(t=>er(t,e))!==void 0}function qs(i,e){if(i===e)return 0;const t=si(i),s=si(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=ct(u.integerValue||u.doubleValue),y=ct(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return dg(i.timestampValue,e.timestampValue);case 4:return dg(ua(i),ua(e));case 5:return Ih(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ii(u),y=ii(h);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),y=h.split("/");for(let _=0;_<m.length&&_<y.length;_++){const E=Ne(m[_],y[_]);if(E!==0)return E}return Ne(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ne(ct(u.latitude),ct(h.latitude));return m!==0?m:Ne(ct(u.longitude),ct(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return fg(i.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},y=h.fields||{},_=m[Gl]?.arrayValue,E=y[Gl]?.arrayValue,C=Ne(_?.values?.length||0,E?.values?.length||0);return C!==0?C:fg(_,E)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Wl.mapValue&&h===Wl.mapValue)return 0;if(u===Wl.mapValue)return 1;if(h===Wl.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),_=h.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let C=0;C<y.length&&C<E.length;++C){const k=Ih(y[C],E[C]);if(k!==0)return k;const z=qs(m[y[C]],_[E[C]]);if(z!==0)return z}return Ne(y.length,E.length)}(i.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function dg(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const t=ri(i),s=ri(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function fg(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=qs(t[o],s[o]);if(u)return u}return Ne(t.length,s.length)}function Hs(i){return Ch(i)}function Ch(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ri(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ii(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return de.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Ch(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ch(t.fields[h])}`;return o+"}"}(i.mapValue):_e(61005,{value:i})}function Kl(i){switch(si(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ql(i);return e?16+Kl(e):16;case 5:return 2*i.stringValue.length;case 6:return ii(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Kl(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ni(s.fields,(u,h)=>{o+=u.length+Kl(h)}),o}(i.mapValue);default:throw _e(13486,{value:i})}}function pg(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Rh(i){return!!i&&"integerValue"in i}function Ph(i){return!!i&&"arrayValue"in i}function mg(i){return!!i&&"nullValue"in i}function gg(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ql(i){return!!i&&"mapValue"in i}function XI(i){return(i?.mapValue?.fields||{})[cg]?.stringValue===hg}function da(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ni(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=da(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=da(i.arrayValue.values[t]);return e}return{...i}}function JI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===YI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ql(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(t)}setAll(e){let t=Vt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=da(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ql(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ql(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ni(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new en(da(this.value))}}function yg(i){const e=[];return ni(i.fields,(t,s)=>{const o=new Vt([t]);if(Ql(s)){const u=yg(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,Te.min(),Te.min(),Te.min(),en.empty(),0)}static newFoundDocument(e,t,s,o){return new $t(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Te.min(),Te.min(),en.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Te.min(),Te.min(),en.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t){this.position=e,this.inclusive=t}}function _g(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),t.key):s=qs(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vg(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!er(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{}class gt extends wg{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new t1(e,t,s):t==="array-contains"?new i1(e,s):t==="in"?new s1(e,s):t==="not-in"?new o1(e,s):t==="array-contains-any"?new a1(e,s):new gt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new n1(e,s):new r1(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(qs(t,this.value)):t!==null&&si(this.value)===si(t)&&this.matchesComparison(qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends wg{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Vn(e,t)}matches(e){return Eg(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Eg(i){return i.op==="and"}function Tg(i){return e1(i)&&Eg(i)}function e1(i){for(const e of i.filters)if(e instanceof Vn)return!1;return!0}function xh(i){if(i instanceof gt)return i.field.canonicalString()+i.op.toString()+Hs(i.value);if(Tg(i))return i.filters.map(e=>xh(e)).join(",");{const e=i.filters.map(t=>xh(t)).join(",");return`${i.op}(${e})`}}function Ig(i,e){return i instanceof gt?function(s,o){return o instanceof gt&&s.op===o.op&&s.field.isEqual(o.field)&&er(s.value,o.value)}(i,e):i instanceof Vn?function(s,o){return o instanceof Vn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&Ig(h,o.filters[m]),!0):!1}(i,e):void _e(19439)}function Sg(i){return i instanceof gt?function(t){return`${t.field.canonicalString()} ${t.op} ${Hs(t.value)}`}(i):i instanceof Vn?function(t){return t.op.toString()+" {"+t.getFilters().map(Sg).join(" ,")+"}"}(i):"Filter"}class t1 extends gt{constructor(e,t,s){super(e,t,s),this.key=de.fromName(s.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class n1 extends gt{constructor(e,t){super(e,"in",t),this.keys=Ag("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r1 extends gt{constructor(e,t){super(e,"not-in",t),this.keys=Ag("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ag(i,e){return(e.arrayValue?.values||[]).map(t=>de.fromName(t.referenceValue))}class i1 extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ph(t)&&ha(t.arrayValue,this.value)}}class s1 extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ha(this.value.arrayValue,t)}}class o1 extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ha(this.value.arrayValue,t)}}class a1 extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ph(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ha(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function kg(i,e=null,t=[],s=[],o=null,u=null,h=null){return new l1(i,e,t,s,o,u,h)}function Nh(i){const e=Ie(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>xh(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),zl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Hs(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Hs(s)).join(",")),e.Te=t}return e.Te}function bh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ZI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Ig(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!vg(i.startAt,e.startAt)&&vg(i.endAt,e.endAt)}function Vh(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u1(i,e,t,s,o,u,h,m){return new Ws(i,e,t,s,o,u,h,m)}function Xl(i){return new Ws(i)}function Cg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Rg(i){return i.collectionGroup!==null}function pa(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Tt(Vt.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fa(u,s))}),t.has(Vt.keyField().canonicalString())||e.Ie.push(new fa(Vt.keyField(),s))}return e.Ie}function tr(i){const e=Ie(i);return e.Ee||(e.Ee=c1(e,pa(i))),e.Ee}function c1(i,e){if(i.limitType==="F")return kg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new fa(o.field,u)});const t=i.endAt?new Yl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Yl(i.startAt.position,i.startAt.inclusive):null;return kg(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Dh(i,e){const t=i.filters.concat([e]);return new Ws(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Oh(i,e,t){return new Ws(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Jl(i,e){return bh(tr(i),tr(e))&&i.limitType===e.limitType}function Pg(i){return`${Nh(tr(i))}|lt:${i.limitType}`}function Gs(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Sg(o)).join(", ")}]`),zl(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Hs(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Hs(o)).join(",")),`Target(${s})`}(tr(i))}; limitType=${i.limitType})`}function Zl(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of pa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,y){const _=_g(h,m,y);return h.inclusive?_<=0:_<0}(s.startAt,pa(s),o)||s.endAt&&!function(h,m,y){const _=_g(h,m,y);return h.inclusive?_>=0:_>0}(s.endAt,pa(s),o))}(i,e)}function h1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xg(i){return(e,t)=>{let s=!1;for(const o of pa(i)){const u=d1(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function d1(i,e,t){const s=i.field.isKeyField()?de.comparator(e.key,t.key):function(u,h,m){const y=h.data.field(u),_=m.data.field(u);return y!==null&&_!==null?qs(y,_):_e(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return rg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new st(de.comparator);function Cr(){return f1}const Ng=new st(de.comparator);function ma(...i){let e=Ng;for(const t of i)e=e.insert(t.key,t);return e}function bg(i){let e=Ng;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Xi(){return ga()}function Vg(){return ga()}function ga(){return new Yi(i=>i.toString(),(i,e)=>i.isEqual(e))}const p1=new st(de.comparator),m1=new Tt(de.comparator);function be(...i){let e=m1;for(const t of i)e=e.add(t);return e}const g1=new Tt(Ne);function y1(){return g1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function Dg(i){return{integerValue:""+i}}function _1(i,e){return HI(e)?Dg(e):Lh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this._=void 0}}function v1(i,e,t){return i instanceof ya?function(o,u){const h={fields:{[ag]:{stringValue:og},[ug]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kh(u)&&(u=ql(u)),u&&(h.fields[lg]=u),{mapValue:h}}(t,e):i instanceof _a?Lg(i,e):i instanceof va?Mg(i,e):function(o,u){const h=Og(o,u),m=Fg(h)+Fg(o.Ae);return Rh(h)&&Rh(o.Ae)?Dg(m):Lh(o.serializer,m)}(i,e)}function w1(i,e,t){return i instanceof _a?Lg(i,e):i instanceof va?Mg(i,e):t}function Og(i,e){return i instanceof tu?function(s){return Rh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ya extends eu{}class _a extends eu{constructor(e){super(),this.elements=e}}function Lg(i,e){const t=Ug(e);for(const s of i.elements)t.some(o=>er(o,s))||t.push(s);return{arrayValue:{values:t}}}class va extends eu{constructor(e){super(),this.elements=e}}function Mg(i,e){let t=Ug(e);for(const s of i.elements)t=t.filter(o=>!er(o,s));return{arrayValue:{values:t}}}class tu extends eu{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Fg(i){return ct(i.integerValue||i.doubleValue)}function Ug(i){return Ph(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t){this.field=e,this.transform=t}}function T1(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof _a&&o instanceof _a||s instanceof va&&o instanceof va?zs(s.elements,o.elements,er):s instanceof tu&&o instanceof tu?er(s.Ae,o.Ae):s instanceof ya&&o instanceof ya}(i.transform,e.transform)}class I1{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ru{}function jg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Hg(i.key,Dn.none()):new Ea(i.key,i.data,Dn.none());{const t=i.data,s=en.empty();let o=new Tt(Vt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new oi(i.key,s,new hn(o.toArray()),Dn.none())}}function S1(i,e,t){i instanceof Ea?function(o,u,h){const m=o.value.clone(),y=$g(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof oi?function(o,u,h){if(!nu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=$g(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(Bg(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function wa(i,e,t,s){return i instanceof Ea?function(u,h,m,y){if(!nu(u.precondition,h))return m;const _=u.value.clone(),E=qg(u.fieldTransforms,y,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,t,s):i instanceof oi?function(u,h,m,y){if(!nu(u.precondition,h))return m;const _=qg(u.fieldTransforms,y,h),E=h.data;return E.setAll(Bg(u)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(C=>C.field))}(i,e,t,s):function(u,h,m){return nu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function A1(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Og(s.transform,o||null);u!=null&&(t===null&&(t=en.empty()),t.set(s.field,u))}return t||null}function zg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zs(s,o,(u,h)=>T1(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ea extends ru{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oi extends ru{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Bg(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function $g(i,e,t){const s=new Map;Be(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,w1(h,m,t[o]))}return s}function qg(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,v1(u,h,e))}return s}class Hg extends ru{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k1 extends ru{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&S1(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=wa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=wa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Vg();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const y=jg(h,m);y!==null&&s.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(t,s)=>zg(t,s))&&zs(this.baseMutations,e.baseMutations,(t,s)=>zg(t,s))}}class Mh{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return p1}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Mh(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,De;function x1(i){switch(i){case B.OK:return _e(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function Wg(i){if(i===void 0)return Ar("GRPC error has no .code"),B.UNKNOWN;switch(i){case yt.OK:return B.OK;case yt.CANCELLED:return B.CANCELLED;case yt.UNKNOWN:return B.UNKNOWN;case yt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case yt.INTERNAL:return B.INTERNAL;case yt.UNAVAILABLE:return B.UNAVAILABLE;case yt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case yt.NOT_FOUND:return B.NOT_FOUND;case yt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case yt.ABORTED:return B.ABORTED;case yt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case yt.DATA_LOSS:return B.DATA_LOSS;default:return _e(39323,{code:i})}}(De=yt||(yt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new ei([4294967295,4294967295],0);function Gg(i){const e=N1().encode(i),t=new Lm;return t.update(e),new Uint8Array(t.digest())}function Kg(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ei([t,s],0),new ei([o,u],0)]}class Fh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ta(`Invalid padding: ${t}`);if(s<0)throw new Ta(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ta(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ta(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ei.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ei.fromNumber(s)));return o.compare(b1)===1&&(o=new ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Gg(e),[s,o]=Kg(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Fh(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=Gg(e),[s,o]=Kg(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new iu(Te.min(),o,new st(Ne),Cr(),be())}}class Ia{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ia(s,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class Qg{constructor(e,t){this.targetId=e,this.Ce=t}}class Yg{constructor(e,t,s=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Xg{constructor(){this.ve=0,this.Fe=Jg(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),t=be(),s=be();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}}),new Ia(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Jg()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V1{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cr(),this.Je=ou(),this.He=ou(),this.Ye=new st(Ne)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Vh(u))if(s===0){const h=new de(u.path);this.et(t,h,$t.newNoDocument(h,Te.min()))}else Be(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(t);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,_)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=ii(s).toUint8Array()}catch(y){if(y instanceof sg)return js("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Fh(h,o,u)}catch(y){return js(y instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Vh(m.target)){const y=new de(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,$t.newNoDocument(y,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let s=be();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new iu(e,t,this.Ye,this.je,s);return this.je=Cr(),this.Je=ou(),this.He=ou(),this.Ye=new st(Ne),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Xg,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Tt(Ne),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Tt(Ne),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xg),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ou(){return new st(de.comparator)}function Jg(){return new st(de.comparator)}const D1={asc:"ASCENDING",desc:"DESCENDING"},O1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L1={and:"AND",or:"OR"};class M1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uh(i,e){return i.useProto3Json||zl(e)?e:{value:e}}function au(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function F1(i,e){return au(i,e.toTimestamp())}function nr(i){return Be(!!i,49232),Te.fromTimestamp(function(t){const s=ri(t);return new Je(s.seconds,s.nanos)}(i))}function jh(i,e){return zh(i,e).canonicalString()}function zh(i,e){const t=function(o){return new Ke(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function ey(i){const e=Ke.fromString(i);return Be(oy(e),10190,{key:e.toString()}),e}function Bh(i,e){return jh(i.databaseId,e.path)}function $h(i,e){const t=ey(e);if(t.get(1)!==i.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new de(ny(t))}function ty(i,e){return jh(i.databaseId,e)}function U1(i){const e=ey(i);return e.length===4?Ke.emptyPath():ny(e)}function qh(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ny(i){return Be(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ry(i,e,t){return{name:Bh(i,e),fields:t.value.mapValue.fields}}function j1(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(Be(E===void 0||typeof E=="string",58123),Ot.fromBase64String(E||"")):(Be(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ot.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const E=_.code===void 0?B.UNKNOWN:Wg(_.code);return new te(E,_.message||"")}(h);t=new Yg(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$h(i,s.document.name),u=nr(s.document.updateTime),h=s.document.createTime?nr(s.document.createTime):Te.min(),m=new en({mapValue:{fields:s.document.fields}}),y=$t.newFoundDocument(o,u,h,m),_=s.targetIds||[],E=s.removedTargetIds||[];t=new su(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$h(i,s.document),u=s.readTime?nr(s.readTime):Te.min(),h=$t.newNoDocument(o,u),m=s.removedTargetIds||[];t=new su([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$h(i,s.document),u=s.removedTargetIds||[];t=new su([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new P1(o,u),m=s.targetId;t=new Qg(m,h)}}return t}function z1(i,e){let t;if(e instanceof Ea)t={update:ry(i,e.key,e.value)};else if(e instanceof Hg)t={delete:Bh(i,e.key)};else if(e instanceof oi)t={update:ry(i,e.key,e.data),updateMask:Y1(e.fieldMask)};else{if(!(e instanceof k1))return _e(16599,{Vt:e.type});t={verify:Bh(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof ya)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _a)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof va)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof tu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:F1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)}(i,e.precondition)),t}function B1(i,e){return i&&i.length>0?(Be(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?nr(o.updateTime):nr(u);return h.isEqual(Te.min())&&(h=nr(u)),new I1(h,o.transformResults||[])}(t,e))):[]}function $1(i,e){return{documents:[ty(i,e.path)]}}function q1(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=ty(i,o);const u=function(_){if(_.length!==0)return sy(Vn.create(_,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(E=>function(k){return{field:Ks(k.field),direction:G1(k.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Uh(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:t,parent:o}}function H1(i){let e=U1(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Be(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(C){const k=iy(C);return k instanceof Vn&&Tg(k)?k.getFilters():[k]}(t.where));let h=[];t.orderBy&&(h=function(C){return C.map(k=>function(Q){return new fa(Qs(Q.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(k))}(t.orderBy));let m=null;t.limit&&(m=function(C){let k;return k=typeof C=="object"?C.value:C,zl(k)?null:k}(t.limit));let y=null;t.startAt&&(y=function(C){const k=!!C.before,z=C.values||[];return new Yl(z,k)}(t.startAt));let _=null;return t.endAt&&(_=function(C){const k=!C.before,z=C.values||[];return new Yl(z,k)}(t.endAt)),u1(e,o,h,u,m,"F",y,_)}function W1(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iy(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Qs(t.unaryFilter.field);return gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qs(t.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qs(t.unaryFilter.field);return gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qs(t.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(i):i.fieldFilter!==void 0?function(t){return gt.create(Qs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Vn.create(t.compositeFilter.filters.map(s=>iy(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(t.compositeFilter.op))}(i):_e(30097,{filter:i})}function G1(i){return D1[i]}function K1(i){return O1[i]}function Q1(i){return L1[i]}function Ks(i){return{fieldPath:i.canonicalString()}}function Qs(i){return Vt.fromServerFormat(i.fieldPath)}function sy(i){return i instanceof gt?function(t){if(t.op==="=="){if(gg(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NAN"}};if(mg(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gg(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NAN"}};if(mg(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(t.field),op:K1(t.op),value:t.value}}}(i):i instanceof Vn?function(t){const s=t.getFilters().map(o=>sy(o));return s.length===1?s[0]:{compositeFilter:{op:Q1(t.op),filters:s}}}(i):_e(54877,{filter:i})}function Y1(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t,s,o,u=Te.min(),h=Te.min(),m=Ot.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.yt=e}}function J1(i){const e=H1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Oh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.Cn=new eS}addToCollectionParentIndex(e,t){return this.Cn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(ti.min())}updateCollectionGroup(e,t,s){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class eS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Tt(Ke.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Tt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ly=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(ly,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ys(0)}static cr(){return new Ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="LruGarbageCollector",tS=1048576;function cy([i,e],[t,s]){const o=Ne(i,t);return o===0?Ne(e,s):o}class nS{constructor(e){this.Ir=e,this.buffer=new Tt(cy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();cy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(uy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$s(t)?ie(uy,"Ignoring IndexedDB error during garbage collection: ",t):await Bs(t)}await this.Vr(3e5)})}}class iS{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return q.resolve(jl.ce);const s=new nS(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(ay)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ay):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,m,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,h=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,t))).next(C=>(u=C,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(_=Date.now(),Us()<=xe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${C} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C})))}}function sS(i,e){return new iS(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.changes=new Yi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&wa(s.mutation,o,hn.empty(),Je.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,be()).next(()=>s))}getLocalViewOfDocuments(e,t,s=be()){const o=Xi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ma();return u.forEach((m,y)=>{h=h.insert(m,y.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Xi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,be()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=Cr();const h=ga(),m=function(){return ga()}();return t.forEach((y,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof oi)?u=u.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),wa(E.mutation,_,E.mutation.getFieldMask(),Je.now())):h.set(_.key,hn.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((_,E)=>h.set(_,E)),t.forEach((_,E)=>m.set(_,new aS(E,h.get(_)??null))),m))}recalculateAndSaveOverlays(e,t){const s=ga();let o=new st((h,m)=>h-m),u=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(y=>{const _=t.get(y);if(_===null)return;let E=s.get(y)||hn.empty();E=m.applyToLocalView(_,E),s.set(y,E);const C=(o.get(m.batchId)||be()).add(y);o=o.insert(m.batchId,C)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,E=y.value,C=Vg();E.forEach(k=>{if(!u.has(k)){const z=jg(t.get(k),s.get(k));z!==null&&C.set(k,z),u=u.add(k)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,C))}return q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):q.resolve(Xi());let m=la,y=u;return h.next(_=>q.forEach(_,(E,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),u.get(E)?q.resolve():this.remoteDocumentCache.getEntry(e,E).next(k=>{y=y.insert(E,k)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,y,_,be())).next(E=>({batchId:m,changes:bg(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next(s=>{let o=ma();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ma();return this.indexManager.getCollectionParents(e,u).next(m=>q.forEach(m,y=>{const _=function(C,k){return new Ws(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(t,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(E=>{E.forEach((C,k)=>{h=h.insert(C,k)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((y,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,$t.newInvalidDocument(E)))});let m=ma();return h.forEach((y,_)=>{const E=u.get(y);E!==void 0&&wa(E.mutation,_,hn.empty(),Je.now()),Zl(t,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:J1(o.bundledQuery),readTime:nr(o.readTime)}}(t)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.overlays=new st(de.comparator),this.qr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Xi();return q.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),q.resolve()}getOverlaysForCollection(e,t,s){const o=Xi(),u=t.length+1,h=new de(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new st((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=Xi(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=Xi(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=o)););return q.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new R1(t,s));let u=this.qr.get(t);u===void 0&&(u=be(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this.Qr=new Tt(Rt.$r),this.Ur=new Tt(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Rt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Rt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new de(new Ke([])),s=new Rt(t,e),o=new Rt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new de(new Ke([])),s=new Rt(t,e),o=new Rt(t,e+1);let u=be();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Rt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Rt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return de.comparator(e.key,t.key)||Ne(e.Yr,t.Yr)}static Kr(e,t){return Ne(e.Yr,t.Yr)||de.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(Rt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new C1(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Rt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return q.resolve(h)}lookupMutationBatch(e,t){return q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?Ah:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Tt(Ne);return t.forEach(o=>{const u=new Rt(o,0),h=new Rt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),q.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new Rt(new de(u),0);let m=new Tt(Ne);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(y.Yr)),!0)},h),q.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return q.forEach(t.mutations,o=>{const u=new Rt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Rt(t,0),o=this.Zr.firstAfterOrEqual(s);return q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.ri=e,this.docs=function(){return new st(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return q.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let s=Cr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Cr();const h=t.path,m=new de(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||zI(jI(E),s)<=0||(o.has(E.key)||Zl(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return q.resolve(u)}getAllFromCollectionGroup(e,t,s,o){_e(9500)}ii(e,t){return q.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new pS(this)}getSize(e){return q.resolve(this.size)}}class pS extends oS{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.persistence=e,this.si=new Yi(t=>Nh(t),bh),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Hh,this.targetCount=0,this.ai=Ys.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ys(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Pr(t),q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),q.waitFor(u).next(()=>o)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return q.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),q.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return q.resolve(s)}containsKey(e,t){return q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t){this.ui={},this.overlays={},this.ci=new jl(0),this.li=!1,this.li=!0,this.hi=new hS,this.referenceDelegate=e(this),this.Pi=new mS(this),this.indexManager=new Z1,this.remoteDocumentCache=function(o){return new fS(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new X1(t),this.Ii=new uS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new dS(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ie("MemoryPersistence","Starting transaction:",e);const o=new gS(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return q.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class gS extends $I{constructor(e){super(),this.currentSequenceNumber=e}}class Wh{constructor(e){this.persistence=e,this.Ri=new Hh,this.Vi=null}static mi(e){return new Wh(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),q.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,s=>{const o=de.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,Te.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return q.or([()=>q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lu{constructor(e,t){this.persistence=e,this.pi=new Yi(s=>WI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sS(this,t)}static mi(e,t){return new lu(e,t)}Ei(){}di(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return q.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?q.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),q.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kl(e.data.value)),t}br(e,t,s){return q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return q.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=be(),o=be();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gh(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Gw()?8:qI(zt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new yS;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,t,h,m.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(Us()<=xe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Gs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Us()<=xe.DEBUG&&ie("QueryEngine","Query:",Gs(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Us()<=xe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Gs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):q.resolve())}ys(e,t){if(Cg(t))return q.resolve(null);let s=tr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Oh(t,null,"F"),s=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=be(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.Ds(t,m);return this.Cs(t,_,h,y.readTime)?this.ys(e,Oh(t,null,"F")):this.vs(e,_,t,y)}))})))}ws(e,t,s,o){return Cg(t)||o.isEqual(Te.min())?q.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?q.resolve(null):(Us()<=xe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(t)),this.vs(e,h,t,UI(o,la)).next(m=>m))})}Ds(e,t){let s=new Tt(xg(e));return t.forEach((o,u)=>{Zl(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return Us()<=xe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Gs(t)),this.ps.getDocumentsMatchingQuery(e,t,ti.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="LocalStore",vS=3e8;class wS{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new st(Ne),this.xs=new Yi(u=>Nh(u),bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ES(i,e,t,s){return new wS(i,e,t,s)}async function dy(i,e){const t=Ie(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let y=be();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:h,addedBatchIds:m}))})})}function TS(i,e){const t=Ie(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,_,E){const C=_.batch,k=C.keys();let z=q.resolve();return k.forEach(Q=>{z=z.next(()=>E.getEntry(y,Q)).next(J=>{const W=_.docVersions.get(Q);Be(W!==null,48541),J.version.compareTo(W)<0&&(C.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),E.addEntry(J)))})}),z.next(()=>m.mutationQueue.removeMutationBatch(y,C))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=be();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function fy(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function IS(i,e){const t=Ie(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((E,C)=>{const k=o.get(C);if(!k)return;m.push(t.Pi.removeMatchingKeys(u,E.removedDocuments,C).next(()=>t.Pi.addMatchingKeys(u,E.addedDocuments,C)));let z=k.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?z=z.withResumeToken(Ot.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),o=o.insert(C,z),function(J,W,fe){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=vS?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0}(k,z,E)&&m.push(t.Pi.updateTargetData(u,z))});let y=Cr(),_=be();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(SS(u,h,e.documentUpdates).next(E=>{y=E.ks,_=E.qs})),!s.isEqual(Te.min())){const E=t.Pi.getLastRemoteSnapshotVersion(u).next(C=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return q.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(t.Ms=o,u))}function SS(i,e,t){let s=be(),o=be();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Cr();return t.forEach((m,y)=>{const _=u.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):ie(Kh,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{ks:h,qs:o}})}function AS(i,e){const t=Ie(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ah),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kS(i,e){const t=Ie(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,q.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new ai(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Qh(i,e,t){const s=Ie(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!$s(h))throw h;ie(Kh,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function py(i,e,t){const s=Ie(i);let o=Te.min(),u=be();return s.persistence.runTransaction("Execute query","readwrite",h=>function(y,_,E){const C=Ie(y),k=C.xs.get(E);return k!==void 0?q.resolve(C.Ms.get(k)):C.Pi.getTargetData(_,E)}(s,h,tr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?u:be())).next(m=>(CS(s,h1(e),m),{documents:m,Qs:u})))}function CS(i,e,t){let s=i.Os.get(e)||Te.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class my{constructor(){this.activeTargetIds=y1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RS{constructor(){this.Mo=new my,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new my,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="ConnectivityMonitor";class yy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(gy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(gy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu=null;function Yh(){return uu===null?uu=function(){return 268435456+Math.round(2147483648*Math.random())}():uu++,"0x"+uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="RestConnection",xS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Hl?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Yh(),m=this.zo(e,t.toUriEncodedString());ie(Xh,`Sending RPC '${e}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(m),E=xs(_);return this.Jo(e,m,y,s,E).then(C=>(ie(Xh,`Received RPC '${e}' ${h}: `,C),C),C=>{throw js(Xh,`RPC '${e}' ${h} failed with error: `,C,"url: ",m,"request:",s),C})}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=xS[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class VS extends NS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Yh();return new Promise((m,y)=>{const _=new Mm;_.setWithCredentials(!0),_.listenOnce(Fm.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Fl.NO_ERROR:const C=_.getResponseJson();ie(qt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(C)),m(C);break;case Fl.TIMEOUT:ie(qt,`RPC '${e}' ${h} timed out`),y(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case Fl.HTTP_ERROR:const k=_.getStatus();if(ie(qt,`RPC '${e}' ${h} failed with status:`,k,"response text:",_.getResponseText()),k>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const Q=z?.error;if(Q&&Q.status&&Q.message){const J=function(fe){const ge=fe.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(ge)>=0?ge:B.UNKNOWN}(Q.status);y(new te(J,Q.message))}else y(new te(B.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new te(B.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ie(qt,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);ie(qt,`RPC '${e}' ${h} sending request:`,o),_.send(t,"POST",E,s,15)})}T_(e,t,s){const o=Yh(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=zm(),m=jm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ie(qt,`Creating RPC '${e}' stream ${o}: ${E}`,y);const C=h.createWebChannel(E,y);this.I_(C);let k=!1,z=!1;const Q=new bS({Yo:W=>{z?ie(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(k||(ie(qt,`Opening RPC '${e}' stream ${o} transport.`),C.open(),k=!0),ie(qt,`RPC '${e}' stream ${o} sending:`,W),C.send(W))},Zo:()=>C.close()}),J=(W,fe,ge)=>{W.listen(fe,ve=>{try{ge(ve)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return J(C,oa.EventType.OPEN,()=>{z||(ie(qt,`RPC '${e}' stream ${o} transport opened.`),Q.o_())}),J(C,oa.EventType.CLOSE,()=>{z||(z=!0,ie(qt,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(C))}),J(C,oa.EventType.ERROR,W=>{z||(z=!0,js(qt,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),Q.a_(new te(B.UNAVAILABLE,"The operation could not be completed")))}),J(C,oa.EventType.MESSAGE,W=>{if(!z){const fe=W.data[0];Be(!!fe,16349);const ge=fe,ve=ge?.error||ge[0]?.error;if(ve){ie(qt,`RPC '${e}' stream ${o} received error:`,ve);const Pe=ve.status;let Qe=function(T){const A=yt[T];if(A!==void 0)return Wg(A)}(Pe),ke=ve.message;Qe===void 0&&(Qe=B.INTERNAL,ke="Unknown error status: "+Pe+" with message "+ve.message),z=!0,Q.a_(new te(Qe,ke)),C.close()}else ie(qt,`RPC '${e}' stream ${o} received:`,fe),Q.u_(fe)}}),J(m,Um.STAT_EVENT,W=>{W.stat===wh.PROXY?ie(qt,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===wh.NOPROXY&&ie(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Q.__()},0),Q}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){return new M1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="PersistentStream";class wy{constructor(e,t,s,o,u,h,m,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _y(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new te(B.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(vy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ie(vy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DS extends wy{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=j1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?nr(h.readTime):Te.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=qh(this.serializer),t.addTarget=function(u,h){let m;const y=h.target;if(m=Vh(y)?{documents:$1(u,y)}:{query:q1(u,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Zg(u,h.resumeToken);const _=Uh(u,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=au(u,h.snapshotVersion.toTimestamp());const _=Uh(u,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=W1(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=qh(this.serializer),t.removeTarget=e,this.q_(t)}}class OS extends wy{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=B1(e.writeResults,e.commitTime),s=nr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=qh(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>z1(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{}class MS extends LS{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,zh(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new te(B.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,zh(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new te(B.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(t),this.aa=!1):ie("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="RemoteStore";class US{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{Zi(this)&&(ie(Ji,"Restarting streams for network reachability change."),await async function(y){const _=Ie(y);_.Ea.add(4),await Sa(_),_.Ra.set("Unknown"),_.Ea.delete(4),await hu(_)}(this))})}),this.Ra=new FS(s,o)}}async function hu(i){if(Zi(i))for(const e of i.da)await e(!0)}async function Sa(i){for(const e of i.da)await e(!1)}function Ey(i,e){const t=Ie(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),nd(t)?td(t):Xs(t).O_()&&ed(t,e))}function Zh(i,e){const t=Ie(i),s=Xs(t);t.Ia.delete(e),s.O_()&&Ty(t,e),t.Ia.size===0&&(s.O_()?s.L_():Zi(t)&&t.Ra.set("Unknown"))}function ed(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xs(i).Y_(e)}function Ty(i,e){i.Va.Ue(e),Xs(i).Z_(e)}function td(i){i.Va=new V1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Xs(i).start(),i.Ra.ua()}function nd(i){return Zi(i)&&!Xs(i).x_()&&i.Ia.size>0}function Zi(i){return Ie(i).Ea.size===0}function Iy(i){i.Va=void 0}async function jS(i){i.Ra.set("Online")}async function zS(i){i.Ia.forEach((e,t)=>{ed(i,e)})}async function BS(i,e){Iy(i),nd(i)?(i.Ra.ha(e),td(i)):i.Ra.set("Unknown")}async function $S(i,e,t){if(i.Ra.set("Online"),e instanceof Yg&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){ie(Ji,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await du(i,s)}else if(e instanceof su?i.Va.Ze(e):e instanceof Qg?i.Va.st(e):i.Va.tt(e),!t.isEqual(Te.min()))try{const s=await fy(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(y.resumeToken,h))}}),m.targetMismatches.forEach((y,_)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Ot.EMPTY_BYTE_STRING,E.snapshotVersion)),Ty(u,y);const C=new ai(E.target,y,_,E.sequenceNumber);ed(u,C)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ie(Ji,"Failed to raise snapshot:",s),await du(i,s)}}async function du(i,e,t){if(!$s(e))throw e;i.Ea.add(1),await Sa(i),i.Ra.set("Offline"),t||(t=()=>fy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ie(Ji,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await hu(i)})}function Sy(i,e){return e().catch(t=>du(i,t,e))}async function fu(i){const e=Ie(i),t=li(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ah;for(;qS(e);)try{const o=await AS(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,HS(e,o)}catch(o){await du(e,o)}Ay(e)&&ky(e)}function qS(i){return Zi(i)&&i.Ta.length<10}function HS(i,e){i.Ta.push(e);const t=li(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Ay(i){return Zi(i)&&!li(i).x_()&&i.Ta.length>0}function ky(i){li(i).start()}async function WS(i){li(i).ra()}async function GS(i){const e=li(i);for(const t of i.Ta)e.ea(t.mutations)}async function KS(i,e,t){const s=i.Ta.shift(),o=Mh.from(s,e,t);await Sy(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await fu(i)}async function QS(i,e){e&&li(i).X_&&await async function(s,o){if(function(h){return x1(h)&&h!==B.ABORTED}(o.code)){const u=s.Ta.shift();li(s).B_(),await Sy(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await fu(s)}}(i,e),Ay(i)&&ky(i)}async function Cy(i,e){const t=Ie(i);t.asyncQueue.verifyOperationInProgress(),ie(Ji,"RemoteStore received new credentials");const s=Zi(t);t.Ea.add(3),await Sa(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await hu(t)}async function YS(i,e){const t=Ie(i);e?(t.Ea.delete(2),await hu(t)):e||(t.Ea.add(2),await Sa(t),t.Ra.set("Unknown"))}function Xs(i){return i.ma||(i.ma=function(t,s,o){const u=Ie(t);return u.sa(),new DS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:jS.bind(null,i),t_:zS.bind(null,i),r_:BS.bind(null,i),H_:$S.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),nd(i)?td(i):i.Ra.set("Unknown")):(await i.ma.stop(),Iy(i))})),i.ma}function li(i){return i.fa||(i.fa=function(t,s,o){const u=Ie(t);return u.sa(),new OS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:WS.bind(null,i),r_:QS.bind(null,i),ta:GS.bind(null,i),na:KS.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await fu(i)):(await i.fa.stop(),i.Ta.length>0&&(ie(Ji,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new rd(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function id(i,e){if(Ar("AsyncQueue",`${e}: ${i}`),$s(i))return new te(B.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||de.comparator(t.key,s.key):(t,s)=>de.comparator(t.key,s.key),this.keyedMap=ma(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.ga=new st(de.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Zs{constructor(e,t,s,o,u,h,m,y,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Zs(e,t,Js.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JS{constructor(){this.queries=Py(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ie(t),u=o.queries;o.queries=Py(),u.forEach((h,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function Py(){return new Yi(i=>Pg(i),Jl)}async function sd(i,e){const t=Ie(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new XS,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=id(h,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&ad(t)}async function od(i,e){const t=Ie(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function ZS(i,e){const t=Ie(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ad(t)}function eA(i,e,t){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function ad(i){i.Ca.forEach(e=>{e.next()})}var ld,xy;(xy=ld||(ld={})).Ma="default",xy.Cache="cache";class ud{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Zs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.key=e}}class by{constructor(e){this.key=e}}class tA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=xg(e),this.tu=new Js(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Ry,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,C)=>{const k=o.get(E),z=Zl(this.query,C)?C:null,Q=!!k&&this.mutatedKeys.has(k.key),J=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let W=!1;k&&z?k.data.isEqual(z.data)?Q!==J&&(s.track({type:3,doc:z}),W=!0):this.su(k,z)||(s.track({type:2,doc:z}),W=!0,(y&&this.eu(z,y)>0||_&&this.eu(z,_)<0)&&(m=!0)):!k&&z?(s.track({type:0,doc:z}),W=!0):k&&!z&&(s.track({type:1,doc:k}),W=!0,(y||_)&&(m=!0)),W&&(z?(h=h.add(z),u=J?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((E,C)=>function(z,Q){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:W})}};return J(z)-J(Q)}(E.type,C.type)||this.eu(E.doc,C.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,h.length!==0||_?{snapshot:new Zs(this.query,e.tu,u,h,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ry,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new by(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new Ny(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cd="SyncEngine";class nA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class rA{constructor(e){this.key=e,this.hu=!1}}class iA{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Yi(m=>Pg(m),Jl),this.Iu=new Map,this.Eu=new Set,this.du=new st(de.comparator),this.Au=new Map,this.Ru=new Hh,this.Vu={},this.mu=new Map,this.fu=Ys.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sA(i,e,t=!0){const s=jy(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Vy(s,e,t,!0),o}async function oA(i,e){const t=jy(i);await Vy(t,e,!0,!1)}async function Vy(i,e,t,s){const o=await kS(i.localStore,tr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await aA(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Ey(i.remoteStore,o),m}async function aA(i,e,t,s,o){i.pu=(C,k,z)=>async function(J,W,fe,ge){let ve=W.view.ru(fe);ve.Cs&&(ve=await py(J.localStore,W.query,!1).then(({documents:N})=>W.view.ru(N,ve)));const Pe=ge&&ge.targetChanges.get(W.targetId),Qe=ge&&ge.targetMismatches.get(W.targetId)!=null,ke=W.view.applyChanges(ve,J.isPrimaryClient,Pe,Qe);return Uy(J,W.targetId,ke.au),ke.snapshot}(i,C,k,z);const u=await py(i.localStore,e,!0),h=new tA(e,u.Qs),m=h.ru(u.documents),y=Ia.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),_=h.applyChanges(m,i.isPrimaryClient,y);Uy(i,t,_.au);const E=new nA(e,t,h);return i.Tu.set(e,E),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),_.snapshot}async function lA(i,e,t){const s=Ie(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!Jl(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qh(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Zh(s.remoteStore,o.targetId),hd(s,o.targetId)}).catch(Bs)):(hd(s,o.targetId),await Qh(s.localStore,o.targetId,!0))}async function uA(i,e){const t=Ie(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Zh(t.remoteStore,s.targetId))}async function cA(i,e,t){const s=yA(i);try{const o=await function(h,m){const y=Ie(h),_=Je.now(),E=m.reduce((z,Q)=>z.add(Q.key),be());let C,k;return y.persistence.runTransaction("Locally write mutations","readwrite",z=>{let Q=Cr(),J=be();return y.Ns.getEntries(z,E).next(W=>{Q=W,Q.forEach((fe,ge)=>{ge.isValidDocument()||(J=J.add(fe))})}).next(()=>y.localDocuments.getOverlayedDocuments(z,Q)).next(W=>{C=W;const fe=[];for(const ge of m){const ve=A1(ge,C.get(ge.key).overlayedDocument);ve!=null&&fe.push(new oi(ge.key,ve,yg(ve.value.mapValue),Dn.exists(!0)))}return y.mutationQueue.addMutationBatch(z,_,fe,m)}).next(W=>{k=W;const fe=W.applyToLocalDocumentSet(C,J);return y.documentOverlayCache.saveOverlays(z,W.batchId,fe)})}).then(()=>({batchId:k.batchId,changes:bg(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,y){let _=h.Vu[h.currentUser.toKey()];_||(_=new st(Ne)),_=_.insert(m,y),h.Vu[h.currentUser.toKey()]=_}(s,o.batchId,t),await Aa(s,o.changes),await fu(s.remoteStore)}catch(o){const u=id(o,"Failed to persist write");t.reject(u)}}async function Dy(i,e){const t=Ie(i);try{const s=await IS(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Be(h.hu,14607):o.removedDocuments.size>0&&(Be(h.hu,42227),h.hu=!1))}),await Aa(t,s,e)}catch(s){await Bs(s)}}function Oy(i,e,t){const s=Ie(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const y=Ie(h);y.onlineState=m;let _=!1;y.queries.forEach((E,C)=>{for(const k of C.Sa)k.va(m)&&(_=!0)}),_&&ad(y)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hA(i,e,t){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new st(de.comparator);h=h.insert(u,$t.newNoDocument(u,Te.min()));const m=be().add(u),y=new iu(Te.min(),new Map,new st(Ne),h,m);await Dy(s,y),s.du=s.du.remove(u),s.Au.delete(e),dd(s)}else await Qh(s.localStore,e,!1).then(()=>hd(s,e,t)).catch(Bs)}async function dA(i,e){const t=Ie(i),s=e.batch.batchId;try{const o=await TS(t.localStore,e);My(t,s,null),Ly(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Aa(t,o)}catch(o){await Bs(o)}}async function fA(i,e,t){const s=Ie(i);try{const o=await function(h,m){const y=Ie(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return y.mutationQueue.lookupMutationBatch(_,m).next(C=>(Be(C!==null,37113),E=C.keys(),y.mutationQueue.removeMutationBatch(_,C))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>y.localDocuments.getDocuments(_,E))})}(s.localStore,e);My(s,e,t),Ly(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Aa(s,o)}catch(o){await Bs(o)}}function Ly(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function My(i,e,t){const s=Ie(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function hd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||Fy(i,s)})}function Fy(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Zh(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),dd(i))}function Uy(i,e,t){for(const s of t)s instanceof Ny?(i.Ru.addReference(s.key,e),pA(i,s)):s instanceof by?(ie(cd,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Fy(i,s.key)):_e(19791,{wu:s})}function pA(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ie(cd,"New document in limbo: "+t),i.Eu.add(s),dd(i))}function dd(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new de(Ke.fromString(e)),s=i.fu.next();i.Au.set(s,new rA(t)),i.du=i.du.insert(t,s),Ey(i.remoteStore,new ai(tr(Xl(t.path)),s,"TargetPurposeLimboResolution",jl.ce))}}async function Aa(i,e,t){const s=Ie(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{h.push(s.pu(y,e,t).then(_=>{if((_||t)&&s.isPrimaryClient){const E=_?!_.fromCache:t?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Gh.As(y.targetId,_);u.push(E)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(y,_){const E=Ie(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>q.forEach(_,k=>q.forEach(k.Es,z=>E.persistence.referenceDelegate.addReference(C,k.targetId,z)).next(()=>q.forEach(k.ds,z=>E.persistence.referenceDelegate.removeReference(C,k.targetId,z)))))}catch(C){if(!$s(C))throw C;ie(Kh,"Failed to update sequence numbers: "+C)}for(const C of _){const k=C.targetId;if(!C.fromCache){const z=E.Ms.get(k),Q=z.snapshotVersion,J=z.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(k,J)}}}(s.localStore,u))}async function mA(i,e){const t=Ie(i);if(!t.currentUser.isEqual(e)){ie(cd,"User change. New user:",e.toKey());const s=await dy(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new te(B.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Aa(t,s.Ls)}}function gA(i,e){const t=Ie(i),s=t.Au.get(e);if(s&&s.hu)return be().add(s.key);{let o=be();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function jy(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hA.bind(null,e),e.Pu.H_=ZS.bind(null,e.eventManager),e.Pu.yu=eA.bind(null,e.eventManager),e}function yA(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fA.bind(null,e),e}class pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ES(this.persistence,new _S,e.initialUser,this.serializer)}Cu(e){return new hy(Wh.mi,this.serializer)}Du(e){return new RS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pu.provider={build:()=>new pu};class _A extends pu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof lu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rS(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new hy(s=>lu.mi(s,t),this.serializer)}}class fd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Oy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mA.bind(null,this.syncEngine),await YS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JS}()}createDatastore(e){const t=cu(e.databaseInfo.databaseId),s=function(u){return new VS(u)}(e.databaseInfo);return function(u,h,m,y){return new MS(u,h,m,y)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new US(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Oy(this.syncEngine,t,0),function(){return yy.v()?new yy:new PS}())}createSyncEngine(e,t){return function(o,u,h,m,y,_,E){const C=new iA(o,u,h,m,y,_);return E&&(C.gu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ie(t);ie(Ji,"RemoteStore shutting down."),s.Ea.add(5),await Sa(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="FirestoreClient";class vA{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=Th.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ie(ui,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ie(ui,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=id(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function md(i,e){i.asyncQueue.verifyOperationInProgress(),ie(ui,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await dy(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function zy(i,e){i.asyncQueue.verifyOperationInProgress();const t=await wA(i);ie(ui,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>Cy(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>Cy(e.remoteStore,o)),i._onlineComponents=e}async function wA(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie(ui,"Using user provided OfflineComponentProvider");try{await md(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===B.FAILED_PRECONDITION||o.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;js("Error using user provided cache. Falling back to memory cache: "+t),await md(i,new pu)}}else ie(ui,"Using default OfflineComponentProvider"),await md(i,new _A(void 0));return i._offlineComponents}async function By(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie(ui,"Using user provided OnlineComponentProvider"),await zy(i,i._uninitializedComponentsProvider._online)):(ie(ui,"Using default OnlineComponentProvider"),await zy(i,new fd))),i._onlineComponents}function EA(i){return By(i).then(e=>e.syncEngine)}async function mu(i){const e=await By(i),t=e.eventManager;return t.onListen=sA.bind(null,e.syncEngine),t.onUnlisten=lA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uA.bind(null,e.syncEngine),t}function TA(i,e,t={}){const s=new kr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,y,_){const E=new pd({next:k=>{E.Nu(),h.enqueueAndForget(()=>od(u,C));const z=k.docs.has(m);!z&&k.fromCache?_.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&k.fromCache&&y&&y.source==="server"?_.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),C=new ud(Xl(m.path),E,{includeMetadataChanges:!0,qa:!0});return sd(u,C)}(await mu(i),i.asyncQueue,e,t,s)),s.promise}function IA(i,e,t={}){const s=new kr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,y,_){const E=new pd({next:k=>{E.Nu(),h.enqueueAndForget(()=>od(u,C)),k.fromCache&&y.source==="server"?_.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),C=new ud(m,E,{includeMetadataChanges:!0,qa:!0});return sd(u,C)}(await mu(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="firestore.googleapis.com",Wy=!0;class Gy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hy,this.ssl=Wy}else this.host=e.host,this.ssl=e.ssl??Wy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ly;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tS)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$y(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gu{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new RI;switch(s.type){case"firstParty":return new bI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=qy.get(t);s&&(ie("ComponentProvider","Removing Datastore"),qy.delete(t),s.terminate())}(this),Promise.resolve()}}function SA(i,e,t,s={}){i=cn(i,gu);const o=xs(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(yp(`https://${m}`),vp("Firestore",!0)),u.host!==Hy&&u.host!==m&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!$i(y,h)&&(i._setSettings(y),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=Bt.MOCK_USER;else{_=Fw(s.mockUserToken,i._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Bt(C)}i._authCredentials=new PI(new Hm(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class lt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}toJSON(){return{type:lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(aa(t,lt._jsonSchema))return new lt(e,s||null,new de(Ke.fromString(t.referencePath)))}}lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:mt("string",lt._jsonSchemaVersion),referencePath:mt("string")};class hi extends ci{constructor(e,t,s){super(e,t,Xl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new de(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function Rr(i,e,...t){if(i=pt(i),Km("collection","path",e),i instanceof gu){const s=Ke.fromString(e,...t);return Ym(s),new hi(i,null,s)}{if(!(i instanceof lt||i instanceof hi))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...t));return Ym(s),new hi(i.firestore,null,s)}}function Pr(i,e,...t){if(i=pt(i),arguments.length===1&&(e=Th.newId()),Km("doc","path",e),i instanceof gu){const s=Ke.fromString(e,...t);return Qm(s),new lt(i,null,new de(s))}{if(!(i instanceof lt||i instanceof hi))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...t));return Qm(s),new lt(i.firestore,i instanceof hi?i.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="AsyncQueue";class Qy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _y(this,"async_queue_retry"),this._c=()=>{const s=Jh();s&&ie(Ky,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Jh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new kr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$s(e))throw e;ie(Ky,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",Yy(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=rd.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:Yy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Yy(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class di extends gu{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Qy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qy(e),this._firestoreClient=void 0,await e}}}function AA(i,e){const t=typeof i=="object"?i:Pp(),s=typeof i=="string"?i:Hl,o=rh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Lw("firestore");u&&SA(o,...u)}return o}function yu(i){if(i._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||kA(i),i._firestoreClient}function kA(i){const e=i._freezeSettings(),t=function(o,u,h,m){return new QI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$y(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new vA(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(Ot.fromBase64String(e))}catch(t){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(aa(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:mt("string",wn._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(aa(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:mt("string",rr._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(aa(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ir(e.vectorValues);throw new te(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:mt("string",ir._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=/^__.*__$/;class RA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ea(e,this.data,t,this.fieldTransforms)}}class Jy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new oi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:i})}}class gd{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zy(this.Ac)&&CA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||cu(e)}Cc(e,t,s,o=!1){return new gd({Ac:e,methodName:t,Dc:s,path:Vt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(i){const e=i._freezeSettings(),t=cu(i._databaseId);return new PA(i._databaseId,!!e.ignoreUndefinedProperties,t)}function e_(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);_d("Data must be an object, but it was:",h,s);const m=t_(s,h);let y,_;if(u.merge)y=new hn(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const C of u.mergeFields){const k=vd(e,C,t);if(!h.contains(k))throw new te(B.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);r_(E,k)||E.push(k)}y=new hn(E),_=h.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,_=h.fieldTransforms;return new RA(new en(m),y,_)}class Eu extends vu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eu}}class yd extends vu{_toFieldTransform(e){return new E1(e.path,new ya)}isEqual(e){return e instanceof yd}}function xA(i,e,t,s){const o=i.Cc(1,e,t);_d("Data must be an object, but it was:",o,s);const u=[],h=en.empty();ni(s,(y,_)=>{const E=wd(e,y,t);_=pt(_);const C=o.yc(E);if(_ instanceof Eu)u.push(E);else{const k=ka(_,C);k!=null&&(u.push(E),h.set(E,k))}});const m=new hn(u);return new Jy(h,m,o.fieldTransforms)}function NA(i,e,t,s,o,u){const h=i.Cc(1,e,t),m=[vd(e,s,t)],y=[o];if(u.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<u.length;k+=2)m.push(vd(e,u[k])),y.push(u[k+1]);const _=[],E=en.empty();for(let k=m.length-1;k>=0;--k)if(!r_(_,m[k])){const z=m[k];let Q=y[k];Q=pt(Q);const J=h.yc(z);if(Q instanceof Eu)_.push(z);else{const W=ka(Q,J);W!=null&&(_.push(z),E.set(z,W))}}const C=new hn(_);return new Jy(E,C,h.fieldTransforms)}function bA(i,e,t,s=!1){return ka(t,i.Cc(s?4:3,e))}function ka(i,e){if(n_(i=pt(i)))return _d("Unsupported field value:",e,i),t_(i,e);if(i instanceof vu)return function(s,o){if(!Zy(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let y=ka(m,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:au(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:au(o.serializer,u)}}if(s instanceof rr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wn)return{bytesValue:Zg(o.serializer,s._byteString)};if(s instanceof lt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jh(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ir)return function(h,m){return{mapValue:{fields:{[cg]:{stringValue:hg},[Gl]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return Lh(m.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Ul(s)}`)}(i,e)}function t_(i,e){const t={};return rg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(i,(s,o)=>{const u=ka(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function n_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Je||i instanceof rr||i instanceof wn||i instanceof lt||i instanceof vu||i instanceof ir)}function _d(i,e,t){if(!n_(t)||!Xm(t)){const s=Ul(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function vd(i,e,t){if((e=pt(e))instanceof _u)return e._internalPath;if(typeof e=="string")return wd(i,e);throw Tu("Field path arguments must be of type string or ",i,!1,void 0,t)}const VA=new RegExp("[~\\*/\\[\\]]");function wd(i,e,t){if(e.search(VA)>=0)throw Tu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new _u(...e.split("."))._internalPath}catch{throw Tu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Tu(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${s}`),h&&(y+=` in document ${o}`),y+=")"),new te(B.INVALID_ARGUMENT,m+i+y)}function r_(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Iu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DA extends i_{data(){return super.data()}}function Iu(i,e){return typeof e=="string"?wd(i,e):e instanceof _u?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ed{}class o_ extends Ed{}function eo(i,e,...t){let s=[];e instanceof Ed&&s.push(e),s=s.concat(t),function(u){const h=u.filter(y=>y instanceof Td).length,m=u.filter(y=>y instanceof Su).length;if(h>1||h>0&&m>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Su extends o_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Su(e,t,s)}_apply(e){const t=this._parse(e);return u_(e._query,t),new ci(e.firestore,e.converter,Dh(e._query,t))}_parse(e){const t=wu(e.firestore);return function(u,h,m,y,_,E,C){let k;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){l_(C,E);const Q=[];for(const J of C)Q.push(a_(y,u,J));k={arrayValue:{values:Q}}}else k=a_(y,u,C)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||l_(C,E),k=bA(m,h,C,E==="in"||E==="not-in");return gt.create(_,E,k)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fi(i,e,t){const s=e,o=Iu("where",i);return Su._create(o,s,t)}class Td extends Ed{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Td(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const y of m)u_(h,y),h=Dh(h,y)}(e._query,t),new ci(e.firestore,e.converter,Dh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Id extends o_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Id(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fa(u,h)}(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ws(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function OA(i,e="asc"){const t=e,s=Iu("orderBy",i);return Id._create(s,t)}function a_(i,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rg(e)&&t.indexOf("/")!==-1)throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ke.fromString(t));if(!de.isDocumentKey(s))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pg(i,new de(s))}if(t instanceof lt)return pg(i,t._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ul(t)}.`)}function l_(i,e){if(!Array.isArray(i)||i.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u_(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LA{convertValue(e,t="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ni(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){const t=e.fields?.[Gl].arrayValue?.values?.map(s=>ct(s.doubleValue));return new ir(t)}convertGeoPoint(e){return new rr(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ql(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const t=ri(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ke.fromString(e);Be(oy(s),9688,{name:e});const o=new ca(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(t)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Ca{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class es extends i_{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Iu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=es._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}es._jsonSchemaVersion="firestore/documentSnapshot/1.0",es._jsonSchema={type:mt("string",es._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class Au extends es{data(e={}){return super.data(e)}}class ts{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ca(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Au(this._firestore,this._userDataWriter,s.key,s,new Ca(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const y=new Au(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ca(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new Au(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ca(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:MA(m.type),doc:y,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ts._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Th.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MA(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(i){i=cn(i,lt);const e=cn(i.firestore,di);return TA(yu(e),i._key).then(t=>h_(e,i,t))}ts._jsonSchemaVersion="firestore/querySnapshot/1.0",ts._jsonSchema={type:mt("string",ts._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class Sd extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,t)}}function UA(i){i=cn(i,ci);const e=cn(i.firestore,di),t=yu(e),s=new Sd(e);return s_(i._query),IA(t,i._query).then(o=>new ts(e,s,i,o))}function jA(i,e,t){i=cn(i,lt);const s=cn(i.firestore,di),o=c_(i.converter,e);return kd(s,[e_(wu(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Dn.none())])}function to(i,e,t,...s){i=cn(i,lt);const o=cn(i.firestore,di),u=wu(o);let h;return h=typeof(e=pt(e))=="string"||e instanceof _u?NA(u,"updateDoc",i._key,e,t,s):xA(u,"updateDoc",i._key,e),kd(o,[h.toMutation(i._key,Dn.exists(!0))])}function Ad(i,e){const t=cn(i.firestore,di),s=Pr(i),o=c_(i.converter,e);return kd(t,[e_(wu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then(()=>s)}function Ra(i,...e){i=pt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Xy(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Xy(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let u,h,m;if(i instanceof lt)h=cn(i.firestore,di),m=Xl(i._key.path),u={next:y=>{e[s]&&e[s](h_(h,i,y))},error:e[s+1],complete:e[s+2]};else{const y=cn(i,ci);h=cn(y.firestore,di),m=y._query;const _=new Sd(h);u={next:E=>{e[s]&&e[s](new ts(h,_,y,E))},error:e[s+1],complete:e[s+2]},s_(i._query)}return function(_,E,C,k){const z=new pd(k),Q=new ud(E,z,C);return _.asyncQueue.enqueueAndForget(async()=>sd(await mu(_),Q)),()=>{z.Nu(),_.asyncQueue.enqueueAndForget(async()=>od(await mu(_),Q))}}(yu(h),m,o,u)}function kd(i,e){return function(s,o){const u=new kr;return s.asyncQueue.enqueueAndForget(async()=>cA(await EA(s),o,u)),u.promise}(yu(i),e)}function h_(i,e,t){const s=t.docs.get(e._key),o=new Sd(i);return new es(i,o,e._key,s,new Ca(t.hasPendingWrites,t.fromCache),e.converter)}function no(){return new yd("serverTimestamp")}(function(e,t=!0){(function(o){Fs=o})(bs),Ns(new qi("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new di(new xI(s.getProvider("auth-internal")),new VI(h,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(_.options.projectId,E)}(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kr(Bm,$m,e),Kr(Bm,$m,"esm2020")})();const d_=Rp({apiKey:"AIzaSyCcBIzOTbW0R8vmO_vINpf7UNLqDHY-zOE",authDomain:"vibechat-677a6.firebaseapp.com",projectId:"vibechat-677a6",storageBucket:"vibechat-677a6.firebasestorage.app",messagingSenderId:"70333439409",appId:"1:70333439409:web:f1096cc50597cd5501f190"}),pi=kI(d_),Lt=AA(d_);function zA(){const[i,e]=je.useState(null),[t,s]=je.useState(null),[o,u]=je.useState([]),[h,m]=je.useState(null),[y,_]=je.useState([]),[E,C]=je.useState(""),[k,z]=je.useState(!0),[Q,J]=je.useState(!0),[W,fe]=je.useState(!1),[ge,ve]=je.useState(""),[Pe,Qe]=je.useState(!1),[ke,N]=je.useState(null),[T,A]=je.useState(null),[x,b]=je.useState(null),[V,S]=je.useState(null),Ze=je.useRef(null),_t=je.useRef(null),It=je.useRef(null),[Oe,ee]=je.useState(""),[he,ne]=je.useState(""),[D,$]=je.useState(""),[ce,Ae]=je.useState(""),[Se,Ce]=je.useState("male");je.useEffect(()=>{const H=gT(pi,async ae=>{if(ae)if(ae.emailVerified){e(ae);const Ee=await FA(Pr(Lt,"users",ae.uid));if(Ee.exists()){const nt={id:ae.uid,...Ee.data()};s(nt),await to(Pr(Lt,"users",ae.uid),{isOnline:!0,lastSeen:no()})}fe(!1)}else ae&&!ae.emailVerified&&(fe(!0),ve(ae.email||""),e(null),s(null));else e(null),s(null),fe(!1);J(!1)});return()=>H()},[]),je.useEffect(()=>{if(!t)return;const H=eo(Rr(Lt,"users")),ae=Ra(H,Ee=>{const qe=Ee.docs.map(He=>({id:He.id,...He.data()})).filter(He=>He.id!==t.id).filter(He=>t.gender==="male"?He.gender==="female"||He.gender==="other":t.gender==="female"?He.gender==="male"||He.gender==="other":!0);u(qe)});return()=>ae()},[t]),je.useEffect(()=>{if(!h||!t)return;const H=eo(Rr(Lt,"messages"),OA("timestamp","asc")),ae=Ra(H,Ee=>{const St=Ee.docs.map(qe=>({id:qe.id,...qe.data()})).filter(qe=>qe.senderId===t.id&&qe.receiverId===h||qe.senderId===h&&qe.receiverId===t.id);_(St)});return()=>ae()},[h,t]),je.useEffect(()=>{if(!t)return;const H=eo(Rr(Lt,"videoCalls"),fi("receiverId","==",t.id),fi("status","==","pending")),ae=Ra(H,Ee=>{if(!Ee.empty){const nt={id:Ee.docs[0].id,...Ee.docs[0].data()};N(nt)}});return()=>ae()},[t]),je.useEffect(()=>{It.current?.scrollIntoView({behavior:"smooth"})},[y]);const Fe={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},Le=()=>{const H=new RTCPeerConnection(Fe);return H.onicecandidate=ae=>{ae.candidate&&h&&Ad(Rr(Lt,"iceCandidates"),{candidate:ae.candidate,callId:h,senderId:t?.id,timestamp:no()})},H.ontrack=ae=>{b(ae.streams[0]),_t.current&&(_t.current.srcObject=ae.streams[0])},H},$e=async()=>{try{const H=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});return A(H),Ze.current&&(Ze.current.srcObject=H),H}catch(H){return console.error("Error accessing media devices:",H),alert("Could not access camera/microphone. Please check permissions."),null}};je.useEffect(()=>{if(!t||!Pe)return;const H=eo(Rr(Lt,"iceCandidates"),fi("callId","==",h),fi("senderId","!=",t.id)),ae=Ra(H,Ee=>{Ee.docChanges().forEach(nt=>{if(nt.type==="added"&&V){const St=nt.doc.data();V.addIceCandidate(new RTCIceCandidate(St.candidate))}})});return()=>ae()},[t,Pe,h,V]),je.useEffect(()=>{if(!t)return;const H=eo(Rr(Lt,"videoCalls"),fi("receiverId","==",t.id)),ae=Ra(H,async Ee=>{Ee.docChanges().forEach(async nt=>{if(nt.type==="modified"){const St={id:nt.doc.id,...nt.doc.data()};St.status==="pending"&&St.offer&&!ke?N(St):St.status==="active"&&St.answer&&V&&await V.setRemoteDescription(new RTCSessionDescription(St.answer))}})});return()=>ae()},[t,V,ke]),je.useEffect(()=>()=>{T&&T.getTracks().forEach(H=>H.stop()),V&&V.close()},[]);const vt=async H=>{H.preventDefault();try{console.log(" Starting signup process...");const ae=await dT(pi,Oe,he);console.log(" User created:",ae.user.uid),console.log(" Sending email verification..."),await mm(ae.user),console.log(" Creating user document..."),await jA(Pr(Lt,"users",ae.user.uid),{email:Oe,username:D,gender:Se,age:parseInt(ce),isOnline:!1,lastSeen:no(),avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${D}&backgroundColor=b6e3f4`,emailVerified:!1}),fe(!0),ve(Oe),console.log(" Signup successful! Email verification sent."),ee(""),ne(""),$(""),Ae(""),Ce("male")}catch(ae){console.error(" Signup failed:",ae),console.error("Error code:",ae.code),console.error("Error message:",ae.message);let Ee="Signup failed: ";switch(ae.code){case"auth/email-already-in-use":Ee+="This email is already registered. Try logging in instead.";break;case"auth/weak-password":Ee+="Password should be at least 6 characters.";break;case"auth/invalid-email":Ee+="Please enter a valid email address.";break;case"auth/operation-not-allowed":Ee+="Email/password authentication is not enabled. Please contact support.";break;case"permission-denied":Ee+="Database permission denied. Please check Firestore rules.";break;default:Ee+=ae.message}alert(Ee)}},On=async H=>{H.preventDefault();try{if(console.log(" Starting login process..."),!(await fT(pi,Oe,he)).user.emailVerified){console.log(" Email not verified"),alert("Please verify your email before logging in. Check your inbox for the verification link."),await mh(pi);return}console.log(" Login successful!")}catch(ae){console.error(" Login failed:",ae),console.error("Error code:",ae.code),console.error("Error message:",ae.message);let Ee="Login failed: ";switch(ae.code){case"auth/user-not-found":Ee+="No account found with this email. Please sign up first.";break;case"auth/wrong-password":Ee+="Incorrect password. Please try again.";break;case"auth/invalid-email":Ee+="Please enter a valid email address.";break;case"auth/too-many-requests":Ee+="Too many failed attempts. Please try again later.";break;default:Ee+=ae.message}alert(Ee)}},mi=async()=>{t&&await to(Pr(Lt,"users",t.id),{isOnline:!1,lastSeen:no()}),await mh(pi)},sr=async()=>{try{const H=pi.currentUser;H&&(await mm(H),alert(" Verification email sent! Please check your inbox."))}catch(H){console.error("Error resending verification email:",H),alert("Failed to resend verification email. Please try again.")}},xr=async()=>{try{const H=pi.currentUser;H&&(await H.reload(),H.emailVerified?(await to(Pr(Lt,"users",H.uid),{emailVerified:!0,isOnline:!0}),fe(!1),alert(" Email verified successfully! Welcome to VibeChat!"),window.location.reload()):alert(" Email not verified yet. Please check your inbox and click the verification link."))}catch(H){console.error("Error checking verification status:",H),alert("Failed to check verification status. Please try again.")}},gi=async H=>{H.preventDefault(),!(!E.trim()||!h||!t)&&(await Ad(Rr(Lt,"messages"),{text:E.trim(),senderId:t.id,receiverId:h,timestamp:no(),read:!1}),C(""))},yi=async H=>{if(t)try{const ae=await $e();if(!ae)return;const Ee=Le();S(Ee),ae.getTracks().forEach(St=>{Ee.addTrack(St,ae)});const nt=await Ee.createOffer();await Ee.setLocalDescription(nt),await Ad(Rr(Lt,"videoCalls"),{callerId:t.id,receiverId:H,status:"pending",offer:nt,timestamp:no()}),Qe(!0),alert(" Video call request sent! Waiting for response...")}catch(ae){console.error("Error starting video call:",ae),alert("Failed to start video call. Please try again.")}},ns=async()=>{if(!(!ke||!t))try{const H=await $e();if(!H)return;const ae=Le();S(ae),H.getTracks().forEach(nt=>{ae.addTrack(nt,H)}),await ae.setRemoteDescription(new RTCSessionDescription(ke.offer));const Ee=await ae.createAnswer();await ae.setLocalDescription(Ee),await to(Pr(Lt,"videoCalls",ke.id),{status:"active",answer:Ee}),Qe(!0),N(null),alert(" Video call started!")}catch(H){console.error("Error accepting video call:",H),alert("Failed to accept video call. Please try again.")}},ro=async()=>{ke&&(await to(Pr(Lt,"videoCalls",ke.id),{status:"ended"}),N(null))},_i=async()=>{if(T&&(T.getTracks().forEach(H=>H.stop()),A(null)),V&&(V.close(),S(null)),b(null),Qe(!1),N(null),h&&t){const H=eo(Rr(Lt,"videoCalls"),fi("callerId","in",[t.id,h]),fi("receiverId","in",[t.id,h]),fi("status","==","active"));(await UA(H)).docs.forEach(async Ee=>{await to(Pr(Lt,"videoCalls",Ee.id),{status:"ended"})})}};if(Q)return F.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),F.jsx("p",{className:"text-gray-600",children:"Loading VibeChat..."})]})});if(!i||!t)return W?F.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:F.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-md text-center",children:[F.jsxs("div",{className:"mb-8",children:[F.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center",children:F.jsx("span",{className:"text-3xl",children:""})}),F.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verify Your Email"}),F.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent a verification link to:"}),F.jsx("p",{className:"text-purple-600 font-semibold text-lg mb-6",children:ge}),F.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Click the verification link in your email to activate your VibeChat account. Check your spam folder if you don't see it in your inbox."})]}),F.jsxs("div",{className:"space-y-4",children:[F.jsx("button",{onClick:xr,className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all",children:" I've Verified My Email"}),F.jsx("button",{onClick:sr,className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-600 hover:to-pink-700 transition-all",children:" Resend Verification Email"}),F.jsx("button",{onClick:()=>{mh(pi),fe(!1)},className:"w-full bg-gray-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-600 transition-all",children:" Back to Login"})]}),F.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[F.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:" Why verify your email?"}),F.jsxs("ul",{className:"text-sm text-blue-700 text-left space-y-1",children:[F.jsx("li",{children:" Ensures you're using a real email address"}),F.jsx("li",{children:" Prevents fake accounts from joining"}),F.jsx("li",{children:" Helps recover your account if needed"}),F.jsx("li",{children:" Keeps the VibeChat community safe"})]})]})]})}):F.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 flex items-center justify-center p-4",children:F.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-md",children:[F.jsxs("div",{className:"text-center mb-8",children:[F.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" VibeChat"}),F.jsx("p",{className:"text-gray-600",children:"Connect with your perfect match!"})]}),F.jsxs("div",{className:"flex mb-6",children:[F.jsx("button",{onClick:()=>z(!0),className:`flex-1 py-2 px-4 rounded-l-lg font-medium ${k?"bg-pink-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Login"}),F.jsx("button",{onClick:()=>z(!1),className:`flex-1 py-2 px-4 rounded-r-lg font-medium ${k?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-pink-500 text-white"}`,children:"Sign Up"})]}),F.jsxs("form",{onSubmit:k?On:vt,className:"space-y-4",children:[!k&&F.jsxs(F.Fragment,{children:[F.jsx("input",{type:"text",placeholder:"Username",value:D,onChange:H=>$(H.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0}),F.jsx("input",{type:"number",placeholder:"Age (18+)",value:ce,onChange:H=>Ae(H.target.value),min:"18",max:"100",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0}),F.jsxs("div",{className:"space-y-3",children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"I am:"}),F.jsxs("div",{className:"flex space-x-4",children:[F.jsxs("label",{className:"flex items-center",children:[F.jsx("input",{type:"radio",name:"gender",value:"male",checked:Se==="male",onChange:H=>Ce(H.target.value),className:"mr-2 text-pink-600"}),F.jsx("span",{children:" Male"})]}),F.jsxs("label",{className:"flex items-center",children:[F.jsx("input",{type:"radio",name:"gender",value:"female",checked:Se==="female",onChange:H=>Ce(H.target.value),className:"mr-2 text-pink-600"}),F.jsx("span",{children:" Female"})]}),F.jsxs("label",{className:"flex items-center",children:[F.jsx("input",{type:"radio",name:"gender",value:"other",checked:Se==="other",onChange:H=>Ce(H.target.value),className:"mr-2 text-pink-600"}),F.jsx("span",{children:" Other"})]})]})]})]}),F.jsx("input",{type:"email",placeholder:"Email",value:Oe,onChange:H=>ee(H.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0}),F.jsx("input",{type:"password",placeholder:"Password",value:he,onChange:H=>ne(H.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0}),F.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:from-pink-600 hover:to-purple-700 transition-all",children:k?" Login to VibeChat":" Sign Up & Verify Email"})]}),!k&&F.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:F.jsxs("p",{className:"text-sm text-yellow-800",children:[F.jsx("strong",{children:" Email verification required!"}),F.jsx("br",{}),"After signing up, check your email for a verification link to activate your account."]})})]})});const ht=o.find(H=>H.id===h);return F.jsxs("div",{className:"h-screen bg-gray-100 flex",children:[ke&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:F.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center",children:[F.jsxs("div",{className:"mb-6",children:[F.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-400 to-blue-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:F.jsx("span",{className:"text-3xl",children:""})}),F.jsx("h3",{className:"text-xl font-bold",children:"Incoming Video Call"}),F.jsx("p",{className:"text-gray-600",children:"Someone wants to video chat!"})]}),F.jsxs("div",{className:"flex space-x-4",children:[F.jsx("button",{onClick:ns,className:"flex-1 bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600",children:" Accept"}),F.jsx("button",{onClick:ro,className:"flex-1 bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600",children:" Decline"})]})]})}),Pe&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50",children:F.jsxs("div",{className:"w-full h-full relative",children:[F.jsx("video",{ref:_t,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}}),F.jsx("div",{className:"absolute top-4 right-4 w-48 h-36 bg-gray-900 rounded-lg overflow-hidden border-2 border-white shadow-lg",children:F.jsx("video",{ref:Ze,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}})}),F.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:F.jsxs("div",{className:"flex items-center space-x-4 bg-black bg-opacity-50 rounded-full px-6 py-3",children:[F.jsx("button",{onClick:()=>{if(T){const H=T.getVideoTracks()[0];H&&(H.enabled=!H.enabled)}},className:"p-3 bg-gray-600 hover:bg-gray-700 rounded-full text-white transition-colors",title:"Toggle Camera",children:""}),F.jsx("button",{onClick:()=>{if(T){const H=T.getAudioTracks()[0];H&&(H.enabled=!H.enabled)}},className:"p-3 bg-gray-600 hover:bg-gray-700 rounded-full text-white transition-colors",title:"Toggle Microphone",children:""}),F.jsx("button",{onClick:_i,className:"p-4 bg-red-500 hover:bg-red-600 rounded-full text-white transition-colors",title:"End Call",children:""})]})}),F.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 rounded-lg px-4 py-2",children:F.jsxs("p",{className:"text-white text-sm",children:[" Video Call with ",ht?.username]})}),!x&&F.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center",children:F.jsxs("div",{className:"text-center text-white",children:[F.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),F.jsx("p",{className:"text-lg",children:"Connecting..."}),F.jsxs("p",{className:"text-sm opacity-75",children:["Waiting for ",ht?.username," to join"]})]})})]})}),F.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[F.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-500 to-purple-600",children:F.jsxs("div",{className:"flex items-center justify-between",children:[F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx("img",{className:"h-10 w-10 rounded-full border-2 border-white",src:t.avatar,alt:t.username}),F.jsxs("div",{children:[F.jsx("h2",{className:"text-white font-medium",children:t.username}),F.jsxs("p",{className:"text-pink-100 text-sm",children:[t.gender==="male"?"":t.gender==="female"?"":"",t.age," years old"]})]})]}),F.jsx("button",{onClick:mi,className:"text-white hover:text-pink-200 p-2",children:F.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})}),F.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-50 to-purple-50 border-b",children:F.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[" Showing ",t.gender==="male"?"females & others":t.gender==="female"?"males & others":"all genders"]})}),F.jsx("div",{className:"flex-1 overflow-y-auto",children:F.jsxs("div",{className:"p-4",children:[F.jsxs("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-3",children:["Available (",o.length,")"]}),o.length===0?F.jsxs("div",{className:"text-center py-8",children:[F.jsx("p",{className:"text-gray-500 mb-2",children:"No matches found"}),F.jsx("p",{className:"text-sm text-gray-400",children:"Wait for more people to join!"})]}):F.jsx("div",{className:"space-y-2",children:o.map(H=>F.jsxs("button",{onClick:()=>m(H.id),className:`w-full flex items-center space-x-3 p-3 rounded-lg text-left hover:bg-gray-50 transition-colors ${h===H.id?"bg-pink-50 border border-pink-200":""}`,children:[F.jsxs("div",{className:"relative",children:[F.jsx("img",{className:"h-12 w-12 rounded-full",src:H.avatar,alt:H.username}),F.jsx("span",{className:`absolute bottom-0 right-0 h-3 w-3 rounded-full border-2 border-white ${H.isOnline?"bg-green-400":"bg-gray-400"}`})]}),F.jsxs("div",{className:"flex-1 min-w-0",children:[F.jsx("p",{className:"font-medium text-gray-900 truncate",children:H.username}),F.jsxs("p",{className:"text-sm text-gray-500",children:[H.gender==="male"?"":H.gender==="female"?"":"",H.age," years  ",H.isOnline?"Online":"Offline"]})]}),F.jsx("button",{onClick:ae=>{ae.stopPropagation(),yi(H.id)},className:"p-2 text-pink-600 hover:bg-pink-100 rounded-full",title:"Start video call",children:""})]},H.id))})]})})]}),F.jsx("div",{className:"flex-1 flex flex-col",children:h?F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:F.jsxs("div",{className:"flex items-center justify-between",children:[F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx("img",{className:"h-10 w-10 rounded-full",src:ht?.avatar,alt:ht?.username}),F.jsxs("div",{children:[F.jsx("h3",{className:"text-lg font-medium text-gray-900",children:ht?.username}),F.jsxs("p",{className:"text-sm text-gray-500",children:[ht?.gender==="male"?"":ht?.gender==="female"?"":"",ht?.age," years  ",ht?.isOnline?"Online":"Offline"]})]})]}),F.jsx("button",{onClick:()=>yi(h),className:"bg-gradient-to-r from-green-400 to-blue-500 text-white p-3 rounded-full hover:from-green-500 hover:to-blue-600 transition-colors",children:F.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})}),F.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:y.length===0?F.jsxs("div",{className:"text-center py-12",children:[F.jsx("div",{className:"text-6xl mb-4",children:""}),F.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Start a conversation!"}),F.jsxs("p",{className:"text-gray-500",children:["Send a message to ",ht?.username]})]}):F.jsxs("div",{className:"space-y-4",children:[y.map(H=>F.jsx("div",{className:`flex ${H.senderId===t?.id?"justify-end":"justify-start"}`,children:F.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${H.senderId===t?.id?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"bg-white text-gray-800 border"}`,children:[F.jsx("p",{children:H.text}),F.jsx("p",{className:`text-xs mt-1 ${H.senderId===t?.id?"text-white/70":"text-gray-500"}`,children:H.timestamp?.toDate?.()?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})||"Just now"})]})},H.id)),F.jsx("div",{ref:It})]})}),F.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:F.jsxs("form",{onSubmit:gi,className:"flex space-x-3",children:[F.jsx("input",{type:"text",value:E,onChange:H=>C(H.target.value),placeholder:`Message ${ht?.username}...`,className:"flex-1 px-4 py-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-pink-500 focus:border-transparent"}),F.jsx("button",{type:"submit",disabled:!E.trim(),className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-full hover:from-pink-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:" Send"})]})})]}):F.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"h-16 w-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:F.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),F.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Welcome to VibeChat! "}),F.jsx("p",{className:"text-gray-600 max-w-sm",children:"Select someone from the sidebar to start chatting or video calling!"})]})})})]})}Cw.createRoot(document.getElementById("root")).render(F.jsx(je.StrictMode,{children:F.jsx(zA,{})}))})();
